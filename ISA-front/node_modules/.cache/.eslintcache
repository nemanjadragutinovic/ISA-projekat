[{"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\index.js":"1","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\App.js":"2","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\reportWebVitals.js":"3","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\qrPharmacieswithDrugs.js":"4","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\DermatologistsForPhAdmin.js":"5","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\FutureDrugsReservationsForPatient.js":"6","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\RegistrationPage.js":"7","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\HomePage.js":"8","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\QrCode.js":"9","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AdminPharmacyComplains.js":"10","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Drugs.js":"11","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AdminStaffComplains.js":"12","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\LoginPage.js":"13","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\activateAccount.js":"14","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies.js":"15","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PatientsSubscribedPharmacies.js":"16","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\UserProfile.js":"17","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\HomePageForDermatologistAppointments.js":"18","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\DermatologistFreeAppointment.js":"19","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\FuturePharmaciesConsultationsForPatient.js":"20","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\PatientsProccessedDrugsEReceipts.js":"21","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\PatientsEReceipts.js":"22","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\PharmaciesAppointmentStartPage.js":"23","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\HistoryDermatologistAppointmentsForPatient.js":"24","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\adminRegistration\\RegisterDrug.js":"25","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\FutureDermatologistAppointmentsForPatient.js":"26","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\adminRegistration\\registerStaff.js":"27","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\LoyalityProgram\\LoyalityProgram.js":"28","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\adminRegistration\\RegisterPharmacies.js":"29","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OfferPage.js":"30","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OrdersPage.js":"31","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\ModalDialog.js":"32","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Header.js":"33","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmaciesWithDrugAndPrice.js":"34","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Reservations\\HistoryDrugsReservations.js":"35","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\CreateComplaintModal.js":"36","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\TopBar.js":"37","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\DrugSpecification.js":"38","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ReservationDrugsModal.js":"39","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Funciton\\GetAuthorisation.js":"40","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Alerts\\UnsuccessfulAlert.js":"41","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Alerts\\SuccessfulAlert.js":"42","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Consultations\\HistoryPharmacistConsultation.js":"43","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OfferModal.js":"44","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\FirstGradeModal.js":"45","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ChangePasswordModal.js":"46","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\DrugsEReceiptsModal.js":"47","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AllergensModal.js":"48","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EreceiptDrugsModal.js":"49","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ReservedConsultationModal.js":"50","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\EditOfferModal.js":"51","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\FoundPharmacistForPharmacyForDateRange.js":"52","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\FoundPharmaciesForDateRange.js":"53","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmacyForPhAdmin.js":"54","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\Card.js":"55","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ScheduleModal.js":"56","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ConfirmModal.js":"57","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\PatientsPage.js":"58","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddDermatologistModal.js":"59","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\CardList.js":"60","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddAppointmentModal.js":"61","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\PharmaciesForEmployeeModal.js":"62","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmacistsForPhAdmin.js":"63","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\PharmacistCardList.js":"64","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\PharmacistCard.js":"65","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ScheduleModalPharmacist.js":"66","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\RemovePharmacistModal.js":"67","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddPharmacistModal.js":"68","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\DrugsForPharmacyAdmin.js":"69","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddDrugModal.js":"70","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\AppointmentReport.js":"71","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\PatientProfile.js":"72","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\CalendarForAppointments.js":"73","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AppoinmentDetails.js":"74","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\PrescriptionDrug.js":"75","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AvailableDrugModal.js":"76","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\DrugModal.js":"77","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EditDrugPriceModal.js":"78","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddActionPromotionModal.js":"79","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\ActionPromotionPageForPhAdmin.js":"80","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EditStorageModal.js":"81","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddOrder.js":"82","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OrdersPageForPhAdmin.js":"83","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EditOrderModal.js":"84","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\OffersforOrderModal.js":"85","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\DermatologistScheduleAppointment.js":"86","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\DermatologistCreateAndScheduleAppointment.js":"87","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\PharmacistScheduleAppointment.js":"88","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\DermatologistSchedule.js":"89","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmacyPage.js":"90"},{"size":732,"mtime":1630164403425,"results":"91","hashOfConfig":"92"},{"size":7655,"mtime":1630700042596,"results":"93","hashOfConfig":"92"},{"size":375,"mtime":1621521721080,"results":"94","hashOfConfig":"92"},{"size":10941,"mtime":1622578196185,"results":"95","hashOfConfig":"92"},{"size":10719,"mtime":1630696262191,"results":"96","hashOfConfig":"92"},{"size":11282,"mtime":1622568863107,"results":"97","hashOfConfig":"92"},{"size":7944,"mtime":1629656347512,"results":"98","hashOfConfig":"92"},{"size":2755,"mtime":1629656347509,"results":"99","hashOfConfig":"92"},{"size":4188,"mtime":1622565881920,"results":"100","hashOfConfig":"92"},{"size":5584,"mtime":1629656347508,"results":"101","hashOfConfig":"92"},{"size":21005,"mtime":1629656347509,"results":"102","hashOfConfig":"92"},{"size":5604,"mtime":1622369960170,"results":"103","hashOfConfig":"92"},{"size":10509,"mtime":1629656347509,"results":"104","hashOfConfig":"92"},{"size":1323,"mtime":1629656347512,"results":"105","hashOfConfig":"92"},{"size":29504,"mtime":1630699763030,"results":"106","hashOfConfig":"92"},{"size":9162,"mtime":1622564418329,"results":"107","hashOfConfig":"92"},{"size":35450,"mtime":1630164403425,"results":"108","hashOfConfig":"92"},{"size":9238,"mtime":1621521721071,"results":"109","hashOfConfig":"92"},{"size":10190,"mtime":1622369960173,"results":"110","hashOfConfig":"92"},{"size":19536,"mtime":1629656347515,"results":"111","hashOfConfig":"92"},{"size":5499,"mtime":1629656347516,"results":"112","hashOfConfig":"92"},{"size":10668,"mtime":1629656347515,"results":"113","hashOfConfig":"92"},{"size":23316,"mtime":1622050020071,"results":"114","hashOfConfig":"92"},{"size":18691,"mtime":1629656347515,"results":"115","hashOfConfig":"92"},{"size":22880,"mtime":1629656347512,"results":"116","hashOfConfig":"92"},{"size":8307,"mtime":1621521721071,"results":"117","hashOfConfig":"92"},{"size":13786,"mtime":1630159998630,"results":"118","hashOfConfig":"92"},{"size":19610,"mtime":1622050020067,"results":"119","hashOfConfig":"92"},{"size":8345,"mtime":1629656347513,"results":"120","hashOfConfig":"92"},{"size":8817,"mtime":1622369960172,"results":"121","hashOfConfig":"92"},{"size":6726,"mtime":1622050020069,"results":"122","hashOfConfig":"92"},{"size":884,"mtime":1622564418328,"results":"123","hashOfConfig":"92"},{"size":9562,"mtime":1630698598334,"results":"124","hashOfConfig":"92"},{"size":4318,"mtime":1622568863106,"results":"125","hashOfConfig":"92"},{"size":4213,"mtime":1622568863106,"results":"126","hashOfConfig":"92"},{"size":996,"mtime":1622369960170,"results":"127","hashOfConfig":"92"},{"size":1244,"mtime":1621521721065,"results":"128","hashOfConfig":"92"},{"size":2836,"mtime":1622369960171,"results":"129","hashOfConfig":"92"},{"size":3693,"mtime":1622568863105,"results":"130","hashOfConfig":"92"},{"size":318,"mtime":1621521721066,"results":"131","hashOfConfig":"92"},{"size":540,"mtime":1621521721052,"results":"132","hashOfConfig":"92"},{"size":537,"mtime":1621521721052,"results":"133","hashOfConfig":"92"},{"size":7467,"mtime":1629656347508,"results":"134","hashOfConfig":"92"},{"size":1723,"mtime":1622050020069,"results":"135","hashOfConfig":"92"},{"size":3383,"mtime":1629656347511,"results":"136","hashOfConfig":"92"},{"size":3434,"mtime":1629656347510,"results":"137","hashOfConfig":"92"},{"size":2593,"mtime":1629656347510,"results":"138","hashOfConfig":"92"},{"size":3168,"mtime":1621521721061,"results":"139","hashOfConfig":"92"},{"size":1718,"mtime":1629656347511,"results":"140","hashOfConfig":"92"},{"size":1472,"mtime":1622050020068,"results":"141","hashOfConfig":"92"},{"size":1665,"mtime":1622369960172,"results":"142","hashOfConfig":"92"},{"size":4849,"mtime":1622050020068,"results":"143","hashOfConfig":"92"},{"size":5631,"mtime":1622050020068,"results":"144","hashOfConfig":"92"},{"size":10846,"mtime":1630448443938,"results":"145","hashOfConfig":"92"},{"size":3353,"mtime":1630698459514,"results":"146","hashOfConfig":"92"},{"size":13508,"mtime":1630361003509,"results":"147","hashOfConfig":"92"},{"size":4535,"mtime":1630371656000,"results":"148","hashOfConfig":"92"},{"size":8687,"mtime":1630457346591,"results":"149","hashOfConfig":"92"},{"size":13081,"mtime":1630335655216,"results":"150","hashOfConfig":"92"},{"size":796,"mtime":1630321069009,"results":"151","hashOfConfig":"92"},{"size":10999,"mtime":1630336226894,"results":"152","hashOfConfig":"92"},{"size":1990,"mtime":1630353402850,"results":"153","hashOfConfig":"92"},{"size":9707,"mtime":1630698428599,"results":"154","hashOfConfig":"92"},{"size":820,"mtime":1630406812591,"results":"155","hashOfConfig":"92"},{"size":3340,"mtime":1630698366598,"results":"156","hashOfConfig":"92"},{"size":12457,"mtime":1630406799870,"results":"157","hashOfConfig":"92"},{"size":4489,"mtime":1630371674956,"results":"158","hashOfConfig":"92"},{"size":20738,"mtime":1630418873101,"results":"159","hashOfConfig":"92"},{"size":14722,"mtime":1630657879214,"results":"160","hashOfConfig":"92"},{"size":9181,"mtime":1630510887340,"results":"161","hashOfConfig":"92"},{"size":10182,"mtime":1630689941957,"results":"162","hashOfConfig":"92"},{"size":11378,"mtime":1630689941960,"results":"163","hashOfConfig":"92"},{"size":9733,"mtime":1630689941958,"results":"164","hashOfConfig":"92"},{"size":3609,"mtime":1630457346588,"results":"165","hashOfConfig":"92"},{"size":3131,"mtime":1630689941957,"results":"166","hashOfConfig":"92"},{"size":1658,"mtime":1630689941956,"results":"167","hashOfConfig":"92"},{"size":1640,"mtime":1630689941956,"results":"168","hashOfConfig":"92"},{"size":5447,"mtime":1630530384666,"results":"169","hashOfConfig":"92"},{"size":6595,"mtime":1630545336554,"results":"170","hashOfConfig":"92"},{"size":3617,"mtime":1630544272686,"results":"171","hashOfConfig":"92"},{"size":3291,"mtime":1630623201906,"results":"172","hashOfConfig":"92"},{"size":13830,"mtime":1630679852943,"results":"173","hashOfConfig":"92"},{"size":11758,"mtime":1630689734186,"results":"174","hashOfConfig":"92"},{"size":11530,"mtime":1630685238480,"results":"175","hashOfConfig":"92"},{"size":3424,"mtime":1630689865910,"results":"176","hashOfConfig":"92"},{"size":3962,"mtime":1630689941959,"results":"177","hashOfConfig":"92"},{"size":6066,"mtime":1630689941958,"results":"178","hashOfConfig":"92"},{"size":7617,"mtime":1630689941960,"results":"179","hashOfConfig":"92"},{"size":7609,"mtime":1630689941959,"results":"180","hashOfConfig":"92"},{"size":5816,"mtime":1630700562135,"results":"181","hashOfConfig":"92"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"184","usedDeprecatedRules":"185"},"17ig7o1",{"filePath":"186","messages":"187","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"185"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"196","usedDeprecatedRules":"185"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"199","usedDeprecatedRules":"185"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"204","usedDeprecatedRules":"185"},{"filePath":"205","messages":"206","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"209","usedDeprecatedRules":"185"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"212","usedDeprecatedRules":"185"},{"filePath":"213","messages":"214","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"215","usedDeprecatedRules":"185"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"220","messages":"221","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"222"},{"filePath":"223","messages":"224","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"225","usedDeprecatedRules":"185"},{"filePath":"226","messages":"227","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"228","usedDeprecatedRules":"185"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":1,"source":"231","usedDeprecatedRules":"185"},{"filePath":"232","messages":"233","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"234","usedDeprecatedRules":"185"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"237","usedDeprecatedRules":"185"},{"filePath":"238","messages":"239","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"240","usedDeprecatedRules":"185"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"243","usedDeprecatedRules":"185"},{"filePath":"244","messages":"245","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"246","usedDeprecatedRules":"185"},{"filePath":"247","messages":"248","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"249","usedDeprecatedRules":"185"},{"filePath":"250","messages":"251","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"252","usedDeprecatedRules":"185"},{"filePath":"253","messages":"254","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"255","usedDeprecatedRules":"185"},{"filePath":"256","messages":"257","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"258","usedDeprecatedRules":"185"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"261","messages":"262","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"263","usedDeprecatedRules":"185"},{"filePath":"264","messages":"265","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"266","usedDeprecatedRules":"185"},{"filePath":"267","messages":"268","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"269","usedDeprecatedRules":"185"},{"filePath":"270","messages":"271","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"272","messages":"273","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"274","usedDeprecatedRules":"185"},{"filePath":"275","messages":"276","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"277","usedDeprecatedRules":"185"},{"filePath":"278","messages":"279","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"280","usedDeprecatedRules":"185"},{"filePath":"281","messages":"282","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"283","messages":"284","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"285","usedDeprecatedRules":"185"},{"filePath":"286","messages":"287","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"288","usedDeprecatedRules":"185"},{"filePath":"289","messages":"290","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"291","messages":"292","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"293","messages":"294","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"295","messages":"296","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"297","messages":"298","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"299","usedDeprecatedRules":"185"},{"filePath":"300","messages":"301","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"302","usedDeprecatedRules":"185"},{"filePath":"303","messages":"304","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"305","usedDeprecatedRules":"185"},{"filePath":"306","messages":"307","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"308","usedDeprecatedRules":"185"},{"filePath":"309","messages":"310","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"311","usedDeprecatedRules":"185"},{"filePath":"312","messages":"313","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"314","usedDeprecatedRules":"185"},{"filePath":"315","messages":"316","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"317","usedDeprecatedRules":"185"},{"filePath":"318","messages":"319","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"320","usedDeprecatedRules":"185"},{"filePath":"321","messages":"322","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"323","messages":"324","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"325","usedDeprecatedRules":"185"},{"filePath":"326","messages":"327","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"328","usedDeprecatedRules":"185"},{"filePath":"329","messages":"330","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"331","usedDeprecatedRules":"185"},{"filePath":"332","messages":"333","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"334","usedDeprecatedRules":"185"},{"filePath":"335","messages":"336","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"337","usedDeprecatedRules":"185"},{"filePath":"338","messages":"339","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"340","usedDeprecatedRules":"185"},{"filePath":"341","messages":"342","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"343","usedDeprecatedRules":"185"},{"filePath":"344","messages":"345","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"346","usedDeprecatedRules":"185"},{"filePath":"347","messages":"348","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"349","messages":"350","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"351","usedDeprecatedRules":"185"},{"filePath":"352","messages":"353","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"354","usedDeprecatedRules":"185"},{"filePath":"355","messages":"356","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"357","usedDeprecatedRules":"185"},{"filePath":"358","messages":"359","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"360","usedDeprecatedRules":"185"},{"filePath":"361","messages":"362","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"363","usedDeprecatedRules":"185"},{"filePath":"364","messages":"365","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"366","usedDeprecatedRules":"185"},{"filePath":"367","messages":"368","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"369","usedDeprecatedRules":"185"},{"filePath":"370","messages":"371","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"372","usedDeprecatedRules":"185"},{"filePath":"373","messages":"374","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"375","usedDeprecatedRules":"185"},{"filePath":"376","messages":"377","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"378","usedDeprecatedRules":"185"},{"filePath":"379","messages":"380","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"381","usedDeprecatedRules":"185"},{"filePath":"382","messages":"383","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"384","usedDeprecatedRules":"185"},{"filePath":"385","messages":"386","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"387","usedDeprecatedRules":"185"},{"filePath":"388","messages":"389","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"390","usedDeprecatedRules":"185"},{"filePath":"391","messages":"392","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"393","usedDeprecatedRules":"185"},{"filePath":"394","messages":"395","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"396","usedDeprecatedRules":"185"},{"filePath":"397","messages":"398","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"399","usedDeprecatedRules":"185"},{"filePath":"400","messages":"401","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"402","usedDeprecatedRules":"185"},{"filePath":"403","messages":"404","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"405","usedDeprecatedRules":"185"},{"filePath":"406","messages":"407","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"408","usedDeprecatedRules":"185"},{"filePath":"409","messages":"410","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"411","usedDeprecatedRules":"185"},{"filePath":"412","messages":"413","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"414","usedDeprecatedRules":"185"},{"filePath":"415","messages":"416","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"417","messages":"418","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"419","messages":"420","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"421","messages":"422","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"423","usedDeprecatedRules":"185"},{"filePath":"424","messages":"425","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"426","messages":"427","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"428","messages":"429","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"430","messages":"431","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"432"},"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\index.js",["433","434"],"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap.js';\r\nimport $ from 'jquery';\r\nimport Popper from 'popper.js';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n",["435","436"],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\App.js",["437","438","439"],"\r\nimport './App.css';\r\nimport HomePage from \"./Components/HomePage\"\r\nimport Drugs from \"./Components/Drugs\"\r\nimport Pharmacies from \"./Components/Pharmacies\"\r\nimport RegisterPage from \"./Components/RegistrationPage\"\r\nimport LoginPage from \"./Components/LoginPage\"\r\nimport UserProfilePage from \"./Pages/UserProfile\"\r\nimport registerStaff from \"./Components/adminRegistration/registerStaff\"\r\nimport RegisterDrug from './Components/adminRegistration/RegisterDrug';\r\n\r\nimport LoyalityProgram from \"./Components/LoyalityProgram/LoyalityProgram\"\r\nimport RegisterPharmacies from './Components/adminRegistration/RegisterPharmacies';\r\nimport OrdersPage from './Components/SupplierPages/OrdersPage';\r\n\r\nimport HomePageForDermatologistAppointments from \"./Pages/HomePageForDermatologistAppointments\"\r\nimport DermatologistFreeAppointment from \"./Pages/DermatologistFreeAppointment\"\r\nimport FutureDermatologistAppointmentsForPatient from \"./Pages/FutureDermatologistAppointmentsForPatient\"\r\nimport HistoryDermatologistAppointmentsForPatient from \"./Pages/HistoryDermatologistAppointmentsForPatient\"\r\nimport PharmaciesAppointmentStartPage from \"./Pages/PharmaciesAppointmentStartPage\"\r\nimport FuturePharmaciesConsultationsForPatient from \"./Pages/FuturePharmaciesConsultationsForPatient\"\r\nimport OfferPage from './Components/SupplierPages/OfferPage';\r\nimport PatientsSubscribedPharmacies from './Components/Pharmacies/PatientsSubscribedPharmacies'\r\nimport AdminStaffComplains from './Components/AdminStaffComplains';\r\nimport AdminPharmacyComplains from './Components/AdminPharmacyComplains';\r\nimport QrCode from './Components/QrCode';\r\nimport FutureDrugsReservationsForPatients from \"./Pages/FutureDrugsReservationsForPatient\"\r\nimport qrPharmacieswithDrugs from './Components/qrPharmacieswithDrugs';\r\nimport dermatologistsForPhAdmin from './Components/Pharmacies/DermatologistsForPhAdmin';\r\nimport PatientsEReceipts from \"./Pages/PatientsEReceipts\"\r\nimport PatientsProccessedDrugsEReceipts from \"./Pages/PatientsProccessedDrugsEReceipts\"\r\nimport activateAccount from './Components/activateAccount';\r\nimport PatientsPage from './Pages/Appointment/PatientsPage';\r\nimport PharmacyForAdmin from './Components/Pharmacies/PharmacyForPhAdmin';\r\nimport CalendarForAppointments from './Pages/Appointment/CalendarForAppointments';\r\nimport AppointmentReport from './Pages/Appointment/AppointmentReport';\r\nimport PatientProfile from './Pages/Appointment/PatientProfile';\r\n\r\nimport pharmacistsForPhAdmin from './Components/Pharmacies/PharmacistsForPhAdmin';\r\nimport DrugsForPharmacyAdmin from './Components/DrugsForPharmacyAdmin';\r\nimport DermatologistScheduleAppointment from './Pages/Appointment/DermatologistScheduleAppointment';\r\nimport PharmacistScheduleAppointment from './Pages/Appointment/PharmacistScheduleAppointment';\r\nimport DermatologistCreateAndScheduleAppointment from './Pages/Appointment/DermatologistCreateAndScheduleAppointment';\r\nimport ActionPromotionPageForPhAdmin from './Components/Pharmacies/ActionPromotionPageForPhAdmin';\r\nimport DermatologistSchedule from './Pages/Appointment/DermatologistSchedule';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Switch\r\n} from \"react-router-dom\";\r\nimport PharmacyPage from './Components/Pharmacies/PharmacyPage';\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n    \r\n    \r\n    <Router>\r\n      \r\n        <Switch>\r\n        <Route exact to =\"/\"  path =\"/\" component={HomePage}/>\r\n        <Route  to =\"/drugs\" path =\"/drugs\"  component={Drugs}/>\r\n        <Route  to =\"/pharmacies\" path =\"/pharmacies\"  component={Pharmacies}/>       \r\n        <Route  to =\"/registration\" path =\"/registration\"  component={RegisterPage}/>\r\n        <Route  to =\"/login\" path =\"/login\"  component={LoginPage}/>\r\n        <Route  to =\"/userProfile\" path =\"/userProfile\"  component={UserProfilePage}/>\r\n        \r\n        <Route  to =\"/registerStaff\" path =\"/registerStaff\"  component={registerStaff}/>\r\n        <Route  to =\"/registerPharmacies\" path =\"/registerPharmacies\"  component={RegisterPharmacies}/>\r\n        <Route  to =\"/dermatologistAppointment\" path =\"/dermatologistAppointment\"  component={HomePageForDermatologistAppointments}/>\r\n        <Route path=\"/dermatologistFreeAppointment/:id\" children={<DermatologistFreeAppointment />} />\r\n        <Route  to =\"/futureDermatologistAppointmentsForPatient\" path =\"/futureDermatologistAppointmentsForPatient\"  component={FutureDermatologistAppointmentsForPatient}/>\r\n        <Route  to =\"/historyDermatologistAppointmentsForPatient\" path =\"/historyDermatologistAppointmentsForPatient\"  component={HistoryDermatologistAppointmentsForPatient}/>\r\n        <Route  to =\"/registerDrug\" path =\"/registerDrug\"  component={RegisterDrug}/>\r\n        \r\n        \r\n\r\n        <Route  to =\"/pharmacistAppointment\" path =\"/pharmacistAppointment\"  component={PharmaciesAppointmentStartPage}/>\r\n        <Route  to =\"/loyalityProgram\" path =\"/loyalityProgram\"  component={LoyalityProgram}/>\r\n        <Route  to =\"/orders\" path =\"/orders\"  component={OrdersPage}/>\r\n        <Route  to =\"/futurePharmaciesConsultationsForPatient\" path =\"/futurePharmaciesConsultationsForPatient\"  component={FuturePharmaciesConsultationsForPatient}/>\r\n        <Route  to =\"/offers\" path =\"/offers\"  component={OfferPage}/>\r\n        <Route  to =\"/patientsSubscribedPharmacies\" path =\"/patientsSubscribedPharmacies\"  component={PatientsSubscribedPharmacies}/>\r\n        <Route  to =\"/staffComplains\" path =\"/staffComplains\"  component={AdminStaffComplains}/>\r\n        <Route  to =\"/pharmacyComplains\" path =\"/pharmacyComplains\"  component={AdminPharmacyComplains}/>\r\n        <Route  to =\"/qrCode\" path =\"/qrCode\"  component={QrCode}/>\r\n        <Route  to =\"/futureDrugsReservationForPatient\" path =\"/futureDrugsReservationForPatient\"  component={FutureDrugsReservationsForPatients}/>     \r\n        <Route to=\"/qrPharmacieswithDrugs/:id\" path =\"/qrPharmacieswithDrugs/:id\"  component={qrPharmacieswithDrugs}/>\r\n        <Route  to =\"/allPatients-E-receipts\" path =\"/allPatients-E-receipts\"  component={PatientsEReceipts}/>\r\n        <Route  to =\"/allPatients-processed-drugs-e-receipts\" path =\"/allPatients-processed-drugs-e-receipts\"  component={PatientsProccessedDrugsEReceipts}/>\r\n        <Route  to =\"/adminpharmacy\" path =\"/adminpharmacy\"  component={PharmacyForAdmin}/>\r\n        <Route to=\"/activeAccount/:id\" path =\"/activeAccount/:id\"  component={activateAccount}/>\r\n        <Route to=\"/patients\" path =\"/patients\"  component={PatientsPage}/>\r\n\r\n        <Route path=\"/pharmacy/:id\" children={<PharmacyPage />} />\r\n        <Route to=\"/dermatologistsForPhAdmin\" path =\"/dermatologistsForPhAdmin\"  component={dermatologistsForPhAdmin}/>\r\n        <Route to=\"/calendar\" path =\"/calendar\" component={CalendarForAppointments}/>\r\n        <Route to=\"/appointment-report/:id\" path =\"/appointment-report/:id\" component={AppointmentReport}/>\r\n        <Route to=\"/patient-profile/:id\" path =\"/patient-profile/:id\" component={PatientProfile}/>\r\n        <Route to=\"/pharmacistsForPhAdmin\" path =\"/pharmacistsForPhAdmin\"  component={pharmacistsForPhAdmin}/>\r\n        <Route  to =\"/drugsForPhAdmin\" path =\"/drugsForPhAdmin\"  component={DrugsForPharmacyAdmin}/>\r\n        <Route to=\"/dermathologist-schedule-appointment/:id\" path=\"/dermathologist-schedule-appointment/:id\" component={DermatologistSchedule}/>\r\n        <Route to=\"/new-appointment/:id\" path =\"/new-appointment/:id\" component={PharmacistScheduleAppointment}/>\r\n        <Route  to =\"/actions\" path =\"/actions\"  component={ActionPromotionPageForPhAdmin}/>\r\n        \r\n\r\n        </Switch>\r\n    </Router>\r\n     \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\reportWebVitals.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\qrPharmacieswithDrugs.js",["440","441"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport pharmacyLogo from \"../Images/pharmacyLogo.jpg\"\r\nimport { withRouter } from \"react-router\";\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport ModalDialog from \"./ModalDialog\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nclass qrPharmacieswithDrugs extends Component {\r\n\r\n    state = {\r\n        eReciptId: \"\",\r\n      pharmacies: [],\r\n      formShowed: false,\r\n      name: \"\",\r\n      city: \"\",\r\n      gradeFrom: \"\",\r\n      gradeTo: \"\",\r\n      openModal: false,\r\n      openModalAllergen: false,\r\n      openModalRefused: false,\r\n      distanceFrom: \"\",\r\n      distanceTo: \"\",\r\n      showingSearched: false,\r\n      showingSorted: false,\r\n      currentLatitude: null,\r\n      currentLongitude: null,\r\n      sortIndicator: 0,\r\n      redirect:false,\r\n      redirectUrl:''\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n    const pathParams= window.location.pathname;\r\n    const paramsList= pathParams.split(\"/\");\r\n    const id = paramsList[2];\r\n\r\n    console.log(this.props.match.params.id + \"xaxaax\");\r\n\r\n    \r\n\r\n\r\n    Axios.get(\"http://localhost:8080/pharmacy/qrPharmacieswithDrugs/\" + id, { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data)\r\n\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n   \r\n        }\r\n\r\n\r\n\r\n        handleDrugClick = (id, price) => {\r\n            let PharmacyERecipeDTO = {\r\n                pharmacyId: id,\r\n                eRecipeId: this.props.match.params.id,\r\n                price: price,\r\n            }\r\n            \r\n            Axios.post(\"http://localhost:8080/pharmacy/buyDrugsWithQr\", PharmacyERecipeDTO , { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ openModal: true });\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            \r\n            console.log(PharmacyERecipeDTO);\r\n        };\r\n\r\n        handleModalClose = () => {\r\n            this.setState({ openModal: false });\r\n        };\r\n\r\n        handleSortByName = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-name/\"  + this.props.match.params.id , { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 1 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByNameReverse = () => {\r\n            \r\n    \r\n            ;\r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-nameReverse/\"  + this.props.match.params.id , { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 2 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByPrice = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-price/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 1 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n    \r\n        handleSortByPriceReverse = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-priceReverse/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 2 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByGrade = () => {\r\n           \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-grade/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 5 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n        \r\n        handleSortByGradeReverse = () => {\r\n           \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-gradeReverse/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 6 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByCity = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-address/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 3 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n        \r\n        \r\n        handleSortByCityReverse = () => {\r\n           \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-addressReverse/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 4 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                   \r\n                    <Header />\r\n\r\n                    <div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\t\t\t\t\t    <h5 className=\" text-center mb-0 mt-2 text-uppercase\">Pharmacies to buy eRecipe</h5>\r\n                        <h5 className=\" text-center mb-0 mt-2 text-uppercase\" hidden={this.state.pharmacies.length!==0}>Currently there are no drugs in stock! Come back later.</h5>\r\n\r\n                        <div className=\"form-group \" hidden={this.state.pharmacies.length==0}>\r\n\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\">\r\n\t\t\t\t\t\t\t<div className=\"form-row mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\" >\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n                                        \r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"dropdownMenu2\"\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSort by\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByName}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tName - A to Z\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" hidden={this.state.pharmacies.length!==0} type=\"button\" onClick={this.handleSortByNameReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tName - Z to A\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                            <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPrice}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPrice - low to high\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPrice - high to low\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                            <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByGrade}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGrade - low to high\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByGradeReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGrade - high to low\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                            <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByCity}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAddress - A to Z\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByCityReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAddress - Z to A\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n                        <table className=\"table\" style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.pharmacies.map((pharmacy) => (\r\n\t\t\t\t\t\t\t\t<tr id={pharmacy.Id} key={pharmacy.Id} >\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={pharmacyLogo} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name: </b> {pharmacy.EntityDTO.pharmacy.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Address: </b> {pharmacy.EntityDTO.pharmacy.EntityDTO.address.street}, {pharmacy.EntityDTO.pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{pharmacy.EntityDTO.pharmacy.EntityDTO.address.country}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Grade: </b> {pharmacy.EntityDTO.grade}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icofont-star\" style={{ color: \"#1977cc\" }}></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price for all drugs: </b> {pharmacy.EntityDTO.price}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" onClick={() => this.handleDrugClick(pharmacy.Id, pharmacy.EntityDTO.price)} className=\"btn btn-outline-secondary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tBuy drugs\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n                <ModalDialog\r\n\t\t\t\t\tshow={this.state.openModal}\r\n\t\t\t\t\thref=\"/\"\r\n\t\t\t\t\tonCloseModal={this.handleModalClose}\r\n\t\t\t\t\theader=\"Success\"\r\n\t\t\t\t\ttext=\"You have successfully bought drugs.\"\r\n\t\t\t\t/>\r\n                    \r\n\r\n\r\n                    </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(qrPharmacieswithDrugs);","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\DermatologistsForPhAdmin.js",["442","443"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport Header from '../Header';\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport CardList from \"../card-components/CardList\";\r\nimport AddDermatologistModal from \"../Modal/AddDermatologistModal\";\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\n\r\nclass DermatologistsForPhAdmin extends Component {\r\n    state = {\r\n        dermatologists: [],\r\n        dermatologists1: [],\r\n        searchName:'',\r\n        searchSurname:'',\r\n        searchGradeFrom:'',\r\n        searchGradeTo:'',\r\n\r\n        workTimes: [],\r\n        forStaff: '',\r\n        showSearchForm: false,\r\n        showAddDermatologist: false\r\n    };\r\n\r\n    handleCloseAlertSuccess = () => {\r\n        this.setState({ hiddenSuccessAlert: true });\r\n    };\r\n\r\n    handleCloseAlertFail = () => {\r\n        this.setState({ hiddenFailAlert: true });\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        let pharmacyId = localStorage.getItem(\"keyPharmacyId\")\r\n        this.setState({\r\n            pharmacyId: pharmacyId\r\n        })\r\n\r\n        Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n\r\n\r\n    handleAddDermatologist = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsNotInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        }).then((res) => {\r\n            this.setState({ dermatologists1: res.data, showAddDermatologist: true });\r\n            console.log(res.data);\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }\r\n\r\n    handleUpdateDermatologistsWhoarentInPharmacy = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsNotInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        }).then((res) => {\r\n            this.setState({ dermatologists1: res.data });\r\n            console.log(res.data);\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({ showWorkTimesModal: false });\r\n    }\r\n\r\n\r\n\r\n    handleFormShow = () => {\r\n        this.setState({ showSearchForm: !this.state.showSearchForm });\r\n    };\r\n\r\n\r\n    handleNameChange = (event) => {\r\n\t\tthis.setState({ searchName: event.target.value });\r\n    };\r\n    \r\n    handleSurnameChange = (event) => {\r\n\t\tthis.setState({ searchSurname: event.target.value });\r\n    };\r\n    \r\n    handleGradeFromChange = (event) => {\r\n\t\tthis.setState({ searchGradeFrom: event.target.value });\r\n\t};\r\n\r\n\thandleGradeToChange = (event) => {\r\n\t\tthis.setState({ searchGradeTo: event.target.value });\r\n    };\r\n\r\n    handleSortByGradeAscending = () =>{\r\n\r\n    }\r\n\r\n    handleSortByGradeDescending = () =>{\r\n\r\n    }\r\n    \r\n    handleSearch = () =>{\r\n    \r\n\t\t\tif (\r\n\t\t\t\t!(\r\n\t\t\t\t\tthis.state.searchGradeFrom === \"\" &&\r\n\t\t\t\t\tthis.state.searchGradeTo === \"\" &&\r\n\t\t\t\t\tthis.state.searchName === \"\" &&\r\n\t\t\t\t\tthis.state.searchSurname === \"\"\r\n\t\t\t\t)\r\n\t\t\t) {\r\n                let name = this.state.searchName;\r\n\t\t\t\tlet surname = this.state.searchSurname;\r\n\t\t\t\tlet gradeFrom = this.state.searchGradeFrom;\r\n\t\t\t\tlet gradeTo = this.state.searchGradeTo;\r\n\t\t\t\t\r\n\r\n\t\t\t\tif (gradeFrom === \"\") gradeFrom = -1;\r\n\t\t\t\tif (gradeTo === \"\") gradeTo = -1;\r\n\t\t\t\tif (name === \"\") name = '';\r\n\t\t\t\tif (surname === \"\") surname = '';\r\n\r\n                console.log(name);\r\n                console.log(surname);\r\n                console.log(gradeFrom);\r\n                console.log(gradeTo);\r\n\t\t\t\tAxios.get(API_URL + \"/users/dermatologistsSearch\", {\r\n                    params: {\r\n                        name: name,\r\n                        surname: surname,\r\n                        gradeFrom: gradeFrom,\r\n                        gradeTo: gradeTo,\r\n                        pharmacyId: localStorage.getItem(\"keyPharmacyId\")\r\n                    },\r\n                    validateStatus: () => true,\r\n                    headers: { Authorization: GetAuthorisation() },\r\n                })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tdermatologists: res.data,\r\n\t\t\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\t\t\tshowingSearched: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n        }   \r\n    \r\n\r\n     handleResetSearch = () => {\r\n\r\n        Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ \r\n                    dermatologists: res.data ,\r\n                    formShowed: false,\r\n\t\t\t\t\tshowingSearched: false,\r\n\t\t\t\t\tsearchName: \"\",\r\n                    searchSurname: \"\",\r\n                    searchGradeFrom: \"\",\r\n\t\t\t\t\tsearchGradeTo: \"\",\r\n\r\n                });\r\n                console.log(res.data);\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n            });\r\n        \r\n\t\r\n    };\r\n    handleAddDermatologistClose = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        this.setState({ showAddDermatologist: false });\r\n    }\r\n\r\n    handleUpdateDermatologists = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    render() {\r\n      \r\n        return (\r\n            <React.Fragment>\r\n\r\n\r\n\r\n                <Header />\r\n\r\n\r\n\r\n\r\n                <div className=\"container\" style={{ marginTop: \"5%\", marginBottom: \"5%\", marginLeft: \"6%\" }} >\r\n\r\n\r\n                    <button className=\"btn btn-primary \" type=\"button\" onClick={this.handleFormShow}>\r\n                        {this.state.showSearchForm ? \"Close search\" : \"Open search\"}\r\n                    </button>\r\n\r\n                    <button hidden={!this.state.showSearchForm} type=\"button\" class=\"btn btn-outline-primary btn-xl ml-2\" onClick={this.handleResetSearch}>\r\n\r\n                        Reset search\r\n\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-primary btn-xl ml-2\" onClick={this.handleAddDermatologist}>\r\n                     \r\n                        Add dermatologist\r\n                    \r\n                    </button>\r\n                \r\n                    <form className={\"form-inline mt-3\"} hidden={!this.state.showSearchForm} width=\"100%\">\r\n\r\n                        <div className=\"form-group\" width=\"100%\">\r\n\r\n                        <div className=\"form-group mb-2\" width=\"100%\">\r\n                                <input\r\n                                    placeholder=\"Name\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleNameChange}\r\n                                    value={this.state.searchName}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"LastName\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleSurnameChange}\r\n                                    value={this.state.searchSurname}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"Grade from\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeFromChange}\r\n                                    value={this.state.searchGradeFrom}\r\n                                />\r\n                                <input\r\n                                    placeholder=\"Grade to\"\r\n                                    className=\"form-control\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeToChange}\r\n                                    value={this.state.searchGradeTo}\r\n                                />\r\n\r\n                            <button\r\n                                onClick={this.handleSearch}\r\n                                className=\"btn btn-outline-primary btn-xl ml-2\"\r\n                                type=\"button\"\r\n\r\n                            >\r\n                                Search\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    </form>\r\n                \r\n                </div>\r\n\r\n\r\n                \r\n                <div className=\"container\">\r\n                    <CardList dermatologists={this.state.dermatologists} pharmacyId={this.state.pharmacyId} updateDermatologists={this.handleUpdateDermatologists} />\r\n                    <AddDermatologistModal show={this.state.showAddDermatologist} closeModal={this.handleAddDermatologistClose} dermatologists={this.state.dermatologists1} pharmacyId={this.state.pharmacyId} updateDermatologistsWhoarentInPharmacy={this.handleUpdateDermatologistsWhoarentInPharmacy} />\r\n                </div>\r\n\r\n\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DermatologistsForPhAdmin","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\FutureDrugsReservationsForPatient.js",["444","445","446","447","448"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport drugPicture from \"../Images/medicament.jpg\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport HistoryPharmacistConsultation from \"../Components/Consultations/HistoryPharmacistConsultation\"\r\nimport HistoryDrugsReservations from \"../Components/Reservations/HistoryDrugsReservations\"\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass FutureDrugsReservationsForPatients extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        pharmacyId: \"\",\r\n        drugsReservations : [],\r\n        hiddenSuccessfulAlert: true,\r\n        successfulHeader: \"\",\r\n        successfulMessage: \"\",\r\n        hiddenUnsuccessfulAlert: true,\r\n        UnsuccessfulHeader: \"\",\r\n        UnsuccessfulMessage: \"\",\r\n        hideFutureButton : true,\r\n        hideHistoryButton : false,\r\n        historyDrugsReservation  : [],\r\n        hideFutureDrugsReservations  : false,\r\n        hideHistoryDrugsReservations  : true,\r\n\r\n\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/drug/futurePatientsDrugsReservation\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ drugsReservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  handleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\r\n    \r\n \r\n    moveToHistoryConsultation =() => {\r\n\r\n       \r\n\r\n\t\tthis.setState({ hideFutureButton : false,\r\n\t\t\thideHistoryButton : true,\r\n\t\t\thideFutureDrugsReservations  : true,\r\n\t\t\thideHistoryDrugsReservations  : false,\r\n\r\n\t\t});\r\n\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true,\r\n\t\t\tsuccessfulHeader: \"\",\r\n\t\t\tsuccessfulMessage: \"\",\r\n\t\t\thiddenUnsuccessfulAlert: true,\r\n\t\t\tUnsuccessfulHeader: \"\",\r\n\t\t\tUnsuccessfulMessage: \"\",\r\n\r\n\t\t});\r\n\r\n\r\n\t\t\r\n\r\n\r\n        Axios.get(API_URL + \"/drug/historyPatientsDrugsReservations\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyDrugsReservation : res.data});\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n       \r\n    }\r\n\r\n\r\n    moveToFutureConsultation =() => {\r\n\r\n        this.setState({ hideFutureButton : true,\r\n                        hideHistoryButton : false,\r\n                        hideFutureDrugsReservations  : false,\r\n                        hideHistoryDrugsReservations  : true,\r\n        \r\n        });\r\n\r\n      this.componentDidMount();\r\n\r\n       \r\n    }\r\n\r\n\thandleCancelDrug = (drugId) => {\r\n  \r\n\t\tlet drugIdObject = { id: drugId};\r\n\t\r\n\t\tAxios.post(API_URL + \"/drug/cancelDrugReservation\",drugIdObject , {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t  .then((res) => {\r\n\t\t\tif (res.status === 400) {\r\n\t\t\t  this.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\tUnsuccessfulMessage: res.data });\r\n\t\r\n\t\t\t} else if (res.status === 500) {\r\n\t\r\n\t\t\t  this.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\tUnsuccessfulMessage: \"Server error.\" });\r\n\t\r\n\t\t\t} \r\n\t\t\telse if (res.status === 404) {\r\n\t\r\n\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t  UnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t  UnsuccessfulMessage: res.data });\r\n\t  \r\n\t\t\t} else if (res.status === 200) {\r\n\t\t\t  console.log(\"Success\");\r\n\t\t\t  this.setState({\r\n\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\tsuccessfulMessage: \"You have successfully canceled the desired appointment! \",\r\n\t\t\t\thiddenEditInfo: true,\r\n\t\t\t  });\r\n\t\r\n\t\t\t  this.refreshDrugs(drugId);\r\n\t\r\n\t\t\t}\r\n\t\t  })\r\n\t\t  .catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t  UnsuccessfulHeader: \"Error\", \r\n\t\t\t  UnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t  \r\n\t\t  });\r\n\t\r\n\t\r\n\t\r\n\t  }\r\n\t\r\n\t  refreshDrugs (drugId) {\r\n\t\r\n\t\tlet newDrugsList= [];\r\n\t\tfor (let drug of this.state.drugsReservations) {\r\n\t\t  if (drug.Id !== drugId) \r\n\t\t \t\t newDrugsList.push(drug)\r\n\t\t}\r\n\t\r\n\t\tthis.setState({\r\n\t\t\tdrugsReservations : newDrugsList,\r\n\t\t});\r\n\t\r\n\t  }\r\n\r\n\r\n\t  isAvailableToCanceled =(date) => {\r\n\r\n        var appointmentDate= new Date(date);\r\n        appointmentDate.setDate(appointmentDate.getDate() -1);\r\n\r\n        if(appointmentDate <= new Date()){\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n\t\r\n\r\n\t\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n\r\n         <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToFutureConsultation()}\r\n         hidden={this.state.hideFutureButton} \r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         Future reservation\r\n        </button>\r\n\r\n\r\n        <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToHistoryConsultation()}\r\n         hidden={this.state.hideHistoryButton} \r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         History reservation\r\n        </button>\r\n\r\n\r\n         <h1 hidden={this.state.drugsReservations.length === 0 || this.state.hideFutureDrugsReservations  } className=\"text-center  mt-3  \" >Your future drugs reservations!</h1>\r\n         <h1 hidden={this.state.drugsReservations.length !== 0 || this.state.hideFutureDrugsReservations } className=\"text-center  mt-3 text-danger\"  >You don't have future drugs reservations!</h1>\r\n\r\n\r\n\r\n         <SuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t/>\r\n\t\t<UnsuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t/>\r\n\r\n        \r\n   \r\n        <div className=\"container\" hidden={this.state.hideFutureDrugsReservations  }>\r\n                    \r\n          <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.drugsReservations.map((drugReservation) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={drugReservation.Id}\r\n\t\t\t\t\t\t\t\t\tkey={drugReservation.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"100px\">  \r\n                     <img  src={drugPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                    \r\n                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.startDate).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.startDate).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.endDate).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>    \r\n\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.endDate).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price :</b>{\" \"}\r\n                                            <b style={{color : \"red\"}}> {(Math.round(drugReservation.EntityDTO.oneDrugPrice * drugReservation.EntityDTO.count * 100) / 100).toFixed(2)} </b>\r\n                                            <b>  din</b>\r\n                                             \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                  \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacy name : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{drugReservation.EntityDTO.pharmacy.EntityDTO.name }\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacy address: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{drugReservation.EntityDTO.pharmacy.EntityDTO.address.street + \", \" + drugReservation.EntityDTO.pharmacy.EntityDTO.address.city + \", \" + drugReservation.EntityDTO.pharmacy.EntityDTO.address.country }\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                    \r\n\t\t\t\t\t\t\t\t\t<td>\r\n                                    <button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            className=\"btn btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{  marginTop: \"2em\" }}\r\n\t\t\t\t\t\t\t\t\t\t\thidden={this.isAvailableToCanceled(new Date(drugReservation.EntityDTO.endDate))\r\n                                                        || drugReservation.EntityDTO.drugReservationStatus === \"CANCELED\" \r\n                                                        || drugReservation.EntityDTO.drugReservationStatus === \"EXPIRED\" \r\n                                                        || drugReservation.EntityDTO.drugReservationStatus === \"PROCESSED\" \r\n                                            }\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleCancelDrug(drugReservation.Id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </td>\t\t\t\r\n\r\n\r\n\r\n                                    \r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\r\n\r\n          \r\n        </div>\r\n\r\n\r\n\t\t\r\n\r\n\t\t<HistoryDrugsReservations\r\n\r\n\t\thideHistoryReservations={this.state.hideHistoryDrugsReservations }\r\n\t\tdrugsReservations= {this.state.historyDrugsReservation }\r\n\t\thideFutureDrugsReservations= {this.state.hideFutureDrugsReservations }\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t/>\t\t\t\t\t\t\r\n\r\n\r\n\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FutureDrugsReservationsForPatients;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\RegistrationPage.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\HomePage.js",["449","450"],"import React from 'react';\r\nimport * as ReactBootStrap from \"react-bootstrap\";\r\nimport Header from './Header';\r\nimport TopBar from './TopBar';\r\nimport { Link } from \"react-router-dom\";\r\nimport GetAuthorisation from \"../../src/Funciton/GetAuthorisation\"\r\nimport Axios from \"axios\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\n\r\nclass HomePage extends React.Component {\r\n\r\n\r\n\r\n  componentDidMount(){\r\n\r\n        //if(this.hasSpecificRole(\"ROLE_PATIENT\")){\r\n         // this.checkPatientPenalty();\r\n          //this.checkPatientsDrugsReservations()\r\n      //  }\r\n\r\n\r\n  }\r\n\r\n\r\n    checkPatientPenalty(){\r\n\r\n      Axios.get(API_URL + \"/users/refreshPatientPenalty\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          if (res.status === 401) {\r\n            this.props.history.push('/login');\r\n          }\r\n           \r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    checkPatientsDrugsReservations(){\r\n\r\n      Axios.get(API_URL + \"/drug/refreshPatientDrugsReservations\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          if (res.status === 401) {\r\n            this.props.history.push('/login');\r\n          }\r\n           \r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n      hasSpecificRole = (reqRole) => {\r\n      let roles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n      if (roles === null) return false;\r\n\r\n      for (let role of roles) {\r\n        if (role === reqRole) return true;\r\n      }\r\n      return false;\r\n      };\r\n\r\n      hasAnyRole = (reqRole) => {\r\n        let roles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n  \r\n        if (roles === null) return false;\r\n\r\n        return true;\r\n        };\r\n\r\n    \r\n\r\n\r\n\r\n    \r\n    render() {\r\n      console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\r\n    return (\r\n      \r\n      <React.Fragment>\r\n     \r\n          <Header/>\r\n          <div >\r\n\r\n          \r\n          \r\n          \r\n          \r\n          \r\n          <section id=\"homePageSection\" className=\"d-flex \">\r\n\t\t\t\t\t<div className=\"container\" style={{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t<h1>Welcome to Health Clinic </h1>\r\n\r\n            <Link  to=\"/login\" hidden={this.hasAnyRole()} className=\"btn-Login-Register\">\r\n\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<Link  to=\"/registration\" hidden={this.hasAnyRole()} className=\"btn-Login-Register\">\r\n\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t</Link>\r\n      \r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t  </section>\r\n\r\n             \r\n        \r\n          </div>\r\n          \r\n       \r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n  \r\n  export default HomePage;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\QrCode.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AdminPharmacyComplains.js",["451"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport ReportImage from \"../Images/report.png\" ;\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport CreateComplaintModal from \"../Components/CreateComplaintModal\";\r\n\r\n\r\n\r\nclass AdminPharmacyComplains extends Component {\r\n\r\n\r\n\r\n    state = {\r\n        complaints : [],\r\n        date : new Date(),\r\n        text : \"\",\r\n        staffName : \"\",\r\n        staffSurname : \"\",\r\n        profession : \"\",\r\n        reply : \"\",\r\n        email : \"\",\r\n        complaintId : \"\",\r\n        showComplaintModal : false,\r\n      \r\n    \r\n    \r\n    };\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        Axios.get(\"http://localhost:8080/complaint/getPharmacyComplaints\", {\r\n                validateStatus: () => true,\r\n                headers: { Authorization: GetAuthorisation() },\r\n            })\r\n                .then((res) => {\r\n                    if (res.status === 401) {\r\n              this.props.history.push('/login');\r\n                    } else {\r\n                        this.setState({ complaints: res.data });\r\n                        console.log(res.data);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n    \r\n    \r\n    \r\n      }\r\n\r\n      handleReplyClick = (complaint) => {\r\n\t\tconsole.log(complaint);\r\n\t\tthis.setState({\r\n\t\t\t\r\n            text : complaint.EntityDTO.text,\r\n            \r\n            \r\n            reply : complaint.EntityDTO.reply,\r\n            email : complaint.EntityDTO.patientEmail,\r\n            complaintId : complaint.Id,\r\n\t\t\tshowComplaintModal: true,\r\n\t\t});\r\n\t};\r\n\r\n  handleComplaintChange = (event) => {\r\n\t\tthis.setState({ reply: event.target.value });\r\n\t};\r\n  handleComplaintModalClose = () => {\r\n\t\tthis.setState({ showComplaintModal: false });\r\n\t};\r\n\r\n  handleReplyComaplaint = () => {\r\n\t\tlet ComplaintStaffDTO = {\r\n\t\t\treply : this.state.reply,\r\n            pharmacyId : this.state.complaintId\r\n\t\t};\r\n\r\n\t\tAxios.post(\"http://localhost:8080/complaint/replyToPharmacyComplaint\", ComplaintStaffDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n\t\t\t\t\tthis.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\r\n          Axios.get(\"http://localhost:8080/complaint/getPharmacyComplaints\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ complaints: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n    render() {\r\n\t\r\n\r\n\t\treturn (\r\n            <React.Fragment>\r\n                <Header/>\r\n                    <h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tPharmacy complaints\r\n\t\t\t\t    </h5>\r\n\r\n                    <table className=\"table\" style={{ width: \"50%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.complaints.map((complaint) => (\r\n\t\t\t\t\t\t\t\t<tr id={complaint.Id} key={complaint.Id} >\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={ReportImage} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                  <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Patient's email: </b>{complaint.EntityDTO.patientEmail}\r\n                        \r\n                                        </div>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Complaint: </b>{complaint.EntityDTO.text}\r\n                        \r\n                                        </div>  \r\n\r\n                                        \r\n\r\n                                      </td>\r\n\r\n                                      <td className=\"align-middle\">\r\n                                      <div style={{ marginLeft: \"55%\" }}>\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          onClick={() => this.handleReplyClick(complaint)}\r\n                                          className=\"btn btn-outline-secondary btn-block\"\r\n                                        >\r\n                                          Reply\r\n                                        </button>\r\n                                      </div>\r\n                                      \r\n                                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n                    <CreateComplaintModal\r\n\t\t\t\t\tbuttonName=\"Send reply\"\r\n\t\t\t\t\theader=\"Reply to complaint\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleReplyComaplaint}\r\n\t\t\t\t\tname={this.state.staffName + \" \" + this.state.staffSurname}\r\n\t\t\t\t\tforWho=\"consultant\"\r\n\t\t\t\t\thandleClickIcon={this.handleClickIcon}\r\n\t\t\t\t\tcomplaint={this.state.complaint}\r\n\t\t\t\t/>\r\n\r\n            </React.Fragment>\r\n\r\n    );\r\n}\r\n\r\n}\r\nexport default AdminPharmacyComplains;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Drugs.js",["452","453","454","455"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport MedicamentPicture from \"../Images/medicament.jpg\" ;\r\nimport DrugSpecificationModal from \"./DrugSpecification\";\r\nimport GetAuthorisation from \"../../src/Funciton/GetAuthorisation\"\r\nimport PharmaciesWithDrugAndPrice from '../Components/Pharmacies/PharmaciesWithDrugAndPrice';\r\nimport ReservationDrugModal from \"./Modal/ReservationDrugsModal\";\r\nimport FirstGradeModal from \"../Components/Modal/FirstGradeModal\";\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass Drugs extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n      drugs: [],\r\n      specificationModalShow: false,\r\n      ingredients: [],\r\n      replacingDrugs: [],\r\n      drugGrades: [],\r\n      newGrades: [],\r\n      drugAmount: \"\",\r\n      drugQuantity: \"\",\r\n      drugManufacturer: \"\",\r\n      drugName: \"\",\r\n      onReciept: false,\r\n      drugKind: \"\",\r\n      drugFormat: \"\",\r\n      sideEffects: \"\",\r\n      points: \"\",\r\n      formShowed: false,\r\n      searchName: \"\",\r\n      searchGradeFrom: \"\",\r\n      searchGradeTo: \"\",\r\n      drugKinds: [],\r\n      showFeedbackModal: false,\r\n      showModifyFeedbackModal: false,\r\n      selectedDrugId: \"\",\r\n      drugNameModal: \"\",\r\n      grade: 1,\r\n      hiddenFailAlert: true,\r\n      failHeader: \"\",\r\n      failMessage: \"\",\r\n      hiddenSuccessAlert: true,\r\n      successHeader: \"\",\r\n      successMessage: \"\",\r\n      loggedPatient: false,\r\n      unauthorizedRedirect: false,\r\n\t  pharmacies: [],\r\n\t  showPharmaciesPage : false,\r\n\t\t\r\n\t  showReservationDialog : false,\r\n\t  pharmacyId : \"\",\r\n\t  maxCount : \"\",\r\n\t  price : 0 ,\r\n\t  drugId : \"\",\t\r\n\t  hiddenErrorAlert: true,\r\n\t  errorHeader : \"\",\r\n\t  errorMessage : \"\",\r\n\r\n\t  hiddenSuccessfulAlert : true,\r\n\t  SuccessfulHeader : \"\",\r\n\t  SuccessfulMessage : \"\",\r\n\t  hiddenUnsuccessfulAlert: true,\r\n      UnsuccessfulHeader: \"\",\r\n      UnsuccessfulMessage: \"\",\t\r\n\r\n\t  selectedDrug : [],\r\n\t\tdrugIdForGrade : \"\",\r\n\t\tdrugGrade : 0,\r\n\t\tdrugName : \"\",\r\n\t\tshowGradeModal: false,\r\n\t\tshowFirstGrade : false,\r\n\t\tshowModifyGrade : false,\r\n\t\tmaxGrade : 5\r\n\t  \r\n\r\n\r\n  };\r\n\r\n\r\n  \r\n\r\n  componentDidMount() {\r\n\t\t\r\n\r\n\t\tthis.state.loggedPatient= this.hasRole(\"ROLE_PATIENT\");\r\n\r\n\r\n\r\n\t\tAxios.get(\"http://localhost:8080/drug/getDrugsWithGrade\")\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ drugs: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tAxios.get(\"http://localhost:8080/drug/drugkind\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdrugKinds: res.data,\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n         \r\n\t}\r\n\r\n\r\n\r\n\thasRole = (requestRole) => {\r\n\t\tlet currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\t\r\n\t\tif (currentRoles === null) return false;\r\n\t\r\n\t\r\n\t\tfor (let currentRole of currentRoles) {\r\n\t\t  if (currentRole === requestRole) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t  };\r\n\r\n  handleDrugKindChange = (event) => {\r\n\t\tthis.setState({ drugKind: event.target.value });\r\n\t};\r\n\r\n\thangleFormToogle = () => {\r\n\t\tthis.setState({ formShowed: !this.state.formShowed });\r\n\t};\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ searchName: event.target.value });\r\n\t};\r\n\r\n\thandleGradeFromChange = (event) => {\r\n\t\tthis.setState({ searchGradeFrom: event.target.value });\r\n\t};\r\n\r\n\thandleGradeToChange = (event) => {\r\n\t\tthis.setState({ searchGradeTo: event.target.value });\r\n\t};\r\n\r\n  handleResetSearch = () => {\r\n\t\tAxios.get(\"http://localhost:8080/drug/getDrugsWithGrade\")\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdrugs: res.data,\r\n\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\tshowingSearched: false,\r\n\t\t\t\t\tsearchName: \"\",\r\n\t\t\t\t\tsearchGradeFrom: \"\",\r\n\t\t\t\t\tsearchGradeTo: \"\",\r\n\t\t\t\t\tdrugKind: \"\",\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tAxios.get(\"http://localhost:8080/drug/drugkind\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdrugKinds: res.data,\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n  handleSearchClick = () => {\r\n\t\t{\r\n\t\t\tlet gradeFrom = this.state.searchGradeFrom;\r\n\t\t\tlet gradeTo = this.state.searchGradeTo;\r\n\t\t\tlet name = this.state.searchName;\r\n\t\t\tlet drugKind = this.state.drugKind;\r\n\r\n\t\t\tif (gradeFrom === \"\") gradeFrom = -1;\r\n\t\t\tif (gradeTo === \"\") gradeTo = -1;\r\n\t\t\tif (name === \"\") name = \"\";\r\n\t\t\tif (drugKind === \"\") drugKind = \"\";\r\n\r\n\t\t\tAxios.get(\"http://localhost:8080/drug/searchDrugs\", {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tgradeFrom: gradeFrom,\r\n\t\t\t\t\tgradeTo: gradeTo,\r\n\t\t\t\t\tdrugKind: drugKind,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdrugs: res.data,\r\n\t\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\t\tshowingSearched: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n \r\n\r\n  handleModalClose = () => {\r\n\t\tthis.setState({ specificationModalShow: false });\r\n\t};\r\n\r\n  handleCloseAlertFail = () => {\r\n\t\tthis.setState({ hiddenFailAlert: true });\r\n\t};\r\n\r\n\thandleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n\t};\r\n\r\n\thandleClickIcon = (grade) => {\r\n\t\tthis.setState({ grade });\r\n\t};\r\n\r\n\thandleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\t\r\n\r\n\thandleDrugClick = (drug) => {\r\n\t\tconsole.log(drug);\r\n\t\tthis.setState({\r\n\t\t\tdrugAmount: drug.EntityDTO.recommendedAmount,\r\n\t\t\tdrugQuantity: drug.EntityDTO.quantity,\r\n\t\t\tdrugManufacturer: drug.EntityDTO.manufacturer.EntityDTO.name,\r\n\t\t\tdrugName: drug.EntityDTO.name,\r\n\t\t\tdrugKind: drug.EntityDTO.drugKind,\r\n\t\t\tdrugFormat: drug.EntityDTO.drugFormat,\r\n\t\t\tsideEffects: drug.EntityDTO.sideEffects,\r\n\t\t\tonReciept: drug.EntityDTO.onReciept,\r\n\t\t\tpoints: drug.EntityDTO.loyalityPoints,\r\n\t\t\tingredients: drug.EntityDTO.ingredients,\r\n\t\t\treplacingDrugs: drug.EntityDTO.replacingDrugs,\r\n\t\t\tspecificationModalShow: true,\r\n\t\t});\r\n\t};\r\n\t\r\n\r\n\thandleOnDrugSelect = (selectedDrugId) => {\r\n\t\t\r\n\t\tif (this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\t\r\n\t\tconsole.log(\"idemoo\")\r\n\t\t\r\n\t\tthis.setState({ drugId: selectedDrugId });\r\n\r\n\r\n\t\tAxios.get(API_URL + \"/pharmacy/findPharmaciesByDrugIdWithDrugPrice/\" + selectedDrugId,{\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\t\r\n                if (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n                }else{\r\n                    this.setState({ pharmacies: res.data,\r\n\t\t\t\t\t\t\t\t\tshowPharmaciesPage : true});\r\n                }\r\n\r\n\t\t\t\tthis.refreshPharmacies();\r\n\r\n\t\t\t\tconsole.log(this.state.pharmacies);\r\n                \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\t}\r\n\r\n\t};\r\n\r\n\r\n\tbackToDrugsPage = () => {\r\n\t\tthis.setState({ showPharmaciesPage : false,\r\n\t\t\t\t\t\tpharmacies : [] });\r\n\t};\r\n\r\n\r\n\r\n\topenReservationDialog = (pharmacy) => {\r\n\t\t\r\n\t\tthis.setState({ showReservationDialog : true,\r\n\t\t\t\t\t\tpharmacyId : pharmacy.Id,\r\n\t\t\t\t\t\tmaxCount : pharmacy.availableDrugCount,\r\n\t\t\t\t\t\tprice : pharmacy.drugPrice});\r\n\r\n\r\n\t\t\tconsole.log(pharmacy.Id + \"id \" +pharmacy.availableDrugCount+ \"kolicina \" + pharmacy.drugPrice + \"cena \" );\r\n\r\n\t};\r\n\t\r\n\tcloseReservationDrugModal = () => {\r\n\t\tthis.setState({ showReservationDialog : false,\r\n\t\t\thiddenErrorAlert : true,\r\n\t\t\terrorHeader\t: \"\",\r\n\t\t\terrorMessage : \"\" });\r\n\t};\r\n\t\r\n\thandleCloseErrorAlert = () => {\r\n\t\tthis.setState({hiddenErrorAlert : true,\r\n\t\t\terrorHeader\t: \"\",\r\n\t\t\terrorMessage : \"\"\t\t\t\r\n\t\t\t\t\t\t});\r\n\t};\r\n\t\r\n\r\n\treserveDrugs = (drugCount, endDate, forwardedPrice) => {\r\n\t\tthis.setState({hiddenErrorAlert : true,\r\n\t\t\terrorHeader\t: \"\",\r\n\t\t\terrorMessage : \"\"\t\t\t\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\r\n\t\tlet DrugReservationDTO = {\r\n\t\t\tdrugId: this.state.drugId,\r\n\t\t\tpharmacyId: this.state.pharmacyId,\r\n\t\t\tdrugsCount: drugCount,\r\n\t\t\tpriceForOneDrug: forwardedPrice,\r\n\t\t\tendDate: endDate,\r\n\t\t};\r\n\r\n\t\t\r\n\r\n\t\tconsole.log(DrugReservationDTO)\r\n\r\n\t\tAxios.post(API_URL + \"/drug/reserveDrug\", DrugReservationDTO, \r\n\t\t{ validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\tthis.setState({ hiddenErrorAlert: false, errorHeader: \"Bad request\", errorMessage: res.data });\r\n\t\t\t\t}else if (res.status === 401) {\r\n\t\t\t\t\t\tthis.props.history.push('/login');\t\r\n\t\t\t\t} else if (res.status === 500) {\r\n\t\t\t\t\tthis.setState({ hiddenErrorAlert: false, errorHeader: \"Internal server error\", errorMessage: \"Server error.\" });\r\n\t\t\t\t} else if (res.status === 201) {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tthis.setState({ showReservationDialog: false,\r\n\t\t\t\t\t\thiddenSuccessfulAlert : false,\r\n\t\t\t\t\t\tSuccessfulHeader : \"Successful reservation \",\r\n\t\t\t\t\t\tSuccessfulMessage : \"You reserved drugs \" });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t\tthis.handleOnDrugSelect(this.state.drugId)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tthis.setState({ hiddenErrorAlert: false, errorHeader: \"Internal server error\", errorMessage: \"Some error\" });\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\t\t\t\r\n\t};\r\n\r\n\t\r\n\t\trefreshPharmacies () {\r\n\r\n\t\t\tlet newPharmaciesList= [];\r\n\t\t\tfor (let pharmacy of this.state.pharmacies) {\r\n\t\t\t  if (pharmacy.availableDrugCount !== 0) \r\n\t\t\t  \t\tnewPharmaciesList.push(pharmacy)\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tpharmacies : newPharmaciesList,\r\n\t\t\t});\r\n\t\t\r\n\t\t  }\r\n\t\r\n\r\n\r\n\r\n\r\n\t\thandleGetGradeClick = (drug) => {\r\n\t\t\tconsole.log(drug);\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\t\tAxios.get(API_URL + \"/grade/drug/\" + drug.Id , {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\t\tthis.props.history.push('/login');\r\n\t\t\t\t\t} else if(res.status === 404){\r\n\t\r\n\t\r\n\t\t\t\t\t\tconsole.log(\"Nema ocenu\");\r\n\t\r\n\t\t\t\t\t\tlet entityDTO = {\r\n\t\t\t\t\t\t\tshowGradeModal : true,\r\n\t\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\t\t\tdrugId : drug.Id,\r\n\t\t\t\t\t\t\t\tdrugGrade : drug.EntityDTO.avgGrade,\r\n\t\t\t\t\t\t\t\tdrugName : drug.EntityDTO.name,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t};\r\n\t\r\n\t\r\n\t\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\t\t\tdrugIdForGrade : drug.Id,\r\n\t\t\t\t\t\t\tdrugGrade : drug.EntityDTO.avgGrade,\r\n\t\t\t\t\t\t\tdrugName : drug.EntityDTO.name\r\n\t\t\t\t\t\t\t});\r\n\t\r\n\t\t\t\t\t\t\tconsole.log(drug.Id);\r\n\t\t\t\t\t\t\tconsole.log(entityDTO);\r\n\t\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\r\n\t\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\t\tshowModifyGrade : true,\t\r\n\t\t\t\t\t\t\tdrugIdForGrade : drug.Id,\r\n\t\t\t\t\t\t\tdrugGrade : res.data.grade,\r\n\t\t\t\t\t\t\tdrugName : drug.EntityDTO.name\r\n\t\t\t\t\t\t\t});\r\n\t\r\n\t\t\t\t\t\t\tconsole.log(res.data.grade);\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\r\n\t\r\n\t\t};\r\n\t\r\n\t\r\n\t\tsetFirstGrade = (grade) => {\r\n\t\t\t\r\n\t\t\tconsole.log(\"sou\")\r\n\t\t\tconsole.log(this.state.drugIdForGrade )\r\n\t\r\n\t\t\tlet entityDTO = {\r\n\t\t\t\tdrugId: this.state.drugIdForGrade ,\r\n\t\t\t\tgrade: grade\r\n\t\t\t};\r\n\t\r\n\t\t\tconsole.log(entityDTO);\r\n\t\r\n\t\t\tAxios.post(API_URL + \"/grade/drug/createGrade\",entityDTO , {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\t\tthis.props.history.push('/login');\r\n\t\t\t\t\t} else if(res.status === 404){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n\t\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t\tshowModifyGrade : false});\r\n\t\r\n\t\t\t\t\t}else if(res.status === 500){\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n\t\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t\t showModifyGrade : false  });\r\n\t\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful created grade for drug! \",\r\n\t\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t\t showModifyGrade : false   });\r\n\t\r\n\t\t\t\t\t\tthis.componentDidMount();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\t};\r\n\t\r\n\t\tsetModifyGrade = (grade) => {\r\n\t\t\t\r\n\t\t\tconsole.log(\"sou\")\r\n\t\r\n\t\t\tlet entityDTO = {\r\n\t\t\t\tdrugId: this.state.drugIdForGrade ,\r\n\t\t\t\tgrade: grade,\r\n\t\t\t};\r\n\t\r\n\t\t\tconsole.log(entityDTO);\r\n\t\r\n\t\r\n\t\t\tAxios.post(API_URL + \"/grade/drug/updateGrade\",entityDTO , {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\t\tthis.props.history.push('/login');\r\n\t\t\t\t\t} else if(res.status === 404){\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n\t\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t\tshowModifyGrade : false});\r\n\t\r\n\t\t\t\t\t}else if(res.status === 500){\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n\t\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t\t showModifyGrade : false  });\r\n\t\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful update grade for drug! \",\r\n\t\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t\t showModifyGrade : false   });\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t this.componentDidMount();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\r\n\t\r\n\t\r\n\t\t};\r\n\t\t\r\n\t\tcloseFirstGradeModal = () => {\r\n\t\r\n\t\t\tthis.setState({ showFirstGrade : false,\r\n\t\t\t\tshowModifyGrade : false,\r\n\t\t\t\tshowGradeModal : false});\r\n\t\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n      <div id=\"allDrugs\" hidden={this.state.showPharmaciesPage}>\r\n\r\n\t\t\t<div className=\"container\" style={{ marginTop: \"1em\" }} >\r\n\t\t\t<SuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t\t\t/>\r\n\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n           \r\n           \r\n            <div style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }} width=\"100%\">\r\n\r\n            <h5 className=\" text-center mb-0 mt-2 text-uppercase\">Drugs</h5>\r\n\t\t\t\t\t<button className=\"btn btn-outline-primary btn-xl\" type=\"button\" onClick={this.hangleFormToogle}>\r\n\t\t\t\t\t\t<i className=\"icofont-rounded-down mr-1\"></i>\r\n\t\t\t\t\t\tSearch drugs\r\n\t\t\t\t\t</button>\r\n\r\n            <form className={this.state.formShowed ? \"form-inline mt-3\" : \"form-inline mt-3 collapse\"} width=\"100%\" id=\"formCollapse\">\r\n\t\t\t\t\t\t<div className=\"form-group mb-2\" width=\"100%\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchName}\r\n\t\t\t\t\t\t\t/>\r\n              <select\r\n\t\t\t\t\t\t\t\tplaceholder=\"Drug kind\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleDrugKindChange}\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>\r\n\t\t\t\t\t\t\t\t\tDrug Kind\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t{this.state.drugKinds.map((kind) => (\r\n\t\t\t\t\t\t\t\t\t<option value={kind.EntityDTO.type}>{kind.EntityDTO.type}</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Grade from\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\tmax=\"5\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleGradeFromChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchGradeFrom}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Grade to\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\tmax=\"5\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleGradeToChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchGradeTo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\" }}\r\n\t\t\t\t\t\t\t\tonClick={this.handleSearchClick}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-x2\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"icofont-search mr-1\"></i>\r\n\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\r\n          <div className={this.state.showingSearched ? \"form-group mt-2\" : \"form-group mt-2 collapse\"}>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-secondary\" onClick={this.handleResetSearch}>\r\n\t\t\t\t\t\t\t<i className=\"icofont-close-line mr-1\"></i>Reset\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\r\n\r\n\t\t\r\n\t\t\t<div hidden={!this.hasRole(\"ROLE_PATIENT\")} style={{  marginTop: \"3em\" }} >\r\n\t\t\t\t<b><g1 >Click on drug to reserve it!</g1></b>\r\n\t\t\t</div>\r\n\t\t\t\r\n\r\n\r\n          <table className={this.state.loggedPatient === true ? \"table table-hover\" : \"table\"} style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.drugs.map((drug) => (\r\n\t\t\t\t\t\t\t\t<tr id={drug.Id} key={drug.Id} style={this.state.loggedPatient === true ? { cursor: \"pointer\" } : {}}>\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td  onClick={() => this.handleOnDrugSelect(drug.Id)}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name:</b> {drug.EntityDTO.drugInstanceName}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Kind:</b> {drug.EntityDTO.drugKind}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Grade:</b> {drug.EntityDTO.avgGrade}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDrugClick(drug)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSpecification\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\",marginTop: \"1em\"  }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleGetGradeClick(drug)}\r\n\t\t\t\t\t\t\t\t\t\t\thidden={!this.hasRole(\"ROLE_PATIENT\")}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tDrug grade\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n             \r\n\r\n\t\t\t\t\t\r\n\r\n          \r\n          </div>\r\n\r\n\r\n\r\n\r\n        \r\n        </div>\r\n        <DrugSpecificationModal\r\n\t\t\t\t\t\tonCloseModal={this.handleModalClose}\r\n\t\t\t\t\t\tdrugAmount={this.state.drugAmount}\r\n\t\t\t\t\t\theader=\"Drug specification\"\r\n\t\t\t\t\t\tshow={this.state.specificationModalShow}\r\n\t\t\t\t\t\tdrugQuantity={this.state.drugQuantity}\r\n\t\t\t\t\t\tdrugKind={this.state.drugKind}\r\n\t\t\t\t\t\tdrugFormat={this.state.drugFormat}\r\n\t\t\t\t\t\tdrugManufacturer={this.state.drugManufacturer}\r\n\t\t\t\t\t\tdrugName={this.state.drugName}\r\n\t\t\t\t\t\tonReciept={this.state.onReciept}\r\n\t\t\t\t\t\tsideEffects={this.state.sideEffects}\r\n\t\t\t\t\t\tpoints={this.state.points}\r\n\t\t\t\t\t\tingredients={this.state.ingredients}\r\n\t\t\t\t\t\treplacingDrugs={this.state.replacingDrugs}\r\n\t\t\t\t\t/>\r\n       \r\n\t   \r\n\t   \t<PharmaciesWithDrugAndPrice\r\n\r\n\r\n\t\t\t\t\tpharmacies= {this.state.pharmacies}\r\n\t\t\t\t\tshow={this.state.showPharmaciesPage}\t\t\t\r\n\t\t\t\t\tback={this.backToDrugsPage}\t\r\n\t\t\t\t\topenReservationDialog={this.openReservationDialog}\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\thiddenSuccessfulAlert={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\t\tSuccessfulHeader={this.state.SuccessfulHeader}\r\n\t\t\t\t\tSuccessfulMessage={this.state.SuccessfulMessage}\r\n\t\t\t\t\thandleCloseSuccessfulAlert={this.handleCloseSuccessfulAlert}\t\t\t\r\n\r\n\t\t   />\r\n\r\n\t\t\t<ReservationDrugModal\r\n\r\n\r\n\t\t\t\r\n\t\t\tshow={this.state.showReservationDialog}\t\t\t\r\n\t\t\tmaxCount={this.state.maxCount}\r\n\t\t\tdrugPrice={this.state.price}\t\t\r\n\t\t\tcloseModal={this.closeReservationDrugModal}\t\t\t\t\t\r\n\t\t\treserveDrugs= {this.reserveDrugs}\t\t\t\t\t\r\n\t\t\thiddenErrorAlert={this.state.hiddenErrorAlert}\t\t\t\t\t\t\r\n\t\t\terrorHeader={this.state.errorHeader}\t\r\n\t\t\terrorMessage={this.state.errorMessage}\t\r\n\t\t\thandleCloseErrorAlert={this.handleCloseErrorAlert}\t\t\t\t\t\t\r\n\r\n\t\t\t/>\t\t\t\t\t\r\n\r\n\r\n\t\t<FirstGradeModal \r\n\r\n\t\t\t\tshow={this.state.showGradeModal}\r\n\t\t\t\tshowFirstGrade={this.state.showFirstGrade}\r\n\t\t\t\tshowModifyGrade={this.state.showModifyGrade}\r\n\t\t\t\temployeeGrade={this.state.drugGrade}\t\t\t\t\t\t\t\r\n\t\t\t\tmaxGrade={this.state.maxGrade}\r\n\t\t\t\temployeeName={this.state.drugName }\r\n\t\t\t\temployeeSurname={\"\"}\r\n\t\t\t\theader={\"Grade\"}\r\n\t\t\t\tbuttonFirstGradeName={\"Grade\"}\r\n\t\t\t\tbuttonModifyGradeName={\" Update grade\"}\t\t\t\t\t\t\t\t\r\n\t\t\t\tsetFirstGrade={this.setFirstGrade}\t\r\n\t\t\t\tsetModifyGrade={this.setModifyGrade}\r\n\t\t\t\tonCloseModal={this.closeFirstGradeModal}\t\t\t\t\t\t\r\n\r\n\t\t/>\t\t\t\t\t\t\t\t\t\r\n   \r\n\t   \r\n\t    </React.Fragment>\r\n        \r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Drugs;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AdminStaffComplains.js",["456"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport ReportImage from \"../Images/report.png\" ;\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport CreateComplaintModal from \"../Components/CreateComplaintModal\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass AdminStaffComplains extends Component {\r\n\r\n\r\n\r\n  state = {\r\n    complaints : [],\r\n    date : new Date(),\r\n    text : \"\",\r\n    staffName : \"\",\r\n    staffSurname : \"\",\r\n    profession : \"\",\r\n    reply : \"\",\r\n    email : \"\",\r\n    complaintId : \"\",\r\n    showComplaintModal : false,\r\n  \r\n\r\n\r\n};\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    Axios.get(\"http://localhost:8080/complaint/getStaffComplaints\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ complaints: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  handleReplyClick = (complaint) => {\r\n\t\tconsole.log(complaint);\r\n\t\tthis.setState({\r\n\t\t\tdate : complaint.EntityDTO.date,\r\n      text : complaint.EntityDTO.text,\r\n      staffName : complaint.EntityDTO.staffName,\r\n      staffSurname : complaint.EntityDTO.staffSurname,\r\n      profession : complaint.EntityDTO.profession,\r\n      reply : complaint.EntityDTO.reply,\r\n      email : complaint.EntityDTO.email,\r\n      complaintId : complaint.Id,\r\n\t\t\tshowComplaintModal: true,\r\n\t\t});\r\n\t};\r\n\r\n  handleComplaintChange = (event) => {\r\n\t\tthis.setState({ reply: event.target.value });\r\n\t};\r\n  handleComplaintModalClose = () => {\r\n\t\tthis.setState({ showComplaintModal: false });\r\n\t};\r\n\r\n  handleReplyComaplaint = () => {\r\n\t\tlet ComplaintStaffDTO = {\r\n\t\t\treply : this.state.reply,\r\n      complaintId : this.state.complaintId\r\n\t\t};\r\n\r\n\t\tAxios.post(\"http://localhost:8080/complaint/replyToStaffComplaint\", ComplaintStaffDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n\t\t\t\t\tthis.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\r\n          Axios.get(\"http://localhost:8080/complaint/getStaffComplaints\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ complaints: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\r\n    render() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n\r\n      <h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tStaff complaints\r\n\t\t\t\t</h5>\r\n\r\n\r\n        <table className=\"table\" style={{ width: \"50%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.complaints.map((complaint) => (\r\n\t\t\t\t\t\t\t\t<tr id={complaint.Id} key={complaint.Id} >\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={ReportImage} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                  <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Patient's email: </b>{complaint.EntityDTO.email}\r\n                        \r\n                                        </div>\r\n                                        <div>  \r\n                                        <b>Employee's name: </b>{complaint.EntityDTO.staffName + \"  \" + complaint.EntityDTO.staffSurname}\r\n                        \r\n                                        </div> \r\n                                        <div>  \r\n                                        <b>Complaint: </b>{complaint.EntityDTO.text}\r\n                        \r\n                                        </div>  \r\n\r\n                                        \r\n\r\n                                      </td>\r\n\r\n                                      <td className=\"align-middle\">\r\n                                      <div style={{ marginLeft: \"55%\" }}>\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          onClick={() => this.handleReplyClick(complaint)}\r\n                                          className=\"btn btn-outline-secondary btn-block\"\r\n                                        >\r\n                                          Reply\r\n                                        </button>\r\n                                      </div>\r\n                                      \r\n                                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n          <CreateComplaintModal\r\n\t\t\t\t\tbuttonName=\"Send reply\"\r\n\t\t\t\t\theader=\"Reply to complaint\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleReplyComaplaint}\r\n\t\t\t\t\tname={this.state.staffName + \" \" + this.state.staffSurname}\r\n\t\t\t\t\tforWho=\"consultant\"\r\n\t\t\t\t\thandleClickIcon={this.handleClickIcon}\r\n\t\t\t\t\tcomplaint={this.state.complaint}\r\n\t\t\t\t/>\r\n      </React.Fragment>\r\n        \r\n\t\t);\r\n        }\r\n\r\n}\r\nexport default AdminStaffComplains;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\LoginPage.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\activateAccount.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies.js",["457","458","459","460"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport PharmacyLogoPicture from \"../Images/pharmacyLogo.jpg\" ;\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport FirstGradeModal from \"../Components/Modal/FirstGradeModal\";\r\nimport CreateComplaintModal from \"../Components/CreateComplaintModal\";\r\nimport ModalDialog from './ModalDialog';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"../App.js\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass Pharmacies extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n\t\r\n        allPharmacies: [],\r\n        subscribedPharmacies: [],\r\n        pharmacySearchName: \"\",\r\n        searchCountryName: \"\",\r\n        searchStreetName: \"\",\r\n        searchCityName: \"\",\r\n        showSearchedForm: false,\r\n        showResetSearced: false,\r\n        inputError : \"none\",\r\n        pharmacyID : \"\",\r\n        text : \"\",\r\n        pharmacyName:\"\",\r\n        patientEmail:\"\",\r\n        showComplaintModal:false,\r\n        openModal:false,\r\n        \r\n      \r\n        redirect: false,\r\n        redirectUrl: \"\",\r\n        selectedPharmacy : [],\r\n        pharmacyId : \"\",\r\n        pharmacyGrade : 0,\r\n        pharmacyName : \"\",\r\n        showGradeModal: false,\r\n        showFirstGrade : false,\r\n        showModifyGrade : false,\r\n        maxGrade : 5,\r\n\r\n\r\n        hiddenSuccessfulAlert : true,\r\n        SuccessfulHeader : \"\",\r\n        SuccessfulMessage : \"\",\r\n        hiddenUnsuccessfulAlert: true,\r\n        UnsuccessfulHeader: \"\",\r\n        UnsuccessfulMessage: \"\",\r\n\r\n  };\r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  \r\n\r\n  componentDidMount() {\r\n\r\n    \r\n\t\t\r\n\r\n\t\tAxios.get(API_URL + \"/pharmacy/allPharmacies\")\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ allPharmacies: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n  if(this.hasRole(\"ROLE_PATIENT\")){\r\n    Axios.get(\"http://localhost:8080/pharmacy/allPatientsSubscribedPharmacies\", {\r\n    \r\n     \r\n    validateStatus: () => true, headers: { Authorization: GetAuthorisation() }\r\n     })\r\n\r\n     .then((res) => {\r\n      this.setState({ subscribedPharmacies: res.data });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  Axios.get(\"http://localhost:8080/users/patient\", { validateStatus: () => true, headers: { Authorization : GetAuthorisation()} })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n              this.setState({\r\n              patientEmail: res.data.EntityDTO.email,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t});\r\n\r\n\r\n  \r\n         \r\n\t}\r\n\r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n   handleSearchForm = () => {    \r\n   \r\n    if(this.state.inputError=== \"initial\")\r\n      this.setState({inputError :\"none\"});\r\n      \r\n   \r\n    this.setState({showSearchedForm : !this.state.showSearchedForm,\r\n                    showResetSearced: false});\r\n          \r\n                    if(this.state.showSearchedForm===false){\r\n\r\n                      this.setState({\r\n    \r\n                        showResetSearced: true,\r\n                        pharmacySearchName: \"\",\r\n                        searchCountryName: \"\",\r\n                        searchStreetName: \"\",\r\n                        searchCityName: \"\",\r\n                        inputError : \"none\"     \r\n                      \r\n                      });\r\n\r\n                    }\r\n\r\n                    \r\n   }\r\n\r\n   handlePharmacySearchNameChange = (event) => {\r\n\t\tthis.setState({ pharmacySearchName: event.target.value });\r\n\t};\r\n\r\n  handleSearchCountryNameChange= (event) => {\r\n\t\tthis.setState({ searchCountryName: event.target.value });\r\n\t};\r\n\r\n  handleSearchStreetNameChange= (event) => {\r\n\t\tthis.setState({ searchStreetName: event.target.value });\r\n\t};\r\n\r\n  \r\n  handleSearchCityNameChange= (event) => {\r\n\t\tthis.setState({ searchCityName: event.target.value });\r\n\t};\r\n\r\n\r\n\r\n    SearchPharmacies = () => {\r\n\r\n\r\n    if (this.state.pharmacySearchName === \"\" && this.state.searchCityName === \"\" \r\n          &&  this.state.searchCountryName=== \"\" &&  this.state.searchStreetName=== \"\" ) {\r\n          this.setState({ inputError : \"initial\" });\r\n             return false;\r\n    } \r\n  \r\n    this.setState({ inputError : \"none\" });\r\n  \r\n      const searchDTO = {\r\n  \r\n        name : this.state.pharmacySearchName,\r\n        street : this.state.searchStreetName,\r\n        city: this.state.searchCityName,\r\n        country : this.state.searchCountryName,\r\n  \r\n  \r\n       };\r\n\r\n      \r\n\r\n      Axios.post(API_URL + \"/pharmacy/searchPharmacies\", searchDTO)\r\n  \r\n      .then((res) => {\r\n        this.setState({\r\n          allPharmacies: res.data,\r\n          showResetSearced : true,\r\n          showSearchedForm : false,      \r\n        \r\n        });\r\n       \r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        \r\n      });\r\n  \r\n      \r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    resetSearch = () => {\r\n\r\n   \r\n    this.setState({\r\n    \r\n     showResetSearced : false,\r\n     showSearchedForm : false, \r\n     pharmacySearchName: \"\",\r\n     searchCountryName: \"\",\r\n     searchStreetName: \"\",\r\n     searchCityName: \"\",\r\n     inputError : \"none\"     \r\n   \r\n   });\r\n\r\n          \r\n    Axios.get(API_URL + \"/pharmacy/allPharmacies\")\r\n\r\n    .then((res) => {\r\n      this.setState({ allPharmacies\r\n        : res.data });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n\r\n\t\t\r\n\t};\r\n\r\n\r\n  handleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n  }\r\n\r\n\r\n\r\n  handleSubscribe = (pharmacy) => {\r\n\t\tconsole.log(pharmacy);\r\n    \r\n\t\t\r\n\r\n    Axios.get(\"http://localhost:8080/users/subscribeToPharmacy/\", {\r\n    \r\n      params: {\r\n        pharmacyId: pharmacy.Id\r\n    },\r\n    validateStatus: () => true, headers: { Authorization: GetAuthorisation() }\r\n     })\r\n    .then((res) => {\r\n        \r\n      Axios.get(\"http://localhost:8080/pharmacy/allPatientsSubscribedPharmacies\", {\r\n    \r\n     \r\n              validateStatus: () => true, headers: { Authorization: GetAuthorisation() }\r\n              })\r\n\r\n              .then((res) => {\r\n                this.setState({ subscribedPharmacies: res.data });\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n        \r\n    })\r\n\r\n\t};\r\n\r\n\r\n  handleUnsubscribe = (pharmacy) => {\r\n\t\tconsole.log(pharmacy);\r\n    \r\n\t\t\r\n\r\n    Axios.get(\"http://localhost:8080/users/unsubscribeFromPharmacy/\", {\r\n    \r\n      params: {\r\n        pharmacyId: pharmacy.Id\r\n    },\r\n    validateStatus: () => true, headers: { Authorization: GetAuthorisation() }\r\n     })\r\n    .then((res) => {\r\n\r\n      Axios.get(\"http://localhost:8080/pharmacy/allPatientsSubscribedPharmacies\", {\r\n    \r\n     \r\n          validateStatus: () => true, headers: { Authorization: GetAuthorisation() }\r\n          })\r\n\r\n          .then((res) => {\r\n            this.setState({ subscribedPharmacies: res.data });\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n        \r\n        \r\n        \r\n    })\r\n\r\n\t};\r\n\r\n  \r\n\r\n  isSubscribed = (pharmacy) => {\r\n\t\tconsole.log(pharmacy);\r\n    \r\n\t\tfor (const [index, value] of this.state.subscribedPharmacies.entries()) {\r\n\r\n      if(this.state.subscribedPharmacies[index].Id===pharmacy.Id){\r\n        console.log(\"usao\");\r\n        return true;\r\n      }\r\n\r\n    }\r\n\r\n    return false;\r\n\r\n     \r\n\r\n\t};\r\n\r\n  handleComplaintClick = (pharmacy) => {\r\n\t\tconsole.log(pharmacy);\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpharmacyID: pharmacy.Id,\r\n            pharmacyName: pharmacy.EntityDTO.name,\r\n            showComplaintModal: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t};\r\n\r\n  handleComplaintChange = (event) => {\r\n\t\tthis.setState({ text: event.target.value });\r\n\t};\r\n\r\n  handleComplaintModalClose = () => {\r\n\t\tthis.setState({ showComplaintModal: false });\r\n\t};\r\n\r\n  handleComaplaint = () => {\r\n\t\tlet ComplaintPharmacyDTO = {\r\n\t\t\tpharmacyId: this.state.pharmacyID,\r\n\t\t\tpatientEmail: this.state.patientEmail,\r\n\t\t\tDate: new Date(),\r\n\t\t\ttext: this.state.text,\r\n\t\t\treply: \"\",\r\n\t\t};\r\n\r\n\t\tAxios.post(\"http://localhost:8080/complaint/pharmacy\", ComplaintPharmacyDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n          this.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n        }else if(resp.status === 403){\r\n\r\n          this.setState({\r\n            openModal: true,\r\n          });\r\n\t\t\t\t\t\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n  handleModalCloseCantUse= () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModal: false,\r\n            \r\n\t\t});\r\n\r\n\t};\r\n\r\n\r\n\thandleCloseUnsuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n  handleGetGradeClick = (pharmacy) => {\r\n    console.log(pharmacy);\r\n\r\n\r\n    \r\n\t\r\n\t\t\tAxios.get(API_URL + \"/grade/pharmacy/\" + pharmacy.Id , {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\t\tthis.props.history.push('/login');\r\n\t\t\t\t\t} else if(res.status === 404){\r\n\t\r\n\t\r\n\t\t\t\t\t\tconsole.log(\"Nema ocenu\");\r\n\t\r\n\t\t\t\t\t\tlet entityDTO = {\r\n\t\t\t\t\t\t\tshowGradeModal : true,\r\n\t\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\t\t\tpharmacyId  : pharmacy.Id,\r\n\t\t\t\t\t\t\t\tpharmacyGrade  : pharmacy.EntityDTO.grade,\r\n\t\t\t\t\t\t\t\tpharmacyName  : pharmacy.EntityDTO.name,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t};\r\n\t\r\n\t\r\n\t\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\t\t\tpharmacyId  : pharmacy.Id,\r\n\t\t\t\t\t\t\t\tpharmacyGrade  : pharmacy.EntityDTO.grade,\r\n\t\t\t\t\t\t\t\tpharmacyName  : pharmacy.EntityDTO.name,\r\n\t\t\t\t\t\t\t});\r\n\t\r\n\t\t\t\t\t\t\tconsole.log(pharmacy.Id);\r\n\t\t\t\t\t\t\tconsole.log(entityDTO);\r\n\t\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\r\n\t\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\t\tshowModifyGrade : true,\t\r\n\t\t\t\t\t\t\tpharmacyId : pharmacy.Id,\r\n\t\t\t\t\t\t\tpharmacyGrade : res.data.grade,\r\n\t\t\t\t\t\t\tpharmacyName : pharmacy.EntityDTO.name\r\n\t\t\t\t\t\t\t});\r\n\t\r\n\t\t\t\t\t\t\tconsole.log(res.data.grade);\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\r\n    \r\n\r\n\r\n  };\r\n\r\n \r\n  setFirstGrade = (grade) => {\r\n\t\t\r\n    console.log(\"sou\")\r\n    \r\n\r\n    let entityDTO = {\r\n      pharmacyId : this.state.pharmacyId  ,\r\n      grade: grade,\r\n    };\r\n\r\n    console.log(entityDTO);\r\n\r\n    Axios.post(API_URL + \"/grade/pharmacy/createGrade\",entityDTO , {\r\n      validateStatus: () => true,\r\n      headers: { Authorization: GetAuthorisation() },\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 401) {\r\n          this.props.history.push('/login');\r\n        } else if(res.status === 404){\r\n          console.log(res)\r\n          this.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n           showGradeModal :false,\r\n           showFirstGrade : false,\r\n          showModifyGrade : false});\r\n\r\n        }else if(res.status === 500){\r\n          this.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n           showGradeModal :false,\r\n           showFirstGrade : false,\r\n           showModifyGrade : false  });\r\n\r\n        }else {\r\n            \r\n          this.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful created grade for pharmacy! \",\r\n           showGradeModal :false,\r\n           showFirstGrade : false,\r\n           showModifyGrade : false   });\r\n\r\n          this.componentDidMount();\r\n          \r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n  setModifyGrade = (grade) => {\r\n    \r\n    console.log(\"sou\")\r\n\t\r\n    let entityDTO = {\r\n      pharmacyId : this.state.pharmacyId  ,\r\n      grade: grade,\r\n    };\r\n\r\n    console.log(entityDTO);\r\n\r\n\r\n    Axios.post(API_URL + \"/grade/pharmacy/updateGrade\",entityDTO , {\r\n      validateStatus: () => true,\r\n      headers: { Authorization: GetAuthorisation() },\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 401) {\r\n          this.props.history.push('/login');\r\n        } else if(res.status === 404){\r\n          this.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n           showGradeModal :false,\r\n           showFirstGrade : false,\r\n          showModifyGrade : false});\r\n\r\n        }else if(res.status === 500){\r\n          this.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n           showGradeModal :false,\r\n           showFirstGrade : false,\r\n           showModifyGrade : false  });\r\n\r\n        }else {\r\n            \r\n          this.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful update grade for pharmacy! \",\r\n           showGradeModal :false,\r\n           showFirstGrade : false,\r\n           showModifyGrade : false   });\r\n          \r\n           this.componentDidMount();\r\n          \r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n\r\n    closeFirstGradeModal = () => {\r\n    \r\n      this.setState({ showFirstGrade : false,\r\n        showModifyGrade : false,\r\n        showGradeModal : false});\r\n\r\n    }\r\n\r\n\r\n    \r\n    handleSortByNameAscending = () => {\r\n    \r\n      \r\n\r\n      Axios.get(API_URL + \"/pharmacy/allPharmacies/sortByNameAscending\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          this.setState({ allPharmacies: res.data });\r\n          console.log(res.data );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    handleSortByNameDescending = () => {\r\n    \r\n      \r\n\r\n      Axios.get(API_URL + \"/pharmacy/allPharmacies/sortByNameDescending\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          this.setState({ allPharmacies: res.data });\r\n          console.log(res.data );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    handleSortByCityAscending = () => {\r\n    \r\n      \r\n\r\n      Axios.get(API_URL + \"/pharmacy/allPharmacies/sortByCityAscending\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          this.setState({ allPharmacies: res.data });\r\n          console.log(res.data );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    handleSortByCityDescending = () => {\r\n    \r\n      \r\n\r\n      Axios.get(API_URL + \"/pharmacy/allPharmacies/sortByCityDescending\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          this.setState({ allPharmacies: res.data });\r\n          console.log(res.data );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    handleClickOnPharmacy = (id) => {\r\n      this.setState({\r\n        redirect: true,\r\n        redirectUrl: \"/pharmacy/\" + id,\r\n      });\r\n     \r\n    };\r\n\r\n    handleSortByGradeAscending = () => {\r\n    \r\n      \r\n\r\n      Axios.get(API_URL + \"/pharmacy/allPharmacies/sortByGradeAscending\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          this.setState({ allPharmacies: res.data });\r\n          console.log(res.data );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    handleSortByGradeDescending = () => {\r\n    \r\n      \r\n\r\n      Axios.get(API_URL + \"/pharmacy/allPharmacies/sortByGradeDescending\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n      })\r\n        .then((res) => {\r\n          this.setState({ allPharmacies: res.data });\r\n          console.log(res.data );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\trender() {\r\n    if (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n      <div id=\"allPharmacies\">\r\n\r\n            <div className=\"container\" style={{ marginTop: \"1em\" }} >\r\n                <SuccessfulAlert\r\n                      hidden={this.state.hiddenSuccessfulAlert}\r\n                      header={this.state.successfulHeader}\r\n                      message={this.state.successfulMessage}\r\n                      handleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n                  />\r\n                  <UnsuccessfulAlert\r\n                      hidden={this.state.hiddenUnsuccessfulAlert}\r\n                      header={this.state.UnsuccessfulHeader}\r\n                      message={this.state.UnsuccessfulMessage}\r\n                      handleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n                  />\r\n            </div>\r\n           \r\n           \r\n            <div className=\"container\"  style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }} width=\"100%\">\r\n\r\n            <div className=\"inline\" >\r\n            <button type=\"button\" class=\"btn btn-primary btn-lg mr-3\" onClick={this.handleSearchForm}>\r\n               \r\n                {this.state.showSearchedForm ? \"Close search\" : \"Open search\"}\r\n                                \r\n            </button>\r\n\r\n            <button hidden={!this.state.showResetSearced} type=\"button\" class=\"btn btn-outline-primary btn-lg mr-3\" onClick={this.resetSearch}>\r\n               \r\n               Reset search\r\n                               \r\n           </button>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <form hidden={!this.state.showSearchedForm} className=\"form-inline\" width=\"100%\" id=\"searchForm\">\r\n\t\t\t\t\t\t\r\n              \r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Pharmacy name\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handlePharmacySearchNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.pharmacySearchName}\r\n\t\t\t\t\t\t\t/>             \r\n              \r\n             \r\n              \r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Street\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleSearchStreetNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchStreetName}\r\n\t\t\t\t\t\t\t/>\r\n\r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"City\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleSearchCityNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchCityName}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t  \t\r\n\r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Country\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this. handleSearchCountryNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchCountryName}\r\n\t\t\t\t\t\t\t/>\r\n              \r\n              \r\n\t\t\t\t\t\t\t<button\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tonClick={this.SearchPharmacies}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-lg \"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n                \r\n\t\t\t\t\t\t\t>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t</button>\r\n             \r\n\r\n\t\t\t\t\t</form>\r\n\r\n          <div className=\"text-danger\" style={{ display: this.state.inputError, fontSize: \"17px\"}}>\r\n\t\t\t\t\t\t\t\t\t\tEnter something in field!\r\n\t\t\t\t\t</div>\r\n        \r\n        \r\n        \r\n        \r\n             <div style={{  marginTop: \"1em\" }} hidden={!this.hasRole(\"ROLE_PATIENT\")}>\r\n\r\n                <div className=\"dropdown\">\r\n                  <button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n                    type=\"button\" id=\"dropdownMenu2\"\r\n                    data-toggle=\"dropdown\" \r\n                    aria-haspopup=\"true\" \r\n                    aria-expanded=\"false\">\r\n                    Sort\r\n                  </button>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                      <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByNameAscending} >Sort by name ascending</button>\r\n                      <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByNameDescending} >Sort by name descending</button>\r\n                      <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByCityAscending} >Sort by city ascending</button>\r\n                      <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByCityDescending} >Sort by city descending</button>\r\n                      <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByGradeAscending} >Sort by grade ascending</button>\r\n                      <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByGradeDescending} >Sort by grade descending</button>\r\n                  </div>\r\n                </div>\r\n\r\n            </div>    \r\n                \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        </div>\r\n\r\n         \r\n\r\n\r\n        <div className=\"container\">\r\n                    <h1 >All pharmacies</h1>\r\n                    <table className=\"table table-hover\" style={{ width: \"100%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n                        \r\n                        <tbody>\r\n                            {\r\n                                this.state.allPharmacies.map((pharmacy) => (\r\n                                  \r\n                                    <tr key={pharmacy.Id} id={pharmacy.Id}  onClick={() => this.handleClickOnPharmacy(pharmacy.Id)}>\r\n\r\n                                      \r\n                                       \r\n\r\n                                      <td width=\"100px\">  \r\n                                       \r\n                                        <img src={PharmacyLogoPicture} width=\"70px\"></img>                                 \r\n                                     \r\n                                      </td>\r\n\r\n\r\n                                      <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Name: </b>{pharmacy.EntityDTO.name}\r\n                                        </div>  \r\n\r\n                                        <div>  \r\n                                        <b>Location: </b> {pharmacy.EntityDTO.address.street}, {\" \"} {pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t                                      {pharmacy.EntityDTO.address.country}\r\n                                        </div> \r\n\r\n                                        <div>  \r\n                                        <b>Description: </b>{pharmacy.EntityDTO.description}\r\n                                        </div>\r\n\r\n\r\n                                        <div>\r\n                                        <b>Pharmacy grade: </b> {pharmacy.EntityDTO.grade} {\" \"} \r\n                                        <i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                                        \r\n\t\t\t\t\t\t\t\t\t\t                    </div>\r\n\r\n\r\n\r\n                                      </td>\r\n                                    \r\n                                      <td className=\"align-middle\"hidden={this.isSubscribed(pharmacy) || !this.hasRole(\"ROLE_PATIENT\")}>\r\n                                         \r\n                                          <div style={{ marginLeft: \"35%\" }}>\r\n                                            <button\r\n                                              style={{ background: \"#24a0ed\" }}\r\n                                              type=\"button\"\r\n                                              onClick={() => this.handleSubscribe(pharmacy)}\r\n                                              className=\"btn btn-outline-secondary btn-block\"\r\n                                            >\r\n                                              Subscribe\r\n                                            </button>\r\n                                          </div>\r\n                                      \r\n                                    </td>\r\n\r\n\r\n                                    <td className=\"align-middle\"hidden={!this.isSubscribed(pharmacy) || !this.hasRole(\"ROLE_PATIENT\")}>\r\n                                          <div style={{ marginLeft: \"25%\" }}>\r\n                                            <button\r\n                                              style={{ background: \"#24a0ed\" }}\r\n                                              \r\n                                              type=\"button\"\r\n                                              onClick={() => this.handleUnsubscribe(pharmacy)}\r\n                                              className=\"btn btn-outline-secondary btn-block\"\r\n                                            >\r\n                                              Unsubscribe\r\n                                            </button>\r\n                                          </div>\r\n                                      \r\n                                    </td>\r\n\r\n\r\n                                    <td className=\"align-middle\">\r\n\r\n                                      <div style={{ marginLeft: \"5%\"  }}>\r\n                                          <button\r\n                                            type=\"button\"\r\n                                            style={{ background: \"#24a0ed\" }}\r\n                                            onClick={() => this.handleGetGradeClick(pharmacy)}\r\n                                            hidden={!this.hasRole(\"ROLE_PATIENT\")}\r\n                                            className=\"btn btn-outline-secondary \"\r\n                                          >\r\n                                            Pharmacy grade\r\n                                          </button>\r\n                                      </div>\t                                     \r\n\r\n\r\n                                    </td>\r\n\r\n\r\n                                    <td className=\"align-middle\" hidden={!this.hasRole(\"ROLE_PATIENT\")}>\r\n                                          <div >\r\n                                            <button\r\n                                              style={{ background: \"#781616\" }}\r\n                                              \r\n                                              type=\"button\"\r\n                                              onClick={() => this.handleComplaintClick(pharmacy)}\r\n                                              className=\"btn btn-outline-secondary btn-block\"\r\n                                            >\r\n                                              Report\r\n                                            </button>\r\n                                          </div>\r\n                                      \r\n                                    </td>\r\n                                     \r\n                                      \r\n\r\n\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n              <FirstGradeModal \r\n\r\n                show={this.state.showGradeModal}\r\n                showFirstGrade={this.state.showFirstGrade}\r\n                showModifyGrade={this.state.showModifyGrade}\r\n                employeeGrade={this.state.pharmacyGrade }\t\t\t\t\t\t\t\r\n                maxGrade={this.state.maxGrade}\r\n                employeeName={this.state.pharmacyName  }\r\n                employeeSurname={\"\"}\r\n                header={\"Grade\"}\r\n                buttonFirstGradeName={\"Grade\"}\r\n                buttonModifyGradeName={\" Update grade\"}\t\t\t\t\t\t\t\t\r\n                setFirstGrade={this.setFirstGrade}\t\r\n                setModifyGrade={this.setModifyGrade}\r\n                onCloseModal={this.closeFirstGradeModal}\t\t\t\t\t\t\r\n\r\n              />\r\n\r\n\r\n\r\n\r\n\r\n        <CreateComplaintModal\r\n\t\t\t\t\tbuttonName=\"Send complaint\"\r\n\t\t\t\t\theader=\"Give complaint\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleComaplaint}\r\n\t\t\t\t\tname={this.state.StaffName + \" \" + this.state.StaffSurame}\r\n\t\t\t\t\tforWho=\"consultant\"\r\n\t\t\t\t\thandleClickIcon={this.handleClickIcon}\r\n\t\t\t\t\tcomplaint={this.state.complaint}\r\n\t\t\t\t/>\r\n        <ModalDialog\r\n\t\t\t\tshow={this.state.openModal}\r\n\t\t\t\tonCloseModal={this.handleModalCloseCantUse}\r\n\t\t\t\theader=\"Error\"\r\n\t\t\t\ttext=\"You can't make a complaint on this pharmacy because you never interacted with it.\"\r\n\t\t\t/>\r\n\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default Pharmacies;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PatientsSubscribedPharmacies.js",["461","462"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../../Components/Header';\r\nimport PharmacyLogoPicture from \"../../Images/pharmacyLogo.jpg\" ;\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass PatientsSubscribedPharmacies extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n\t\r\n        allPharmacies: [],\r\n        pharmacySearchName: \"\",\r\n        searchCountryName: \"\",\r\n        searchStreetName: \"\",\r\n        searchCityName: \"\",\r\n        showSearchedForm: false,\r\n        showResetSearced: false,\r\n        inputError : \"none\",\r\n      \r\n\t\t\r\n\r\n\r\n  };\r\n\r\n\r\n  \r\n\r\n  componentDidMount() {\r\n\t\t\r\n\r\n            if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n                this.props.history.push('/login');\r\n        }\r\n\r\n\r\n        Axios.get(API_URL + \"/pharmacy/allPatientsSubscribedPharmacies\" ,{\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\t\r\n                if (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n                }else{\r\n                    this.setState({ allPharmacies: res.data });\r\n                }\r\n                \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n  \r\n         \r\n\t}\r\n\r\n    hasRole = (requestRole) => {\r\n        let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n    \r\n        if (currentRoles === null) return false;\r\n    \r\n    \r\n        for (let currentRole of currentRoles) {\r\n          if (currentRole === requestRole) return true;\r\n        }\r\n        return false;\r\n      };\r\n\r\n\r\n   handleSearchForm = () => {    \r\n   \r\n    if(this.state.inputError=== \"initial\")\r\n      this.setState({inputError :\"none\"});\r\n      \r\n   \r\n    this.setState({showSearchedForm : !this.state.showSearchedForm,\r\n                    showResetSearced: false});\r\n          \r\n                    if(this.state.showSearchedForm===false){\r\n\r\n                      this.setState({\r\n    \r\n                        showResetSearced: true,\r\n                        pharmacySearchName: \"\",\r\n                        searchCountryName: \"\",\r\n                        searchStreetName: \"\",\r\n                        searchCityName: \"\",\r\n                        inputError : \"none\"     \r\n                      \r\n                      });\r\n\r\n                    }\r\n\r\n                    \r\n   }\r\n\r\n   handlePharmacySearchNameChange = (event) => {\r\n\t\tthis.setState({ pharmacySearchName: event.target.value });\r\n\t};\r\n\r\n  handleSearchCountryNameChange= (event) => {\r\n\t\tthis.setState({ searchCountryName: event.target.value });\r\n\t};\r\n\r\n  handleSearchStreetNameChange= (event) => {\r\n\t\tthis.setState({ searchStreetName: event.target.value });\r\n\t};\r\n\r\n  \r\n  handleSearchCityNameChange= (event) => {\r\n\t\tthis.setState({ searchCityName: event.target.value });\r\n\t};\r\n\r\n\r\n\r\n    SearchPharmacies = () => {\r\n\r\n\r\n    if (this.state.pharmacySearchName === \"\" && this.state.searchCityName === \"\" \r\n          &&  this.state.searchCountryName=== \"\" &&  this.state.searchStreetName=== \"\" ) {\r\n          this.setState({ inputError : \"initial\" });\r\n             return false;\r\n    } \r\n  \r\n    this.setState({ inputError : \"none\" });\r\n  \r\n      const searchDTO = {\r\n  \r\n        name : this.state.pharmacySearchName,\r\n        street : this.state.searchStreetName,\r\n        city: this.state.searchCityName,\r\n        country : this.state.searchCountryName,\r\n  \r\n  \r\n       };\r\n\r\n      \r\n\r\n      Axios.post(API_URL + \"/pharmacy/searchPharmacies\", searchDTO)\r\n  \r\n      .then((res) => {\r\n        this.setState({\r\n          allPharmacies: res.data,\r\n          showResetSearced : true,\r\n          showSearchedForm : false,      \r\n        \r\n        });\r\n       \r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        \r\n      });\r\n  \r\n      \r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    resetSearch = () => {\r\n\r\n   \r\n    this.setState({\r\n    \r\n     showResetSearced : false,\r\n     showSearchedForm : false, \r\n     pharmacySearchName: \"\",\r\n     searchCountryName: \"\",\r\n     searchStreetName: \"\",\r\n     searchCityName: \"\",\r\n     inputError : \"none\"     \r\n   \r\n   });\r\n\r\n          \r\n    Axios.get(API_URL + \"/pharmacy/allPharmacies\")\r\n\r\n    .then((res) => {\r\n      this.setState({ allPharmacies\r\n        : res.data });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n\r\n\t\t\r\n\t};\r\n\r\n\r\n\r\n   \r\n\r\n \r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n      <div id=\"allPharmacies\">\r\n\r\n            \r\n           \r\n           \r\n            <div style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }} width=\"100%\">\r\n\r\n            <div className=\"inline\" >\r\n            <button type=\"button\" class=\"btn btn-primary btn-lg mr-3\" onClick={this.handleSearchForm}>\r\n               \r\n                {this.state.showSearchedForm ? \"Close search\" : \"Open search\"}\r\n                                \r\n            </button>\r\n\r\n            <button hidden={!this.state.showResetSearced} type=\"button\" class=\"btn btn-outline-primary btn-lg mr-3\" onClick={this.resetSearch}>\r\n               \r\n               Reset search\r\n                               \r\n           </button>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <form hidden={!this.state.showSearchedForm} className=\"form-inline\" width=\"100%\" id=\"searchForm\">\r\n\t\t\t\t\t\t\r\n              \r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Pharmacy name\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handlePharmacySearchNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.pharmacySearchName}\r\n\t\t\t\t\t\t\t/>             \r\n              \r\n             \r\n              \r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Street\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleSearchStreetNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchStreetName}\r\n\t\t\t\t\t\t\t/>\r\n\r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"City\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleSearchCityNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchCityName}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t  \t\r\n\r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Country\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this. handleSearchCountryNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchCountryName}\r\n\t\t\t\t\t\t\t/>\r\n              \r\n              \r\n\t\t\t\t\t\t\t<button\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tonClick={this.SearchPharmacies}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-lg \"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n                \r\n\t\t\t\t\t\t\t>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t</button>\r\n             \r\n\r\n\t\t\t\t\t</form>\r\n\r\n          <div className=\"text-danger\" style={{ display: this.state.inputError, fontSize: \"17px\"}}>\r\n\t\t\t\t\t\t\t\t\t\tEnter something in field!\r\n\t\t\t\t\t</div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n        <div className=\"container\">\r\n                    <h1 >All pharmacies</h1>\r\n                    <table className=\"table\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n                        \r\n                        <tbody>\r\n                            {\r\n                                this.state.allPharmacies.map((pharmacy) => (\r\n                                    <tr key={pharmacy.Id} id={pharmacy.Id} >\r\n                                       \r\n\r\n                                      <td width=\"100px\">  \r\n                                       \r\n                                        <img src={PharmacyLogoPicture} width=\"70px\"></img>                                 \r\n                                     \r\n                                      </td>\r\n\r\n\r\n                                      <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Name: </b>{pharmacy.EntityDTO.name}\r\n                                        </div>  \r\n\r\n                                        <div>  \r\n                                        <b>Location: </b> {pharmacy.EntityDTO.address.street}, {\" \"} {pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t                                      {pharmacy.EntityDTO.address.country}\r\n                                        </div> \r\n\r\n                                        <div>  \r\n                                        <b>Description: </b>{pharmacy.EntityDTO.description}\r\n                                        </div>\r\n\r\n\r\n                                        <div>\r\n                                        <b>Pharmacy grade: </b> {pharmacy.EntityDTO.grade} {\" \"} \r\n                                        <i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                                        \r\n\t\t\t\t\t\t\t\t\t\t                    </div>\r\n\r\n\r\n\r\n                                      </td>\r\n                                     \r\n\r\n\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n        </div>\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PatientsSubscribedPharmacies;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\UserProfile.js",["463","464","465","466","467","468"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport PharmacyLogoPicture from \"../Images/pharmacyLogo.jpg\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport ChangePasswordModal from \"../Components/Modal/ChangePasswordModal\";\r\nimport AllergensModal from \"../Components/Modal/AllergensModal\";\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass UserProfile extends Component {\r\n\r\n    state = {\r\n\t\tid: \"\",\r\n\t\temail: \"\",\r\n        name: \"\",\r\n\t\tsurname: \"\",\r\n\t\tpassword: \"\",\r\n\t\taddress: \"\",\r\n\t\tphoneNumber: \"\",\r\n\t\tnameError: \"none\",\r\n\t\tsurnameError: \"none\",\r\n\t\taddressError: \"none\",\r\n\t\tphoneError: \"none\",\r\n\t\tphoneValidateError: \"none\",\r\n\t\thiddenEditInfo: true,\r\n        redirect: false,\r\n\t\thiddenSuccessfulAlert: true,\r\n\t\tsuccessfulHeader: \"\",\r\n\t\tsuccessfulMessage: \"\",\r\n\t\thiddenUnsuccessfulAlert: true,\r\n\t\tUnsuccessfulHeader: \"\",\r\n\t\tUnsuccessfulMessage: \"\",\r\n\t\tisPasswordModalOpened: false,\r\n\t\thiddenPasswordErrorAlert: true,\r\n\t\terrorPasswordHeader: \"\",\r\n\t\terrorPasswordMessage: \"\",\r\n\t\temptyOldPasswordError: \"none\",\r\n\t\temptyNewPasswordError: \"none\",\r\n\t\temptyNewPasswordRepeatedError: \"none\",\r\n\t\tnewPasswordAndRepeatedNotSameError: \"none\",\r\n\r\n\t\t\r\n\t\tuserAllergens: [],\r\n\t\thiddenAllergenSuccessfulAlert: true,\r\n\t\tsuccessfulAllergenHeader: \"\",\r\n\t\tsuccessfulAllergenMessage: \"\",\r\n\t\thiddenAllergenErrorAlert: true,\r\n\t\terrorAllergenHeader: \"\",\r\n\t\terrorAllergenMessage: \"\",\r\n\t\topenAllergenModal: false,\r\n\t\tpatientPoints : \"\",\r\n\t\tpatientPenalties : \"\",\r\n\t\tpatientLoyaltyCategory : \"\",\r\n\t\texaminationDiscount : \"\",\r\n\t\tconsultationDiscount : \"\",\r\n\t\tdrugDiscount : \"\",\r\n\t\tshowAnotherInformation: false,\r\n\t\thideButtonForAnotherInformation : false\r\n\r\n\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n    hasRole = (requestRole) => {\r\n        let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n  \r\n        if (currentRoles === null) return false;\r\n  \r\n  \r\n        for (let currentRole of currentRoles) {\r\n          if (currentRole === requestRole) return true;\r\n        }\r\n        return false;\r\n      };\r\n\r\n\t\r\n    handleEmailChange = (event) => {\r\n\t\tthis.setState({ email: event.target.value });\r\n\t};\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t};\r\n\r\n\thandleSurnameChange = (event) => {\r\n\t\tthis.setState({ surname: event.target.value });\r\n\t};\r\n\r\n\thandlePhoneNumberChange = (event) => {\r\n\t\tthis.setState({ phoneNumber: event.target.value });\r\n\t};\r\n\r\n\thandleAddressChange = (event) => {\r\n\t\tthis.setState({ address: event.target.value });\r\n\t};\r\n\r\n\thandleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\thandleChangePasswordModalOpen = () => {\r\n\t\tthis.setState({ hiddenEditInfo: true, \r\n\t\t\tisPasswordModalOpened: true });\r\n\t};\r\n\r\n\thandleChangePasswordModalClose = () => {\r\n\t\tthis.setState({ isPasswordModalOpened: false });\r\n\t};\r\n\r\n\thandleCloseAlertPassword = () => {\r\n\t\tthis.setState({ hiddenPasswordErrorAlert: true });\r\n\t};\r\n\r\n\thandleAllergenModal = () => {\r\n\t\tthis.setState({ hiddenEditInfo: true, openAllergenModal: true });\r\n\t};\r\n\r\n\r\n\t\r\n\thandleAllergensModalClose = () => {\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\thiddenAllergenSuccessfulAlert: true,\r\n\t\t\tsuccessfulAllergenHeader: \"\",\r\n\t\t\tsuccessfulAllergenMessage: \"\",\r\n\t\t\thiddenAllergenErrorAlert: true,\r\n\t\t\terrorAllergenHeader: \"\",\r\n\t\t\terrorAllergenMessage: \"\",\r\n\t\t\topenAllergenModal: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleCloseAllergenAlertError = () => {\r\n\t\tthis.setState({ hiddenAllergenErrorAlert: true });\r\n\t};\r\n\r\n\thandleCloseAllergenAlertSuccessful = () => {\r\n\t\tthis.setState({ hiddenAllergenSuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.hasRole(\"ROLE_PHARMACIST\") && !this.hasRole(\"ROLE_DERMATHOLOGIST\") && !this.hasRole(\"ROLE_PATIENT\") && !this.hasRole(\"ROLE_SUPPLIER\") && !this.hasRole(\"ROLE_PHARMACYADMIN\")) {\r\n\t\t\tthis.setState({ redirect: true });\r\n\t\t\tthis.props.history.push('/login')\r\n\t\t\r\n        } else {\r\n\r\n\r\n\t\t\tconsole.log(GetAuthorisation());\r\n\t\t\tconsole.log(localStorage.getItem(\"keyRole\"));\r\n\t\t\t\r\n\t\t\tif(this.hasRole(\"ROLE_PATIENT\")){\r\n\t\t\tAxios.get(API_URL + \"/users/patient\", { validateStatus: () => true, headers: { Authorization : GetAuthorisation()} })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif (res.status === 401) {                       \r\n                        this.setState({ redirect: true });\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.log(res.data.EntityDTO.email)\r\n\t\t\t\t\t\tconsole.log(res.data.EntityDTO.name)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n                        this.setState({\r\n\t\t\t\t\t\t\tid: res.data.Id,\r\n\t\t\t\t\t\t\temail: res.data.EntityDTO.email,\r\n\t\t\t\t\t\t\tname: res.data.EntityDTO.name,\r\n\t\t\t\t\t\t\tsurname: res.data.EntityDTO.surname,\r\n\t\t\t\t\t\t\taddress: res.data.EntityDTO.address,\r\n\t\t\t\t\t\t\tphoneNumber: res.data.EntityDTO.phoneNumber,\r\n\t\t\t\t\t\t\tuserAllergens: res.data.EntityDTO.allergens,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tpatientPoints : res.data.EntityDTO.points,\r\n\t\t\t\t\t\t\tpatientPenalties : res.data.EntityDTO.penalty,\r\n\t\t\t\t\t\t\tpatientLoyaltyCategory :  res.data.EntityDTO.loyalityProgramForPatientDTO.loyalityCategory,\r\n\t\t\t\t\t\t\texaminationDiscount : res.data.EntityDTO.loyalityProgramForPatientDTO.examinationDiscount,\r\n\t\t\t\t\t\t\tconsultationDiscount : res.data.EntityDTO.loyalityProgramForPatientDTO.consultationDiscount,\r\n\t\t\t\t\t\t\tdrugDiscount : res.data.EntityDTO.loyalityProgramForPatientDTO.drugDiscount,\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.userAllergens)\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tconsole.log(\"ovaj eror je u pitanju\");\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}else if(this.hasRole(\"ROLE_SUPPLIER\")){\r\n\r\n\t\t\t\tconsole.log(\"usao u supplera 2\");\r\n\r\n\t\t\t\tAxios.get(API_URL + \"/users/supplier\", { validateStatus: () => true, headers: { Authorization : GetAuthorisation()} })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif (res.status === 401) {                       \r\n                        this.setState({ redirect: true });\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t//console.log(res.data.EntityDTO.email)\r\n\t\t\t\t\t\t//console.log(res.data.EntityDTO.name)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n                        this.setState({\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\t\tname: res.data.name,\r\n\t\t\t\t\t\t\tsurname: res.data.surname,\r\n\t\t\t\t\t\t\taddress: res.data.address,\r\n\t\t\t\t\t\t\tphoneNumber: res.data.phoneNumber,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tconsole.log(\"ovaj eror je u pitanju\");\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}else if(this.hasRole(\"ROLE_PHARMACYADMIN\")){\r\n\r\n\t\t\t\tconsole.log(\"usao admina apoteke\");\r\n\t\t\t\tAxios.get(API_URL + \"/users/phadmin\", { validateStatus: () => true, headers: { Authorization : GetAuthorisation()} })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif (res.status === 401) {                       \r\n                        this.setState({ redirect: true });\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.log(res.data.email)\r\n\t\t\t\t\t\tconsole.log(res.data.name)\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\temail: res.data.EntityDTO.email,\r\n\t\t\t\t\t\t\tname: res.data.EntityDTO.name,\r\n\t\t\t\t\t\t\tsurname: res.data.EntityDTO.surname,\r\n\t\t\t\t\t\t\taddress: res.data.EntityDTO.address,\r\n\t\t\t\t\t\t\tphoneNumber: res.data.EntityDTO.phoneNumber\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.email);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tconsole.log(\"erradminapoteke\");\r\n\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t}else if(this.hasRole(\"ROLE_DERMATHOLOGIST\")){\r\n\r\n\t\t\t\tconsole.log(\"usao u dermatologa\");\r\n\r\n\t\t\t\tAxios.get(API_URL + \"/users/dermathologist\", { validateStatus: () => true, headers: { Authorization : GetAuthorisation()} })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif (res.status === 401) {                       \r\n                        this.setState({ redirect: true });\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t//console.log(res.data.EntityDTO.email)\r\n\t\t\t\t\t\t//console.log(res.data.EntityDTO.name)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n                        this.setState({\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\t\tname: res.data.name,\r\n\t\t\t\t\t\t\tsurname: res.data.surname,\r\n\t\t\t\t\t\t\taddress: res.data.address,\r\n\t\t\t\t\t\t\tphoneNumber: res.data.phoneNumber,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tconsole.log(\"ovaj eror je u pitanju\");\r\n\r\n\t\t\t\t});\r\n\t\t\t}else if(this.hasRole(\"ROLE_PHARMACIST\")){\r\n\r\n\t\t\t\tconsole.log(\"usao u farmaceuta\");\r\n\r\n\t\t\t\tAxios.get(API_URL + \"/users/pharmacist\", { validateStatus: () => true, headers: { Authorization : GetAuthorisation()} })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif (res.status === 401) {                       \r\n                        this.setState({ redirect: true });\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t//console.log(res.data.EntityDTO.email)\r\n\t\t\t\t\t\t//console.log(res.data.EntityDTO.name)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n                        this.setState({\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\t\tname: res.data.name,\r\n\t\t\t\t\t\t\tsurname: res.data.surname,\r\n\t\t\t\t\t\t\taddress: res.data.address,\r\n\t\t\t\t\t\t\tphoneNumber: res.data.phoneNumber,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tconsole.log(\"ovaj eror je u pitanju\");\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\thandleChangeInfo = () => {\r\n\t\t\r\n\r\n\r\n\t\tlet userDTO = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tsurname: this.state.surname,\r\n\t\t\taddress: this.state.address,\r\n\t\t\tphoneNumber: this.state.phoneNumber,\r\n\t\t};\r\n\r\n\r\n\r\n\t\tif (this.validateForm(userDTO)){\r\n\r\n\t\t\tconsole.log(userDTO.name  )\r\n\r\n\t\t\tif(this.hasRole(\"ROLE_PATIENT\")){\r\n\t\t\tAxios.put(API_URL + \"/users/patient\", userDTO, {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\t\t\t\tUnsuccessfulMessage: \"Invalid argument.\" });\r\n\r\n\t\t\t\t\t} else if (res.status === 500) {\r\n\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t\t\t\tUnsuccessfulMessage: \"Server error.\" });\r\n\r\n\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\tsuccessfulMessage: \"You updated your information.\",\r\n\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t}else if(this.hasRole(\"ROLE_SUPPLIER\")){\r\n\r\n\t\t\t\tAxios.put(API_URL + \"/users/supplier\", userDTO, {\r\n\t\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Invalid argument.\" });\r\n\t\r\n\t\t\t\t\t\t} else if (res.status === 500) {\r\n\t\r\n\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Server error.\" });\r\n\t\r\n\t\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\t\tsuccessfulMessage: \"You updated your information.\",\r\n\t\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}else if(this.hasRole(\"ROLE_PHARMACYADMIN\")){\r\n\r\n\t\t\t\tAxios.put(API_URL + \"/users/phadmin\", userDTO, {\r\n\t\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Invalid argument.\" });\r\n\t\r\n\t\t\t\t\t\t} else if (res.status === 500) {\r\n\t\r\n\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Server error.\" });\r\n\t\r\n\t\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\t\tsuccessfulMessage: \"You updated your information.\",\r\n\t\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}else if(this.hasRole(\"ROLE_DERMATHOLOGIST\")){\r\n\r\n\t\t\t\tAxios.put(API_URL + \"/users/dermathologist\", userDTO, {\r\n\t\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Invalid argument.\" });\r\n\t\r\n\t\t\t\t\t\t} else if (res.status === 500) {\r\n\t\r\n\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Server error.\" });\r\n\t\r\n\t\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\t\tsuccessfulMessage: \"You updated your information.\",\r\n\t\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t}else if(this.hasRole(\"ROLE_PHARMACIST\")){\r\n\r\n\t\t\t\t\tAxios.put(API_URL + \"/users/pharmacist\", userDTO, {\r\n\t\t\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Invalid argument.\" });\r\n\t\t\r\n\t\t\t\t\t\t\t} else if (res.status === 500) {\r\n\t\t\r\n\t\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Server error.\" });\r\n\t\t\r\n\t\t\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\t\t\tsuccessfulMessage: \"You updated your information.\",\r\n\t\t\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n                }\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\t};\r\n\r\n\r\n\thandleEditInfoClick= () => {\r\n\t\tthis.setState({\r\n\t\t\thiddenEditInfo: false\r\n\t\t});\r\n\r\n\t\t\r\n\t};\r\n\r\n\tvalidateForm = (userDTO) => {\r\n\t\r\n\t\tthis.setState({\r\n\t\t\tnameError: \"none\",\r\n\t\t\tsurnameError: \"none\",\r\n\t\t\taddressError: \"none\",\r\n\t\t\tphoneError: \"none\",\r\n\t\t\tphoneValidateError: \"none\",\r\n\t\t});\r\n\r\n\t\tconst regexPhone = /^([+]?[0-9]{3,6}[-]?[\\/]?[0-9]{3,5}[-]?[\\/]?[0-9]*)$/;\r\n\t\tconsole.log(regexPhone.test(userDTO.phoneNumber));\r\n\t\tif (userDTO.name === \"\") {\r\n\t\t\tthis.setState({ nameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.surname === \"\") {\r\n\t\t\tthis.setState({ surnameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.address=== \"\") {\r\n\t\t\tthis.setState({ addressError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.phoneNumber === \"\") {\r\n\t\t\tthis.setState({ phoneError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (regexPhone.test(userDTO.phoneNumber) === false) {\r\n\t\t\tthis.setState({ phoneValidateError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\r\n\r\n\tchangePassword = (oldPassword, newPassword, newPasswordRepeated) => {\r\n\t\tconsole.log(oldPassword, newPassword, newPasswordRepeated);\r\n\r\n\t\tthis.setState({\r\n\t\t\thiddenEditInfo: true,\r\n\t\t\thiddenPasswordErrorAlert: true,\r\n\t\t\terrorPasswordHeader: \"\",\r\n\t\t\terrorPasswordMessage: \"\",\r\n\t\t\temptyOldPasswordError: \"none\",\r\n\t\t\temptyNewPasswordError: \"none\",\r\n\t\t\temptyNewPasswordRepeatedError: \"none\",\r\n\t\t\tnewPasswordAndRepeatedNotSameError: \"none\",\r\n\t\t\thiddenSuccessAlert: true,\r\n\t\t\tsuccessHeader: \"\",\r\n\t\t\tsuccessMessage: \"\",\r\n\r\n\r\n\t\t});\r\n\r\n\t\tif (oldPassword === \"\") {\r\n\t\t\tthis.setState({ emptyOldPasswordError: \"initial\" });\r\n\t\t} else if (newPassword === \"\") {\r\n\t\t\tthis.setState({ emptyNewPasswordError: \"initial\" });\r\n\t\t} else if (newPasswordRepeated === \"\") {\r\n\t\t\tthis.setState({ emptyNewPasswordRepeatedError: \"initial\" });\r\n\t\t} else if (newPasswordRepeated !== newPassword) {\r\n\t\t\tthis.setState({ newPasswordAndRepeatedNotSameError: \"initial\" });\r\n\t\t} else {\r\n\t\t\tlet newPasswordDTO= { oldPassword, newPassword };\r\n\t\t\tAxios.post(API_URL + \"/users/changePassword\", newPasswordDTO, {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\t if (res.status === 400) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenPasswordErrorAlert: false,\r\n\t\t\t\t\t\t\terrorPasswordHeader: \"Invalid new password\",\r\n\t\t\t\t\t\t\terrorPasswordMessage: \"Invalid new password.\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.status === 403) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenPasswordErrorAlert: false,\r\n\t\t\t\t\t\t\terrorPasswordHeader: \"Bad credentials\",\r\n\t\t\t\t\t\t\terrorPasswordMessage: \"You entered wrong old password.\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.status === 500) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenPasswordErrorAlert: false,\r\n\t\t\t\t\t\t\terrorPasswordHeader: \"Internal server error\",\r\n\t\t\t\t\t\t\terrorPasswordMessage: \"Server error.\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\tsuccessfulMessage: \"Your password was changed!\",\r\n\t\t\t\t\t\t\tisPasswordModalOpened: false,\r\n\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n\thandleAddAllergen = (allergenName) => {\r\n\t\tthis.setState({\r\n\t\t\thiddenAllergenSuccessfulAlert: true,\r\n\t\t\tsuccessfulAllergenHeader: \"\",\r\n\t\t\tsuccessfulAllergenMessage: \"\",\r\n\t\t\thiddenAllergenErrorAlert: true,\r\n\t\t\terrorAllergenHeader: \"\",\r\n\t\t\terrorAllergenMessage: \"\",\r\n\t\t});\r\n\t\tconsole.log(allergenName);\r\n\t\tlet patientsAllergenDTO = { allergenName: allergenName, patientId: this.state.id };\r\n\t\tconsole.log(patientsAllergenDTO);\r\n\t\t\r\n\t\tAxios.post(API_URL + \"/users/addPatientsAllergen\", patientsAllergenDTO, {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thiddenAllergenErrorAlert: false,\r\n\t\t\t\t\t\terrorAllergenHeader: \"Bad request\",\r\n\t\t\t\t\t\terrorAllergenMessage: \"Bad request when adding allergen.\",\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status === 500) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thiddenAllergenErrorAlert: false,\r\n\t\t\t\t\t\terrorAllergenHeader: \"Internal server error\",\r\n\t\t\t\t\t\terrorAllergenMessage: \"Server error.\",\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status === 200) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\thiddenAllergenSuccessfulAlert: false,\r\n\t\t\t\t\t\tsuccessfulAllergenHeader: \"Successful\",\r\n\t\t\t\t\t\tsuccessfulAllergenMessage: \"Allergen added.\",\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.componentDidMount()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t});\r\n\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\thandleRemoveAllergen = (allergenName) => {\r\n\t\tthis.setState({\r\n\t\t\thiddenAllergenSuccessfulAlert: true,\r\n\t\t\tsuccessfulAllergenHeader: \"\",\r\n\t\t\tsuccessfulAllergenMessage: \"\",\r\n\t\t\thiddenAllergenErrorAlert: true,\r\n\t\t\terrorAllergenHeader: \"\",\r\n\t\t\terrorAllergenMessage: \"\",\r\n\t\t});\r\n\t\tconsole.log(allergenName);\r\n\t\tlet patientsAllergenDTO = { allergenName: allergenName, patientId: this.state.id };\r\n\t\tconsole.log(patientsAllergenDTO);\r\n\r\n\t\tAxios.put(API_URL + \"/users/removePatientsAllergen\", patientsAllergenDTO, {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thiddenAllergenErrorAlert: false,\r\n\t\t\t\t\t\terrorAllergenHeader: \"Bad request\",\r\n\t\t\t\t\t\terrorAllergenMessage: \"Bad request when removing allergen.\",\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status === 500) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thiddenAllergenErrorAlert: false,\r\n\t\t\t\t\t\terrorAllergenHeader: \"Internal server error\",\r\n\t\t\t\t\t\terrorAllergenMessage: \"Server error.\",\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status === 200) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\thiddenAllergenSuccessfulAlert: false,\r\n\t\t\t\t\t\tsuccessfulAllergenHeader: \"Successful\",\r\n\t\t\t\t\t\tsuccessfulAllergenMessage: \"Allergen removed.\",\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.componentDidMount()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\thandleClickAnotherInformation= () => {\r\n\t\tthis.setState({\r\n\t\t\tshowAnotherInformation: true,\r\n\t\t\thideButtonForAnotherInformation : true\r\n\t\t});\r\n\r\n\t\t\r\n\t};\r\n\r\n\r\n\thandleClickAnotherInformationClose= () => {\r\n\t\tthis.setState({\r\n\t\t\tshowAnotherInformation: false,\r\n\t\t\thideButtonForAnotherInformation : false\r\n\t\t});\r\n\r\n\t\t\r\n\t};\r\n\r\n\r\n\r\n\trender() {\r\n\r\n        \r\n\t\treturn(\r\n\r\n            <React.Fragment>\r\n\r\n            <Header/>  \r\n\r\n            <div id=\"userProfilePage\" className=\"container\">\r\n\r\n\r\n\t\t\t\t\t<SuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t\t\t\t/>\r\n\r\n\r\n\r\n\t\t<button type=\"button\" class=\"btn btn-outline-primary \"\r\n         onClick={() => this.handleClickAnotherInformation()}\r\n\t\t hidden={this.state.hideButtonForAnotherInformation} hidden={this.hasRole(\"ROLE_DERMATHOLOGIST\") || this.hasRole(\"ROLE_PHARMACYADMIN\")}\r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n\r\n\t\t Show another information\r\n        \r\n        </button>\r\n\r\n\r\n\r\n\t\t<button type=\"button\" class=\"btn btn-outline-primary \"\r\n         onClick={() => this.handleClickAnotherInformationClose()}\r\n\t\t hidden={!this.state.hideButtonForAnotherInformation}\r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n\r\n\t\tClose another information\r\n        </button>\r\n\t\t\t\r\n\r\n\r\n            <h4 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tUser profile\r\n\t\t\t</h4>\r\n\r\n            <div className=\"row mt-5 \">\r\n\r\n\t\t\t\t\t<div className=\"col  container  offset-1 shadow p-3  bg-white \">\r\n                        <h5 className=\" text-center text-uppercase\">Personal Information</h5>\r\n                        \r\n\r\n\t\t\t\t\t\t<form id=\"informationForm\" >\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t<b>Email address:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control-plaintext\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleEmailChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t<b>Name:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n\t\t\t\t\t\t\t\t\t\tName must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<b>Surname:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Surname\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleSurnameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.surname}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.surnameError }}>\r\n\t\t\t\t\t\t\t\t\t\tSurname must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Adress:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Adress\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleAddressChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.address}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.addressError }}>\r\n\t\t\t\t\t\t\t\t\t\tAddress must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t<b>Phone number:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Phone number\"\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handlePhoneNumberChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.phoneError }}>\r\n\t\t\t\t\t\t\t\t\t\tPhone number must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.phoneValidateError }}>\r\n\t\t\t\t\t\t\t\t\t\tIncorect phone number.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"form-group text-center\" hidden={this.state.hiddenEditInfo}>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{  marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleChangeInfo}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tChange information\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-row justify-content-center mr-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-2\" hidden={!this.state.hiddenEditInfo}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleEditInfoClick}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit Info\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-2\" hidden={!this.state.hiddenEditInfo}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleChangePasswordModalOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tChange password\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-2\" hidden={!this.state.hiddenEditInfo} hidden={this.hasRole(\"ROLE_DERMATHOLOGIST\")|| this.hasRole(\"ROLE_PHARMACYADMIN\")} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAllergenModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAllergens\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\r\n\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\t\t\t\t<div hidden= {!this.state.showAnotherInformation}>\r\n\t\t\t\t\t<div className=\"col  container  offset-1 shadow p-3  bg-white \">\r\n                        <h5 className=\" text-center text-uppercase\">Another information</h5>\r\n                        \r\n\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"form-row\"  style={{ marginTop : \"2em\"}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t >\r\n\t\t\t\t\t\t\t\t\t\t<b>Number of penalties: { \" \" } </b> \r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-4 rounded pr-3 pl-3\" \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"red\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.7em\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"400\"\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}{this.state.patientPenalties} {\" \"}\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"form-row \"  style={{ marginTop : \"10px\"}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col  ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t >\r\n\t\t\t\t\t\t\t\t\t\t<b>Number of points: { \" \" } </b> \r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-4 rounded pr-3 pl-3\" \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"green\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop : \"2px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}{this.state.patientPoints} {\" \"}\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"form-row \"  style={{ marginTop : \"30px\"}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col  ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t >\r\n\t\t\t\t\t\t\t\t\t\t<b>Loyalty category: { \" \" } </b> \r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-4 rounded pr-3 pl-3\" \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"violet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop : \"2px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}{this.state.patientLoyaltyCategory} {\" \"}\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\t\r\n\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t<div className=\"form-row \"  style={{ marginTop : \"10px\"}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col  ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t >\r\n\t\t\t\t\t\t\t\t\t\t<b>Examination discount: { \" \" } </b> \r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-4 rounded pr-3 pl-3\" \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"violet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop : \"2px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}{this.state.examinationDiscount} <b>{\" %\"}</b>\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"form-row \"  style={{ marginTop : \"10px\"}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col  ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t >\r\n\t\t\t\t\t\t\t\t\t\t<b>Consultation discount: { \" \" } </b> \r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-4 rounded pr-3 pl-3\" \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"violet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop : \"2px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}{this.state.consultationDiscount} <b>{\" %\"}</b>\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\r\n\t\t\t\t\t\t\t<div className=\"form-row \"  style={{ marginTop : \"10px\"}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col  ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t >\r\n\t\t\t\t\t\t\t\t\t\t<b>Drugs discount: { \" \" } </b> \r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-4 rounded pr-3 pl-3\" \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"violet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1.4em\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop : \"2px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}{this.state.drugDiscount} <b>{\" %\"}</b>\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\r\n\r\n\r\n\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\t\t\t\t</div>\t\r\n\t\t\t\t\t\r\n\r\n            </div>\r\n\r\n\r\n            \r\n\r\n            </div>\r\n\r\n\r\n\r\n\t\t\t<ChangePasswordModal\r\n\t\t\t\t\theader=\"Change password\"\r\n\t\t\t\t\thiddenPasswordErrorAlert={this.state.hiddenPasswordErrorAlert}\r\n\t\t\t\t\terrorPasswordHeader={this.state.errorPasswordHeader}\r\n\t\t\t\t\terrorPasswordMessage={this.state.errorPasswordMessage}\r\n\t\t\t\t\temptyOldPasswordError={this.state.emptyOldPasswordError}\r\n\t\t\t\t\temptyNewPasswordError={this.state.emptyNewPasswordError}\r\n\t\t\t\t\temptyNewPasswordRepeatedError={this.state.emptyNewPasswordRepeatedError}\r\n\t\t\t\t\tnewPasswordAndRepeatedNotSameError={this.state.newPasswordAndRepeatedNotSameError}\r\n\t\t\t\t\tshow={this.state.isPasswordModalOpened}\r\n\t\t\t\t\tchangePassword={this.changePassword}\r\n\t\t\t\t\tonCloseModal={this.handleChangePasswordModalClose}\r\n\t\t\t\t\thandleCloseAlertPassword={this.handleCloseAlertPassword}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<AllergensModal\r\n\t\t\t\t\thiddenAllergenSuccessfulAlert={this.state.hiddenAllergenSuccessfulAlert}\r\n\t\t\t\t\tsuccessfulAllergenHeader={this.state.successfulAllergenHeader}\r\n\t\t\t\t\tsuccessfulAllergenMessage={this.state.successfulAllergenMessage}\r\n\t\t\t\t\thandleCloseAllergenAlertSuccessful={this.handleCloseAllergenAlertSuccessful}\r\n\r\n\t\t\t\t\thiddenAllergenErrorAlert={this.state.hiddenAllergenErrorAlert}\r\n\t\t\t\t\terrorAllergenHeader={this.state.errorAllergenHeader}\r\n\t\t\t\t\terrorAllergenMessage={this.state.errorAllergenMessage}\r\n\t\t\t\t\thandleCloseAllergenAlertError={this.handleCloseAllergenAlertError}\r\n\r\n\t\t\t\t\tuserAllergens={this.state.userAllergens}\r\n\t\t\t\t\tshow={this.state.openAllergenModal}\r\n\t\t\t\t\tRemoveAllergen={this.handleRemoveAllergen}\r\n\t\t\t\t\tAddAllergen={this.handleAddAllergen}\r\n\t\t\t\t\tonCloseModal={this.handleAllergensModalClose}\r\n\t\t\t\t\theader=\"Patients allergens\"\r\n\t\t\t\t\tsubheader=\"Remove patients allergens\"\r\n\r\n\r\n\t\t\t\t/>\r\n\r\n\r\n            </React.Fragment>\r\n\r\n\r\n        );\r\n        \r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default UserProfile;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\HomePageForDermatologistAppointments.js",["469","470","471","472","473"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport PharmacyLogoPicture from \"../Images/pharmacyLogo.jpg\" ;\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass HomePageForDermatologistAppointments extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        allPharmacies: [],\r\n        pharmacySearchName: \"\",\r\n        searchCountryName: \"\",\r\n        searchStreetName: \"\",\r\n        searchCityName: \"\",\r\n        showSearchedForm: false,\r\n        showResetSearced: false,\r\n        inputError : \"none\"\r\n\t\t\r\n\r\n\r\n  };\r\n\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n}\r\n\r\n  componentDidMount() {\r\n\t\t\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n\t\tAxios.get(API_URL + \"/pharmacy/allPharmacies\")\r\n\r\n\t\t\t.then((res) => {\r\n\r\n        if (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n          this.setState({ allPharmacies: res.data });\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n       \r\n\t\t\t});\r\n\r\n\r\n  \r\n         \r\n\t}\r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n   handleSearchForm = () => {    \r\n   \r\n    if(this.state.inputError=== \"initial\")\r\n      this.setState({inputError :\"none\"});\r\n      \r\n   \r\n    this.setState({showSearchedForm : !this.state.showSearchedForm,\r\n                    showResetSearced: false});\r\n          \r\n                    if(this.state.showSearchedForm===false){\r\n\r\n                      this.setState({\r\n    \r\n                        showResetSearced: true,\r\n                        pharmacySearchName: \"\",\r\n                        searchCountryName: \"\",\r\n                        searchStreetName: \"\",\r\n                        searchCityName: \"\",\r\n                        inputError : \"none\"     \r\n                      \r\n                      });\r\n\r\n                    }\r\n\r\n                    \r\n   }\r\n\r\n   handlePharmacySearchNameChange = (event) => {\r\n\t\tthis.setState({ pharmacySearchName: event.target.value });\r\n\t};\r\n\r\n  handleSearchCountryNameChange= (event) => {\r\n\t\tthis.setState({ searchCountryName: event.target.value });\r\n\t};\r\n\r\n  handleSearchStreetNameChange= (event) => {\r\n\t\tthis.setState({ searchStreetName: event.target.value });\r\n\t};\r\n\r\n  \r\n  handleSearchCityNameChange= (event) => {\r\n\t\tthis.setState({ searchCityName: event.target.value });\r\n\t};\r\n\r\n\r\n\r\n    SearchPharmacies = () => {\r\n\r\n\r\n    if (this.state.pharmacySearchName === \"\" && this.state.searchCityName === \"\" \r\n          &&  this.state.searchCountryName=== \"\" &&  this.state.searchStreetName=== \"\" ) {\r\n          this.setState({ inputError : \"initial\" });\r\n             return false;\r\n    } \r\n  \r\n    this.setState({ inputError : \"none\" });\r\n  \r\n      const searchDTO = {\r\n  \r\n        name : this.state.pharmacySearchName,\r\n        street : this.state.searchStreetName,\r\n        city: this.state.searchCityName,\r\n        country : this.state.searchCountryName,\r\n  \r\n  \r\n       };\r\n\r\n      \r\n\r\n      Axios.post(API_URL + \"/pharmacy/searchPharmacies\", searchDTO)\r\n  \r\n      .then((res) => {\r\n        this.setState({\r\n          allPharmacies: res.data,\r\n          showResetSearced : true,\r\n          showSearchedForm : false,      \r\n        \r\n        });\r\n       \r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        \r\n      });\r\n  \r\n      \r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    resetSearch = () => {\r\n\r\n   \r\n    this.setState({\r\n    \r\n     showResetSearced : false,\r\n     showSearchedForm : false, \r\n     pharmacySearchName: \"\",\r\n     searchCountryName: \"\",\r\n     searchStreetName: \"\",\r\n     searchCityName: \"\",\r\n     inputError : \"none\"     \r\n   \r\n   });\r\n\r\n          \r\n    Axios.get(API_URL + \"/pharmacy/allPharmacies\")\r\n\r\n    .then((res) => {\r\n      this.setState({ allPharmacies\r\n        : res.data });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n\r\n\t\t\r\n\t};\r\n\r\n\r\n    \r\n\r\n    \r\n\r\n    handleClickOnSelectedPharmacy = (pharmacyId) => {\r\n        \r\n        this.props.history.push('/dermatologistFreeAppointment/' + pharmacyId)\r\n\r\n    };\r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n      <div id=\"allPharmacies\">\r\n\r\n            \r\n           \r\n           \r\n            <div style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }} width=\"100%\">\r\n\r\n            <div className=\"inline\" >\r\n            <button type=\"button\" class=\"btn btn-primary btn-lg mr-3\" onClick={this.handleSearchForm}>\r\n               \r\n                {this.state.showSearchedForm ? \"Close search\" : \"Open search\"}\r\n                                \r\n            </button>\r\n\r\n            <button hidden={!this.state.showResetSearced} type=\"button\" class=\"btn btn-outline-primary btn-lg mr-3\" onClick={this.resetSearch}>\r\n               \r\n               Reset search\r\n                               \r\n           </button>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <form hidden={!this.state.showSearchedForm} className=\"form-inline\" width=\"100%\" id=\"searchForm\">\r\n\t\t\t\t\t\t\r\n              \r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Pharmacy name\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handlePharmacySearchNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.pharmacySearchName}\r\n\t\t\t\t\t\t\t/>             \r\n              \r\n             \r\n              \r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Street\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleSearchStreetNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchStreetName}\r\n\t\t\t\t\t\t\t/>\r\n\r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"City\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleSearchCityNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchCityName}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t  \t\r\n\r\n              <input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Country\"\r\n                class=\"form-control mr-2\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this. handleSearchCountryNameChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.searchCountryName}\r\n\t\t\t\t\t\t\t/>\r\n              \r\n              \r\n\t\t\t\t\t\t\t<button\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tonClick={this.SearchPharmacies}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-lg \"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n                \r\n\t\t\t\t\t\t\t>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t</button>\r\n             \r\n\r\n\t\t\t\t\t</form>\r\n\r\n          <div className=\"text-danger\" style={{ display: this.state.inputError, fontSize: \"17px\"}}>\r\n\t\t\t\t\t\t\t\t\t\tEnter something in field!\r\n\t\t\t\t\t</div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n        <div className=\"container\">\r\n                    \r\n                    <p  style={{ marginTop: \"3rem\" }} className=\"text-uppercase\" >Click on pharmacies where you want to shedule examination!</p>\r\n                    <table className=\"table \" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n                        \r\n                        <tbody>\r\n                            {\r\n                                this.state.allPharmacies.map((pharmacy) => (\r\n                                    <tr \r\n                                        key={pharmacy.Id} \r\n                                        id={pharmacy.Id} \r\n                                        style={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t\t    onClick={() => this.handleClickOnSelectedPharmacy(pharmacy.Id)}\r\n                                    \r\n                                    \r\n                                    >\r\n                                       \r\n\r\n                                      <td width=\"100px\">  \r\n                                       \r\n                                        <img src={PharmacyLogoPicture} width=\"70px\"></img>                                 \r\n                                     \r\n                                      </td>\r\n\r\n                                      <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Name: </b>{pharmacy.EntityDTO.name}\r\n                                        </div>  \r\n\r\n                                        <div>  \r\n                                        <b>Location: </b> {pharmacy.EntityDTO.address.street}, {\" \"} {pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t                                      {pharmacy.EntityDTO.address.country}\r\n                                        </div> \r\n\r\n                                        <div>  \r\n                                        <b>Description: </b>{pharmacy.EntityDTO.description}\r\n                                        </div>\r\n\r\n                                      </td>\r\n\r\n\r\n                                    </tr>\r\n                                )) }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n        </div>\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HomePageForDermatologistAppointments;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\DermatologistFreeAppointment.js",["474","475"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport { withRouter } from \"react-router\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport FreeDermatologistAppointmentPicture from \"../Images/appointment.png\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass DermatologistFreeAppointment extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        pharmacyId: \"\",\r\n        appointments : [],\r\n        hiddenSuccessfulAlert: true,\r\n        successfulHeader: \"\",\r\n        successfulMessage: \"\",\r\n        hiddenUnsuccessfulAlert: true,\r\n        UnsuccessfulHeader: \"\",\r\n        UnsuccessfulMessage: \"\",\r\n\r\n\r\n\r\n    };\r\n\r\n  \r\n  \r\n\r\n  setPharmacyIdFromUrl = (id) => {\r\n        \r\n    this.setState({\r\n    \r\n        pharmacyId : id\r\n      });\r\n\r\n\r\n    };\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n\r\n\r\n    const pathParams= window.location.pathname;\r\n    const paramsList= pathParams.split(\"/\");\r\n    const id = paramsList[2];\r\n\r\n    console.log(id);\r\n\r\n    this.setPharmacyIdFromUrl(id);\r\n      \r\n    Axios.get(API_URL + \"/appointment/dermatologist/allAppointmentsForchosenPharmacy/\" + id, {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  handleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\r\n\r\n  scheduleSelectedAppointment = (appointmentId) => {\r\n  \r\n    let appointmentIdObject = { id: appointmentId};\r\n\r\n    Axios.post(API_URL + \"/appointment/dermatologist/reserveFreeDermatologistAppointment\",appointmentIdObject , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n      .then((res) => {\r\n        if (res.status === 400) {\r\n          this.setState({ hiddenUnsuccessfulAlert: false,\r\n            UnsuccessfulHeader: \"Bad request\", \r\n            UnsuccessfulMessage: res.data });\r\n\r\n        } else if (res.status === 500) {\r\n\r\n          this.setState({ hiddenUnsuccessfulAlert: false, \r\n            UnsuccessfulHeader: \"Internal server error\", \r\n            UnsuccessfulMessage: \"Server error.\" });\r\n\r\n        } else if (res.status === 200) {\r\n          console.log(\"Success\");\r\n          this.setState({\r\n            hiddenSuccessfulAlert: false,\r\n            successfulHeader: \"Success\",\r\n            successfulMessage: \"You have successfully scheduled the desired appointment! \",\r\n            hiddenEditInfo: true,\r\n          });\r\n\r\n          this.refreshAppointments(appointmentId);\r\n\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        this.setState({ hiddenUnsuccessfulAlert: false,\r\n          UnsuccessfulHeader: \"Error\", \r\n          UnsuccessfulMessage: \"Something was wrong\" });\r\n      \r\n      });\r\n\r\n\r\n\r\n  }\r\n\r\n  refreshAppointments (appointmentId) {\r\n\r\n    let newAppointmentsList= [];\r\n    for (let appointment of this.state.appointments) {\r\n      if (appointment.Id !== appointmentId) \r\n          newAppointmentsList.push(appointment)\r\n    }\r\n\r\n    this.setState({\r\n     appointments : newAppointmentsList,\r\n    });\r\n\r\n  }\r\n\r\n\r\n  \r\n\r\n  handleSortByPriceAscending = () => {\r\n    Axios.get(API_URL + \"/appointment/dermatologist/sortByPriceAscending/\" + this.state.pharmacyId, {\r\n      validateStatus: () => true,\t\r\n      headers: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n            this.setState({ appointments: res.data});\r\n            console.log(res.data);\r\n        \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\r\n  handleSortByPriceDescending = () => {\r\n\r\n    Axios.get(API_URL + \"/appointment/dermatologist/sortByPriceDescending/\" + this.state.pharmacyId, {\r\n      validateStatus: () => true,\t\r\n      headers: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n            this.setState({ appointments: res.data});\r\n            console.log(res.data);\r\n        \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n  };\r\n\r\n\r\n  handleSortByDermatologistGradeAscending = () =>{\r\n\r\n    Axios.get(API_URL + \"/appointment/dermatologist/sortByDermatologistGradeAscending/\" + this.state.pharmacyId, {\r\n      validateStatus: () => true,\t\r\n      headers: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n            this.setState({ appointments: res.data});\r\n            console.log(res.data);\r\n        \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n  };\r\n\r\n\r\n  handleSortByDermatologistGradeDescending = () => {\r\n\r\n    Axios.get(API_URL + \"/appointment/dermatologist/sortByDermatologistGradeDescending/\" + this.state.pharmacyId, {\r\n      validateStatus: () => true,\t\r\n      headers: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n            this.setState({ appointments: res.data});\r\n            console.log(res.data);\r\n        \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n  };\r\n\r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n         <h1 hidden={this.state.appointments.length === 0} className=\"text-center  mt-3  \" >Please select appointment from the list!</h1>\r\n         <h1 hidden={this.state.appointments.length !== 0} className=\"text-center  mt-3 text-danger\"  >Sorry, we don't have free dermatologist appointments for selected pharmacy!</h1>\r\n\r\n\r\n\r\n         <SuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t\t\t\t/>\r\n\r\n        \r\n\r\n          <div className=\"dropdown\">\r\n            <button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n             type=\"button\" id=\"dropdownMenu2\"\r\n              data-toggle=\"dropdown\" \r\n              aria-haspopup=\"true\" \r\n              aria-expanded=\"false\">\r\n              Sort\r\n            </button>\r\n            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceAscending} >Sort by price ascending</button>\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceDescending} >Sort by price descending</button>\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDermatologistGradeAscending} >Sort by dermatologist grade ascending</button>\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDermatologistGradeDescending} >Sort by dermatologist grade descending</button>\r\n            </div>\r\n          </div>\r\n\r\n          \r\n\r\n\r\n\r\n\r\n        <div className=\"container\">\r\n                    \r\n          <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.scheduleSelectedAppointment(appointment.Id)}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"100px\">  \r\n                     <img  src={FreeDermatologistAppointmentPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                    \r\n                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.endDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price:</b>{\" \"}\r\n                      {appointment.EntityDTO.price }\r\n                      <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                  \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Dermatologist: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.employee.EntityDTO.name + \" \" + appointment.EntityDTO.employee.EntityDTO.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                    <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Dermatologist grade: </b> {appointment.EntityDTO.employee.EntityDTO.grade} {\" \"} \r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                      \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\r\n\r\n          \r\n        </div>\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(DermatologistFreeAppointment);","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\FuturePharmaciesConsultationsForPatient.js",["476","477","478","479"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport PharmacistAppointmentPicture from \"../Images/pharmacist.png\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport HistoryPharmacistConsultation from \"../Components/Consultations/HistoryPharmacistConsultation\"\r\nimport FirstGradeModal from \"../Components/Modal/FirstGradeModal\";\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass FuturePharmaciesConsultationsForPatient extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        pharmacyId: \"\",\r\n        appointments : [],\r\n        hiddenSuccessfulAlert: true,\r\n        successfulHeader: \"\",\r\n        successfulMessage: \"\",\r\n        hiddenUnsuccessfulAlert: true,\r\n        UnsuccessfulHeader: \"\",\r\n        UnsuccessfulMessage: \"\",\r\n        hideFutureButton : true,\r\n        hideHistoryButton : false,\r\n        historyConsultations : [],\r\n        hideFutureConsultations : false,\r\n        hideHistoryConsultations : true,\r\n\r\n\r\n\t\tselectedEmployee : [],\r\n\t\temployeeId : \"\",\r\n\t\temployeeGrade : 0,\r\n\t\temployeeName : \"\",\r\n\t\temployeeSurname : \"\",\r\n\t\tshowGradeModal: false,\r\n\t\tshowFirstGrade : false,\r\n\t\tshowModifyGrade : false,\r\n\t\tmaxGrade : 5\r\n\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/appointment/pharmacist/findAllFuturePatientsAppointmets\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  handleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\r\n    \r\n \r\n    moveToHistoryConsultation =() => {\r\n\r\n       \r\n\r\n\t\tthis.setState({ hideFutureButton : false,\r\n\t\t\thideHistoryButton : true,\r\n\t\t\thideFutureConsultations : true,\r\n\t\t\thideHistoryConsultations : false,\r\n\r\n\t\t});\r\n\r\n\r\n\r\n        Axios.get(API_URL + \"/appointment/pharmacist/findAllHistoryPatientsAppointmets\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyConsultations: res.data});\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n       \r\n    }\r\n\r\n\r\n    moveToFutureConsultation =() => {\r\n\r\n        this.setState({ hideFutureButton : true,\r\n                        hideHistoryButton : false,\r\n                        hideFutureConsultations : false,\r\n                        hideHistoryConsultations : true,\r\n        \r\n        });\r\n\r\n      this.componentDidMount();\r\n\r\n       \r\n    }\r\n\r\n\thandleCancelAppointment = (appointmentId) => {\r\n  \r\n\t\tlet appointmentIdObject = { id: appointmentId};\r\n\t\r\n\t\tAxios.post(API_URL + \"/appointment/pharmacist/cancelAppointment\",appointmentIdObject , {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t  .then((res) => {\r\n\t\t\tif (res.status === 400) {\r\n\t\t\t  this.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\tUnsuccessfulMessage: res.data });\r\n\t\r\n\t\t\t} else if (res.status === 500) {\r\n\t\r\n\t\t\t  this.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\tUnsuccessfulMessage: \"Server error.\" });\r\n\t\r\n\t\t\t} \r\n\t\t\telse if (res.status === 404) {\r\n\t\r\n\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t  UnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t  UnsuccessfulMessage: res.data });\r\n\t  \r\n\t\t\t} else if (res.status === 200) {\r\n\t\t\t  console.log(\"Success\");\r\n\t\t\t  this.setState({\r\n\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\tsuccessfulMessage: \"You have successfully canceled the desired appointment! \",\r\n\t\t\t\thiddenEditInfo: true,\r\n\t\t\t  });\r\n\t\r\n\t\t\t  this.refreshAppointments(appointmentId);\r\n\t\r\n\t\t\t}\r\n\t\t  })\r\n\t\t  .catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t  UnsuccessfulHeader: \"Error\", \r\n\t\t\t  UnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t  \r\n\t\t  });\r\n\t\r\n\t\r\n\t\r\n\t  }\r\n\t\r\n\t  refreshAppointments (appointmentId) {\r\n\t\r\n\t\tlet newAppointmentsList= [];\r\n\t\tfor (let appointment of this.state.appointments) {\r\n\t\t  if (appointment.Id !== appointmentId) \r\n\t\t\t  newAppointmentsList.push(appointment)\r\n\t\t}\r\n\t\r\n\t\tthis.setState({\r\n\t\t appointments : newAppointmentsList,\r\n\t\t});\r\n\t\r\n\t  }\r\n\r\n\r\n\t  isAvailableToCanceled =(date) => {\r\n\r\n        var appointmentDate= new Date(date);\r\n        appointmentDate.setDate(appointmentDate.getDate() -1);\r\n\r\n        if(appointmentDate <= new Date()){\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n\t\r\n\thandleSortByPriceAscending =() => {\r\n\r\n\t\tconsole.log(\"sortiranjeee\");\r\n\r\n\t\tvar appointmentType= \"CONSULTATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/pharmacist/findAllHistoryPatientsAppointmets/sortByPriceAscending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyConsultations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByPriceDescending =() => {\r\n\r\n\t\tvar appointmentType= \"CONSULTATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/pharmacist/findAllHistoryPatientsAppointmets/sortByPriceDescending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyConsultations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\thandleSortByDateAscending =() => {\r\n\r\n\r\n\t\tconsole.log(\"sortiranjeee\");\r\n\t\tvar appointmentType= \"CONSULTATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/pharmacist/findAllHistoryPatientsAppointmets/sortByDateAscending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyConsultations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByDateDescending =() => {\r\n\r\n\t\t\r\n\t\tvar appointmentType= \"CONSULTATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/pharmacist/findAllHistoryPatientsAppointmets/sortByDateDescending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyConsultations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByDurationAppointmentAscending =() => {\r\n\r\n\t\tvar appointmentType= \"CONSULTATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/pharmacist/findAllHistoryPatientsAppointmets/sortByDurationAscending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyConsultations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n        \r\n    }\r\n\r\n\t\r\n\thandleSortByDurationAppointmentDescending =() => {\r\n\r\n\t\tvar appointmentType= \"CONSULTATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/pharmacist/findAllHistoryPatientsAppointmets/sortByDurationDescending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ historyConsultations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n        \r\n    }\r\n\r\n\t\r\n\thandleGetGradeClick = (employee) => {\r\n\t\tconsole.log(employee);\r\n\r\n\r\n\r\n\r\n\t\tAxios.get(API_URL + \"/grade/employee/\" + employee.Id , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else if(res.status === 404){\r\n\r\n\r\n\t\t\t\t\tconsole.log(\"Nema ocenu\");\r\n\r\n\t\t\t\t\tlet entityDTO = {\r\n\t\t\t\t\t\tshowGradeModal : true,\r\n\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\temployeeId : employee.EntityDTO.Id,\r\n\t\t\t\t\t\temployeeGrade : employee.EntityDTO.grade,\r\n\t\t\t\t\t\temployeeName : employee.EntityDTO.name,\r\n\t\t\t\t\t\temployeeSurname : employee.EntityDTO.surname\r\n\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\temployeeId : employee.Id,\r\n\t\t\t\t\t\temployeeGrade : employee.EntityDTO.grade,\r\n\t\t\t\t\t\temployeeName : employee.EntityDTO.name,\r\n\t\t\t\t\t\temployeeSurname : employee.EntityDTO.surname});\r\n\r\n\t\t\t\t\t\tconsole.log(employee.Id);\r\n\t\t\t\t\t\tconsole.log(entityDTO);\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\tshowModifyGrade : true,\t\r\n\t\t\t\t\t\temployeeId : res.data.employee.id,\r\n\t\t\t\t\t\temployeeGrade : res.data.grade,\r\n\t\t\t\t\t\temployeeName : res.data.employee.name,\r\n\t\t\t\t\t\temployeeSurname : res.data.employee.surname});\r\n\r\n\t\t\t\t\t\tconsole.log(res.data.grade);\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\t};\r\n\r\n\r\n\tsetFirstGrade = (grade) => {\r\n\t\t\r\n\t\tconsole.log(\"sou\")\r\n\r\n\t\tlet entityDTO = {\r\n\t\t\temployeeId: this.state.employeeId ,\r\n\t\t\tgrade: grade,\r\n\t\t};\r\n\r\n\t\tconsole.log(entityDTO);\r\n\r\n\t\tAxios.post(API_URL + \"/grade/employee/createGrade\",entityDTO , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else if(res.status === 404){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\tshowModifyGrade : false});\r\n\r\n\t\t\t\t}else if(res.status === 500){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false  });\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful created grade for employee! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false   });\r\n\r\n\t\t\t\t\tthis.moveToHistoryConsultation();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t};\r\n\r\n\tsetModifyGrade = (grade) => {\r\n\t\t\r\n\t\tconsole.log(\"sou\")\r\n\r\n\t\tlet entityDTO = {\r\n\t\t\temployeeId: this.state.employeeId ,\r\n\t\t\tgrade: grade,\r\n\t\t};\r\n\r\n\t\tconsole.log(entityDTO);\r\n\r\n\r\n\t\tAxios.post(API_URL + \"/grade/employee/updateGrade\",entityDTO , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else if(res.status === 404){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\tshowModifyGrade : false});\r\n\r\n\t\t\t\t}else if(res.status === 500){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false  });\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful update grade for employee! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false   });\r\n\r\n\t\t\t\t\tthis.moveToHistoryConsultation();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n\t};\r\n\t\r\n\tcloseFirstGradeModal = () => {\r\n\r\n\t\tthis.setState({ showFirstGrade : false,\r\n\t\t\tshowModifyGrade : false,\r\n\t\t\tshowGradeModal : false});\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n\r\n         <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToFutureConsultation()}\r\n         hidden={this.state.hideFutureButton} \r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         Future consultations\r\n        </button>\r\n\r\n\r\n        <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToHistoryConsultation()}\r\n         hidden={this.state.hideHistoryButton} \r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         History consultations\r\n        </button>\r\n\r\n\r\n         <h1 hidden={this.state.appointments.length === 0 || this.state.hideFutureConsultations } className=\"text-center  mt-3  \" >Your future pharmacist consultations!</h1>\r\n         <h1 hidden={this.state.appointments.length !== 0 || this.state.hideFutureConsultations} className=\"text-center  mt-3 text-danger\"  >You don't have future pharmacist consultations!</h1>\r\n\r\n\r\n\r\n         <SuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t/>\r\n\t\t<UnsuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t/>\r\n\r\n        \r\n   \r\n        <div className=\"container\" hidden={this.state.hideFutureConsultations }>\r\n                    \r\n          <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"100px\">  \r\n                     <img  src={PharmacistAppointmentPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                    \r\n                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.endDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price:</b>{\" \"}\r\n                                         {appointment.EntityDTO.price }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                  \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacist: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.employee.EntityDTO.name + \" \" + appointment.EntityDTO.employee.EntityDTO.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                         <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacist grade: </b> {appointment.EntityDTO.employee.EntityDTO.grade} {\" \"} \r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                      \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                    \r\n\t\t\t\t\t\t\t\t\t<td>\r\n                                    <button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            className=\"btn btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{  marginTop: \"2em\" }}\r\n\t\t\t\t\t\t\t\t\t\t\thidden={this.isAvailableToCanceled(new Date(appointment.EntityDTO.startDateTime))}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleCancelAppointment(appointment.Id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </td>\t\t\t\r\n\r\n\r\n\r\n                                    \r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\r\n\r\n          \r\n        </div>\r\n\r\n\r\n\t\t<HistoryPharmacistConsultation\r\n\r\n\t\t\thideHistoryConsultations={this.state.hideHistoryConsultations}\r\n\t\t\tappointments= {this.state.historyConsultations}\r\n\r\n\t\t\thandleSortByPriceAscending={this.handleSortByPriceAscending}\r\n\t\t\thandleSortByPriceDescending={this.handleSortByPriceDescending}\r\n\t\t\thandleSortByDateAscending={this.handleSortByDateAscending}\r\n\t\t\thandleSortByDateDescending={this.handleSortByDateDescending}\r\n\t\t\thandleSortByDurationAppointmentAscending={this.handleSortByDurationAppointmentAscending}\r\n\t\t\thandleSortByDurationAppointmentDescending={this.handleSortByDurationAppointmentDescending}\r\n\t\t\thandleGetGradeClick={this.handleGetGradeClick}\t\t\t\t\t\t\t\t\r\n\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t<FirstGradeModal \r\n\r\n\t\t\t\tshow={this.state.showGradeModal}\r\n\t\t\t\tshowFirstGrade={this.state.showFirstGrade}\r\n\t\t\t\tshowModifyGrade={this.state.showModifyGrade}\r\n\t\t\t\temployeeGrade={this.state.employeeGrade}\t\t\t\t\t\t\t\r\n\t\t\t\tmaxGrade={this.state.maxGrade}\r\n\t\t\t\temployeeName={this.state.employeeName }\r\n\t\t\t\temployeeSurname={this.state.employeeSurname }\r\n\t\t\t\theader={\"Grade\"}\r\n\t\t\t\tbuttonFirstGradeName={\"Grade\"}\r\n\t\t\t\tbuttonModifyGradeName={\" Update grade\"}\t\t\t\t\t\t\t\t\r\n\t\t\t\tsetFirstGrade={this.setFirstGrade}\t\r\n\t\t\t\tsetModifyGrade={this.setModifyGrade}\r\n\t\t\t\tonCloseModal={this.closeFirstGradeModal}\t\t\t\t\t\t\r\n\r\n\t\t/>\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FuturePharmaciesConsultationsForPatient;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\PatientsProccessedDrugsEReceipts.js",["480","481","482","483","484","485"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport drugPicture from \"../Images/medicament.jpg\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport HistoryPharmacistConsultation from \"../Components/Consultations/HistoryPharmacistConsultation\"\r\nimport DrugsEReceiptsModal from \"../Components/Modal/DrugsEReceiptsModal\"\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass PatientsProccessedDrugsEReceipts extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        pharmacyId: \"\",\r\n        processedDrugsList : [],\r\n        \r\n        \r\n        allEReceiptsForSelectedDrug: [] ,\r\n        showEReceiptModal: false,\r\n       \r\n        \r\n    };\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/drug/patientsProccessedDrugs-eReceipts\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ processedDrugsList: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  \r\n\r\n\r\n    \r\n \r\n  moveToAllEReceipts =() => {\r\n\r\n        \r\n\tthis.props.history.push('/allPatients-E-receipts')\r\n\r\n       \r\n    }\r\n\r\n\r\n\r\n\thandleSortByDateAscending =() => {\r\n\r\n\r\n\t\tif (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n                 }\r\n\r\n        this.setState({ selectedSort: \"ASCENDING\" ,\r\n        hiddenResetSearch : false});\r\n                        \r\n    \r\n         Axios.get(API_URL + \"/drug/all-patients-eReceipts/SortByDateAscending\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ patientEReceipts: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n        \r\n    \r\n\r\n\r\n\r\n    ClickOnDrug = (drug) => {\r\n\t\tthis.setState({ allEReceiptsForSelectedDrug: drug.EntityDTO.ereceipts, showEReceiptModal : true });\r\n\t};\r\n\r\n    \r\n\r\n    closeEReceiptModal = () => {\r\n\t\tthis.setState({ allEReceiptsForSelectedDrug: [], showEReceiptModal : false });\r\n\t};\r\n\r\n    \r\n\r\n    \r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n\r\n\r\n        <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToAllEReceipts()}\r\n         hidden={this.state.hideHistoryButton} \r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         All E-receipts\r\n        </button>\r\n\r\n        \r\n\r\n        \r\n\r\n         <h1 hidden={this.state.processedDrugsList.length === 0 } className=\"text-center  mt-3  \" >Your processed drugs!</h1>\r\n         <h1 hidden={this.state.processedDrugsList.length !== 0 } className=\"text-center  mt-3 text-danger\"  >You don't processed drugs!</h1>\r\n\r\n\r\n\r\n   \r\n        <div className=\"container\" >\r\n        <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.processedDrugsList.map((drug) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={drug.Id}\r\n\t\t\t\t\t\t\t\t\tkey={drug.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n                                    <td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={drugPicture} width=\"90em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div  >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name :</b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t   {drug.EntityDTO.drugName}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n                                        <div  >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Format</b>\r\n\t\t\t\t\t\t\t\t\t\t   <b style={{ color: \"blue\" }}> {drug.EntityDTO.drugFormat}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                   <td>\r\n                                    <button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            className=\"btn btn-outline-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{marginTop : \"0.3em\"}}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.ClickOnDrug(drug)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tProcessed e-receipts\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>      \r\n         \r\n        </div>\r\n\r\n\r\n\r\n        <DrugsEReceiptsModal\r\n\r\n            showModal= {this.state.showEReceiptModal}  \r\n            eReceipts= {this.state.allEReceiptsForSelectedDrug}                      \r\n            closeModal ={this.closeEReceiptModal}                                \r\n            />\t\r\n        \r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n        </div>\r\n\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PatientsProccessedDrugsEReceipts;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\PatientsEReceipts.js",["486","487","488","489","490"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport eReceiptsPicture from \"../Images/notepad.png\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport HistoryPharmacistConsultation from \"../Components/Consultations/HistoryPharmacistConsultation\"\r\nimport EreceiptDrugsModal from \"../Components/Modal/EreceiptDrugsModal\"\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass PatientsEReceipts extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        pharmacyId: \"\",\r\n        patientEReceipts : [],\r\n        \r\n        hideFutureButton : true,\r\n        hideHistoryButton : false,\r\n        historyConsultations : [],\r\n        hideFutureConsultations : false,\r\n        hideHistoryConsultations : true,\r\n\r\n        allDrugsForSelectedReceipt: [] ,\r\n        showDrugModal: false,\r\n        searchStatus : \"status\",\r\n        selectedSort : \"\",\r\n        hiddenResetSearch : true\r\n        \r\n    };\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/drug/all-patients-eReceipts\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ patientEReceipts: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  \r\n\r\n\r\n    \r\n \r\n  moveToProcessedDrugs =() => {\r\n\r\n\tthis.props.history.push('/allPatients-processed-drugs-e-receipts')\r\n\t\t\r\n       \r\n    }\r\n\r\n\r\n\r\n\thandleSortByDateAscending =() => {\r\n\r\n\r\n\t\tif (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n                 }\r\n\r\n        this.setState({ selectedSort: \"ASCENDING\" ,\r\n        hiddenResetSearch : false});\r\n                        \r\n    \r\n         Axios.get(API_URL + \"/drug/all-patients-eReceipts/SortByDateAscending\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ patientEReceipts: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n        \r\n    \r\n\r\n\r\n\thandleSortByDateDescending =() => {\r\n\r\n\t\t\r\n\t\tif (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n             }\r\n\r\n        this.setState({ selectedSort: \"DESCENDING\",\r\n        hiddenResetSearch : false });\r\n\r\n         Axios.get(API_URL + \"/drug/all-patients-eReceipts/SortByDateDescending\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ patientEReceipts: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n    ClickOnEReceipt = (eReceipt) => {\r\n\t\tthis.setState({ allDrugsForSelectedReceipt: eReceipt.EntityDTO.drugs, showDrugModal : true });\r\n\t};\r\n\r\n    \r\n\r\n    closeDrugsModal = () => {\r\n\t\tthis.setState({ allDrugsForSelectedReceipt: [], showDrugModal : false });\r\n\t};\r\n\r\n    handleStatusChange = (event) => {\r\n\t\tthis.setState({ searchStatus: event.target.value });\r\n\t};\r\n\r\n\r\n    searchClick = () => {\r\n\t\t\r\n        let url = \"\"\r\n\r\n        if(this.state.selectedSort=== \"ASCENDING\"){\r\n            url =  API_URL + \"/drug/all-patients-eReceipts/SortByDateAscending/search/\";\r\n        }else if(this.state.selectedSort=== \"DESCENDING\"){\r\n            url = API_URL + \"/drug/all-patients-eReceipts/SortByDateDescending/search/\";\r\n        }else{\r\n            url = API_URL + \"/drug/all-patients-eReceipts/search/\";\r\n        }\r\n\r\n        console.log(url);\r\n\r\n        Axios.get(url + this.state.searchStatus, { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({ patientEReceipts: res.data, hiddenResetSearch : false});\r\n                \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t};\r\n\r\n\r\n\r\n    resetSearchClick = () => {\r\n\t\t\r\n        this.setState({hiddenResetSearch : true});\r\n        \r\n        this.componentDidMount();\r\n\r\n\t};\r\n\r\n    \r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n\r\n\r\n        <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToProcessedDrugs()}\r\n         hidden={this.state.hideHistoryButton} \r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         Processed drugs with E-receipts\r\n        </button>\r\n\r\n        <div className=\"container form-inline \" style={{  marginTop: \"2em\" }}>\r\n\r\n            <div className=\"dropdown\">\r\n                <button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n                    type=\"button\" id=\"dropdownMenu2\"\r\n                    data-toggle=\"dropdown\" \r\n                    aria-haspopup=\"true\" \r\n                    aria-expanded=\"false\">\r\n                    Sort\r\n                </button>\r\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">              \r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDateAscending} >Sort by date ascending</button>\r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDateDescending} >Sort by date descending</button>                  \r\n                </div>\r\n            </div>\r\n\r\n            <div className=\" ml-3\">\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Status\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleStatusChange}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.searchStatus}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"8em\" }}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option key=\"1\" value=\"Status\" selected disabled>\r\n\t\t\t\t\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option key=\"2\" value=\"NEW\">\r\n\t\t\t\t\t\t\t\t\t\t\tNew\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option key=\"3\" value=\"REJECTED\">\r\n\t\t\t\t\t\t\t\t\t\t\tRejected\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option key=\"4\" value=\"PROCESSED\">\r\n\t\t\t\t\t\t\t\t\t\t\tProcessed\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t    <div className=\"ml-2\">\r\n                                        <button\r\n                                            onClick={this.searchClick}\r\n                                            className=\"btn btn-primary btn-xl \"\r\n                                            type=\"button\"\r\n                                        >\r\n                                \r\n                                            Search\r\n                                        </button>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t    </div>\r\n\r\n                                    <div className=\"ml-2\">\r\n                                        <button\r\n                                            onClick={this.resetSearchClick}\r\n                                            hidden={this.state.hiddenResetSearch}\r\n                                            className=\"btn btn-secondary btn-xl \"\r\n                                            type=\"button\"\r\n                                        >\r\n                                \r\n                                            Reset search\r\n                                        </button>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t    </div>\r\n\r\n\r\n\r\n         </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n         <h1 hidden={this.state.patientEReceipts.length === 0 || this.state.hideFutureConsultations } className=\"text-center  mt-3  \" >Your e-receipts!</h1>\r\n         <h1 hidden={this.state.patientEReceipts.length !== 0 || this.state.hideFutureConsultations} className=\"text-center  mt-3 text-danger\"  >You don't have e-receipts!</h1>\r\n\r\n\r\n\r\n   \r\n        <div className=\"container\" hidden={this.state.hideFutureConsultations }>\r\n        <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.patientEReceipts.map((eReceipt) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={eReceipt.Id}\r\n\t\t\t\t\t\t\t\t\tkey={eReceipt.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={eReceiptsPicture} width=\"90em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Creation Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(eReceipt.EntityDTO.creationDate).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div  >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Status</b>\r\n\t\t\t\t\t\t\t\t\t\t   <b style={{ color: \"blue\" }}> {eReceipt.EntityDTO.status}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div hidden={eReceipt.EntityDTO.status !== \"PROCESSED\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price: </b> {eReceipt.EntityDTO.price.toFixed(2)} <b>din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                   <td>\r\n                                    <button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            className=\"btn btn-outline-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{marginTop : \"0.3em\"}}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.ClickOnEReceipt(eReceipt)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tDrugs\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>      \r\n         \r\n        </div>\r\n\r\n\r\n\r\n          \r\n        </div>\r\n\r\n\r\n\t\t<HistoryPharmacistConsultation\r\n\r\n\t\t\thideHistoryConsultations={this.state.hideHistoryConsultations}\r\n\t\t\tappointments= {this.state.historyConsultations}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t/>\r\n\r\n\t\t\t<EreceiptDrugsModal\r\n\r\n                showDrugModal= {this.state.showDrugModal}  \r\n                drugs= {this.state.allDrugsForSelectedReceipt}                      \r\n                closeModal ={this.closeDrugsModal}                                \r\n            />\t\t\t\t\t\r\n\r\n\r\n\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PatientsEReceipts;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\PharmaciesAppointmentStartPage.js",["491","492","493","494","495","496"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport DermatologistAppointmentPicture from \"../Images/appointment.png\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport FoundPharmaciesForDateRange from \"../Components/Pharmacies/FoundPharmaciesForDateRange\"\r\nimport FoundPharmacistForPharmacyForDateRange from \"../Components/Pharmacies/FoundPharmacistForPharmacyForDateRange\"\r\nimport ReservedConsultationModal from \"../Components/Modal/ReservedConsultationModal\"\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass PharmaciesAppointmentStartPage extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        consultationDate: new Date(),\r\n\t\tselectedDate: new Date(),\r\n\t\thours: new Date().getHours(),\r\n\t\tminutes: new Date().getMinutes(),\r\n        pharmacies: [],\r\n\t\thiddenPharmacies: true,\r\n\t\tpharmacists : [],\r\n\t\thiddenPharmacists: true,\r\n        hiddenUnsuccessfulAlert: true,\r\n        UnsuccessfulHeader: \"\",\r\n        UnsuccessfulMessage: \"\",\r\n\t\tisPharmaciesEmpty : false,\r\n\t\tshowReservedConsultationModal: false,\r\n\t\terrorMessageForReservation : \"\",\r\n\t\thideSuccessfulModalText : true,\r\n\t\thideSuccessfulModalButton: true,\r\n\t\tmodalTitle: \"\",\r\n\t\tselectedPharmacyId : \"\"\r\n\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n  \r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  handleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n    handleDateChange = (date) => {\r\n\t\tthis.setState({ selectedDate: date });\r\n\t};\r\n\r\n\thandleMinutesChange = (event) => {\r\n\t\tif (event.target.value < 0) this.setState({ minutes: 0 });\r\n        else if (event.target.value > 59) this.setState({ minutes: 59 });\r\n\t\telse this.setState({ minutes: event.target.value });\r\n\t};\r\n\r\n\thandleHoursChange = (event) => {\r\n        if (event.target.value < 0) this.setState({ hours: 0 });\r\n\t\telse if (event.target.value > 23) this.setState({ hours: 23 });\r\n\t\telse this.setState({ hours: event.target.value });\r\n\t};\r\n    \r\n    \r\n    CheckAvailabilityAppointment = () => {\r\n        \r\n\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\r\n\t\t\thiddenUnsuccessfulAlert: true,\r\n\t\t\tUnsuccessfulHeader: \"\",\r\n\t\t\tUnsuccessfulMessage: \"\",\r\n\t\t});\r\n\r\n\t\tlet acceptableDate = new Date().getTime() + 3600;\r\n\t\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime();\r\n\r\n\t\t\r\n\t    \r\n             console.log(\"sok\");\r\n\t\t\tAxios.get( API_URL + \"/pharmacy/getAllFreePharmacyAppointmetsForSelectedDate/\" + consultationDateSelected  , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() }},\r\n\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\t if (res.status === 200) {\r\n\t\t\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t\t\t\tif(this.state.pharmacies.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: false, isPharmaciesEmpty: false });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmaciesEmpty: true });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t if(res.status === 401){\r\n\t\t\t\t\t\t this.props.history.push(\"/login\");\r\n                        this.setState({ hiddenUnsuccessfulAlert: false, \r\n                            UnsuccessfulHeader: \"Internal server error\", \r\n                            UnsuccessfulMessage: res.data });\r\n                    }\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n                    this.setState({ hiddenUnsuccessfulAlert: false, \r\n                        UnsuccessfulHeader: \"Error\", \r\n                        UnsuccessfulMessage: \"Some error\" });\r\n                    \r\n\t\t\t\t});\r\n\t\t\r\n\t};\r\n\r\n\r\n   \r\n\r\n\tshowPharmacistForPharmacy = (pharmacy) => {\r\n\t\tthis.setState({\r\n\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\r\n\t\t\tselectedPharmacyId: pharmacy.Id,\r\n\t\t});\r\n\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime(); \r\n\r\n\t\t\tconsole.log(\"idemooo\")\r\n\t\tAxios.get(\r\n\t\t\tAPI_URL +\r\n\t\t\t\t\"/users/freePharmacistsForSelectedPharmacyInDataRange/\" + pharmacy.Id + \"/\"+ consultationDateSelected,\r\n\t\t\t{ validateStatus: () => true, headers: { Authorization: GetAuthorisation() } }\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.props.history.push(\"/login\");\r\n\r\n\t\t\t\t} else if (res.status === 200) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(res.data);\r\n\r\n\t\t\t\t\tthis.setState({ pharmacists: res.data });\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(this.state.pharmacists.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: true, \r\n\t\t\t\t\t\t\t\tisPharmaciesEmpty: false,\r\n\t\t\t\t\t\t\t\t hiddenPharmacists: false,\r\n\t\t\t\t\t\t\t\t isPharmacistsEmpty: false });\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmacistsEmpty: true,hiddenPharmacists: true, hiddenPharmacies: false });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\tUnsuccessfulMessage: \"Some error\" });\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\t\r\n\thandleClosePharmacistPage = () => {\r\n\t\tthis.setState({ hiddenPharmacists: true, hiddenPharmacies: false});\r\n\t};\r\n\r\n\r\n\thandleClosePharmaciesPage = () => {\r\n\t\tthis.setState({ hiddenPharmacists: true, hiddenPharmacies: true});\r\n\t};\r\n\r\n\r\n\r\n\treserveAppointmentForPharmacist = (pharmacist) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\r\n\t\t\thiddenUnsuccessfulAlert: true,\r\n\t\t\tUnsuccessfulHeader: \"\",\r\n\t\t\tUnsuccessfulMessage: \"\",\r\n\t\t\terrorMessageForReservation: \"\"\r\n\t\t});\r\n\r\n\t\tconsole.log(this.state.selectedDate);\r\n\r\n\r\n\t\tlet reservationDTO = {\r\n\t\t\tpharmacistId: pharmacist.Id,\r\n\t\t\tstartDate: this.state.consultationDate,\r\n\t\t};\r\n\r\n\t\tAxios.post(\r\n\t\t\tAPI_URL + \"/appointment/reserveConsulationBySelectedPharmacist\", reservationDTO ,\r\n\t\t\t{ validateStatus: () => true, headers: { Authorization: GetAuthorisation() } }\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.props.history.push(\"/login\");\r\n\t\t\t\r\n\t\t\t\t} else if (res.status === 500) {\r\n\t\t\t\t\tthis.setState({ errorMessageForReservation : res.data,\r\n\t\t\t\t\t\t showReservedConsultationModal: true,\r\n\t\t\t\t\t\t  modalTitle : \"Error\" });\r\n\t\t\t\t } else if (res.status === 400) {\r\n\t\t\t\t\tthis.setState({ errorMessageForReservation : res.data, \r\n\t\t\t\t\t\tshowReservedConsultationModal: true,\r\n\t\t\t\t\t\tmodalTitle : \"Bad request\"});\r\n\t\t\t\t } else if (res.status === 201 ){\r\n\t\t\t\t\t\tconsole.log(\"uspesno zakao termin\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ showReservedConsultationModal: true,\r\n\t\t\t\t\t\t\t\t\t errorMessageForReservation : \"\",\r\n\t\t\t\t\t\t\t\t\t hideSuccessfulModalText : false,\r\n\t\t\t\t\t\t\t\t\t hideSuccessfulModalButton: false,\r\n\t\t\t\t\t\t\t\t\t modalTitle : \"Successful reservation\"\r\n\t\t\t\t\t\t\t  });\r\n\t\t\t\t  }\t\r\n\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tthis.setState({ errorMessageForReservation : \"Some error happened\", modalTitle : \"Error\" });\r\n\t\t\t});\r\n\r\n\r\n\r\n\r\n\r\n\t};\r\n\r\n\tcloseReservedConsultationModal = () => {\r\n\t\tthis.setState({ showReservedConsultationModal: false,\r\n\t\t\t\t\t\t errorMessageForReservation : \"\",\r\n\t\t\t\t\t\t hideSuccessfulModalText : true,\r\n\t\t\t\t\t\t hideSuccessfulModalButton: true,\r\n\t\t\t\t\t\t modalTitle : \"\"\r\n\t\t\t\t  });\r\n\t\tthis.props.history.push(\"/\");\r\n\t};\r\n\r\n\tcloseModal= () => {\r\n\t\tthis.setState({ showReservedConsultationModal: false,\r\n\t\t\t\t\t errorMessageForReservation : \"\",\r\n\t\t\t\t\t hideSuccessfulModalText : true,\r\n\t\t\t\t\t hideSuccessfulModalButton: true,\r\n\t\t\t\t\t modalTitle : \"\"\r\n\t\t\t });\r\n\t\t\r\n\t};\r\n\t\r\n\r\n\r\n\thandleSortByPriceAscending = () => {\r\n        \r\n\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\r\n\t\t\thiddenUnsuccessfulAlert: true,\r\n\t\t\tUnsuccessfulHeader: \"\",\r\n\t\t\tUnsuccessfulMessage: \"\",\r\n\t\t});\r\n\r\n\t\t\r\n\t\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime();\r\n\r\n\t\t\r\n\t    \r\n             console.log(\"sok\");\r\n\t\t\tAxios.get( API_URL + \"/pharmacy/getAllFreePharmacyAppointmetsForSelectedDate/SortByPriceAscending/\" + consultationDateSelected  , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() }},\r\n\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\t if (res.status === 200) {\r\n\t\t\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t\t\t\tif(this.state.pharmacies.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: false, isPharmaciesEmpty: false });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmaciesEmpty: true });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t if(res.status === 401){\r\n\t\t\t\t\t\t this.props.history.push(\"/login\");\r\n                        \r\n                    }\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n                    this.setState({ hiddenUnsuccessfulAlert: false, \r\n                        UnsuccessfulHeader: \"Error\", \r\n                        UnsuccessfulMessage: \"Some error\" });\r\n                    \r\n\t\t\t\t});\r\n\t\t\r\n\t};\r\n\r\n\r\n\r\n\thandleSortByPriceDescending = () => {\r\n        \r\n\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\r\n\t\t\thiddenUnsuccessfulAlert: true,\r\n\t\t\tUnsuccessfulHeader: \"\",\r\n\t\t\tUnsuccessfulMessage: \"\",\r\n\t\t});\r\n\r\n\t\t\r\n\t\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime();\r\n\r\n\t\t\r\n\t    \r\n             console.log(\"sok\");\r\n\t\t\tAxios.get( API_URL + \"/pharmacy/getAllFreePharmacyAppointmetsForSelectedDate/SortByPriceDescending/\" + consultationDateSelected  , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() }},\r\n\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\t if (res.status === 200) {\r\n\t\t\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t\t\t\tif(this.state.pharmacies.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: false, isPharmaciesEmpty: false });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmaciesEmpty: true });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t if(res.status === 401){\r\n\t\t\t\t\t\t this.props.history.push(\"/login\");\r\n                        \r\n                    }\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n                    this.setState({ hiddenUnsuccessfulAlert: false, \r\n                        UnsuccessfulHeader: \"Error\", \r\n                        UnsuccessfulMessage: \"Some error\" });\r\n                    \r\n\t\t\t\t});\r\n\t\t\r\n\t};\r\n\r\n\r\n\r\n\thandleSortByPharmacyGradeAscending = () => {\r\n        \r\n\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\r\n\t\t\thiddenUnsuccessfulAlert: true,\r\n\t\t\tUnsuccessfulHeader: \"\",\r\n\t\t\tUnsuccessfulMessage: \"\",\r\n\t\t});\r\n\r\n\t\t\r\n\t\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime();\r\n\r\n\t\t\r\n\t    \r\n             console.log(\"sok\");\r\n\t\t\tAxios.get( API_URL + \"/pharmacy/getAllFreePharmacyAppointmetsForSelectedDate/SortByPharmacyGradeAscending/\" + consultationDateSelected  , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() }},\r\n\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\t if (res.status === 200) {\r\n\t\t\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t\t\t\tif(this.state.pharmacies.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: false, isPharmaciesEmpty: false });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmaciesEmpty: true });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t if(res.status === 401){\r\n\t\t\t\t\t\t this.props.history.push(\"/login\");\r\n                        \r\n                    }\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n                    this.setState({ hiddenUnsuccessfulAlert: false, \r\n                        UnsuccessfulHeader: \"Error\", \r\n                        UnsuccessfulMessage: \"Some error\" });\r\n                    \r\n\t\t\t\t});\r\n\t\t\r\n\t};\r\n\r\n\r\n\thandleSortByPharmacyGradeDescending = () => {\r\n        \r\n\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\r\n\t\t\thiddenUnsuccessfulAlert: true,\r\n\t\t\tUnsuccessfulHeader: \"\",\r\n\t\t\tUnsuccessfulMessage: \"\",\r\n\t\t});\r\n\r\n\t\t\r\n\t\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime();\r\n\r\n\t\t\r\n\t    \r\n             console.log(\"sok\");\r\n\t\t\tAxios.get( API_URL + \"/pharmacy/getAllFreePharmacyAppointmetsForSelectedDate/SortByPharmacyGradeDescending/\" + consultationDateSelected  , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() }},\r\n\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\t if (res.status === 200) {\r\n\t\t\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t\t\t\tif(this.state.pharmacies.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: false, isPharmaciesEmpty: false });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmaciesEmpty: true });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t if(res.status === 401){\r\n\t\t\t\t\t\t this.props.history.push(\"/login\");\r\n                        \r\n                    }\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n                    this.setState({ hiddenUnsuccessfulAlert: false, \r\n                        UnsuccessfulHeader: \"Error\", \r\n                        UnsuccessfulMessage: \"Some error\" });\r\n                    \r\n\t\t\t\t});\r\n\t\t\r\n\t};\r\n\r\n\r\n\r\n\r\n\thandleSortByPharmacistGradeAscending = () => {\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\t\t});\r\n\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime(); \r\n\r\n\t\t\tconsole.log(\"idemooo\")\r\n\t\tAxios.get(\r\n\t\t\tAPI_URL +\r\n\t\t\t\t\"/users/freePharmacistsForSelectedPharmacyInDataRange/sortByGradeAscending/\" + this.state.selectedPharmacyId + \"/\"+ consultationDateSelected,\r\n\t\t\t{ validateStatus: () => true, headers: { Authorization: GetAuthorisation() } }\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.props.history.push(\"/login\");\r\n\r\n\t\t\t\t} else if (res.status === 200) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(res.data);\r\n\r\n\t\t\t\t\tthis.setState({ pharmacists: res.data });\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(this.state.pharmacists.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: true, \r\n\t\t\t\t\t\t\t\tisPharmaciesEmpty: false,\r\n\t\t\t\t\t\t\t\t hiddenPharmacists: false,\r\n\t\t\t\t\t\t\t\t isPharmacistsEmpty: false });\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmacistsEmpty: true,hiddenPharmacists: true, hiddenPharmacies: false });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\tUnsuccessfulMessage: \"Some error\" });\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\thandleSortByPharmacistGradeDescending = () => {\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tconsultationDate: new Date(\r\n\t\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\t\tthis.state.hours,\r\n\t\t\t\tthis.state.minutes,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t).getTime(),\r\n\t\t});\r\n\r\n\t\tlet consultationDateSelected= new Date(\r\n\t\t\tthis.state.selectedDate.getFullYear(),\r\n\t\t\tthis.state.selectedDate.getMonth(),\r\n\t\t\tthis.state.selectedDate.getDate(),\r\n\t\t\tthis.state.hours,\r\n\t\t\tthis.state.minutes,\r\n\t\t\t0,\r\n\t\t\t0\r\n\t\t).getTime(); \r\n\r\n\t\t\tconsole.log(\"idemooo\")\r\n\t\tAxios.get(\r\n\t\t\tAPI_URL +\r\n\t\t\t\t\"/users/freePharmacistsForSelectedPharmacyInDataRange/sortByGradeDescending/\" + this.state.selectedPharmacyId + \"/\"+ consultationDateSelected,\r\n\t\t\t{ validateStatus: () => true, headers: { Authorization: GetAuthorisation() } }\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.props.history.push(\"/login\");\r\n\r\n\t\t\t\t} else if (res.status === 200) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(res.data);\r\n\r\n\t\t\t\t\tthis.setState({ pharmacists: res.data });\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(this.state.pharmacists.length!==0){\r\n\t\t\t\t\t\t\tthis.setState({hiddenPharmacies: true, \r\n\t\t\t\t\t\t\t\tisPharmaciesEmpty: false,\r\n\t\t\t\t\t\t\t\t hiddenPharmacists: false,\r\n\t\t\t\t\t\t\t\t isPharmacistsEmpty: false });\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.setState({isPharmacistsEmpty: true,hiddenPharmacists: true, hiddenPharmacies: false });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\tUnsuccessfulMessage: \"Some error\" });\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n         <Header/>\r\n      \r\n         <div className=\"container\" hidden={!this.state.hiddenPharmacies || !this.state.hiddenPharmacists} >\r\n\r\n\r\n         <UnsuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t/>\r\n       \r\n\r\n\r\n         <h1  className=\"text-center  mt-3  \" >Please select the desired date for consultations with a pharmacist!</h1>\r\n         \r\n\t\t <h5 className=\" text-center  mt-3  text-danger\" hidden={!this.state.isPharmaciesEmpty}>\r\n\t\t\t\t\t\tWe couldn't find pharmacies with free pharmacists at desired time. Please change date and time.\r\n\t\t</h5>\r\n\r\n         <div className=\"control-group\" style={{ marginTop: \"5em\" }}>\r\n\t\t\t\t\t\t<div className=\"form-row justify-content-center\">\r\n                            <div className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t<div style={{ fontSize: \"20px\" }}>\r\n                                    <b>Select date:</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tminDate={new Date()}\r\n\t\t\t\t\t\t\t\t\tonChange={(date) => this.handleDateChange(date)}\r\n\t\t\t\t\t\t\t\t\tselected={this.state.selectedDate}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t<div className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t<div style={{ fontSize: \"20px\" }}>\r\n\t\t\t\t\t\t\t\t\t<b>Hours:</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input\r\n                                    type=\"number\"\r\n\t\t\t\t\t\t\t\t\tmin=\"00\"\r\n\t\t\t\t\t\t\t\t\tmax=\"23\"\r\n                                    className=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleHoursChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.hours}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"12em\" }}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t<div style={{ fontSize: \"20px\" }}>\r\n                                    <b>Minutes:</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tmin=\"00\"\r\n                                    max=\"59\"\r\n                                    type=\"number\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleMinutesChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.minutes}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"12em\" }}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col text-center\">\r\n\t\t\t\t\t\t            <button type=\"button\" class=\"btn btn-outline-primary btn-lg \"\r\n                                        onClick={() => this.CheckAvailabilityAppointment()}\r\n                                        style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n                                        >\r\n                                        <b>Check appointment </b>\r\n\r\n                                     </button>\r\n\r\n                                </div>\r\n                             </div>\r\n                        </div>\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\r\n          \r\n        </div>\r\n\r\n\r\n\t\t<FoundPharmaciesForDateRange\r\n\r\n\t\t\t\thiddenPharmacies= {this.state.hiddenPharmacies}\r\n\t\t\t\tpharmacies={this.state.pharmacies}\r\n\t\t\t\tshowPharmacistForPharmacy={this.showPharmacistForPharmacy}\r\n\t\t\t\tbackToSelectedDateRange= {this.handleClosePharmaciesPage}\r\n\r\n\t\t\t\thandleSortByPriceAscending= {this.handleSortByPriceAscending}\r\n\t\t\t\thandleSortByPriceDescending= {this.handleSortByPriceDescending}\r\n\t\t\t\thandleSortByPharmacyGradeAscending= {this.handleSortByPharmacyGradeAscending}\r\n\t\t\t\thandleSortByPharmacyGradeDescending= {this.handleSortByPharmacyGradeDescending}\r\n\r\n\t\t/>\r\n\r\n\t   <FoundPharmacistForPharmacyForDateRange\r\n\r\n\t\thiddenPharmacist= {this.state.hiddenPharmacists}\r\n\t\tpharmacists= {this.state.pharmacists}\r\n\t\treserveAppointmentForPharmacist={this.reserveAppointmentForPharmacist}\t\r\n\t\tbackToPharmacies= {this.handleClosePharmacistPage}\r\n\t\thandleSortByPharmacistGradeAscending= {this.handleSortByPharmacistGradeAscending}\r\n\t\thandleSortByPharmacistGradeDescending= {this.handleSortByPharmacistGradeDescending}\t\r\n\r\n\t   />\r\n\r\n\r\n\t\t<ReservedConsultationModal\t\r\n\t\t\t\tshow= {this.state.showReservedConsultationModal}\r\n\t\t\t\tcloseModal= {this.closeReservedConsultationModal}\r\n\t\t\t\tonCloseModal={this.closeModal}\r\n\t\t\t\terrorMessageForReservation= {this.state.errorMessageForReservation}\r\n\t\t\t\thideSuccessfulModalText = {this.state.hideSuccessfulModalText}\r\n\t\t\t\thideSuccessfulModalButton= {this.state.hideSuccessfulModalButton}\r\n\t\t\t\tmodalTitle= {this.state.modalTitle}\r\n\r\n\t\t/>\t\r\n\r\n\t\t\r\n\r\n\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PharmaciesAppointmentStartPage;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\HistoryDermatologistAppointmentsForPatient.js",["497","498","499","500"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport DermatologistAppointmentPicture from \"../Images/appointment.png\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport CreateComplaintModal from \"../Components/CreateComplaintModal\";\r\nimport FirstGradeModal from \"../Components/Modal/FirstGradeModal\";\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass HistoryDermatologistAppointmentsForPatient extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        pharmacyId: \"\",\r\n        appointments : [],\r\n        hiddenSuccessfulAlert: true,\r\n        successfulHeader: \"\",\r\n        successfulMessage: \"\",\r\n        hiddenUnsuccessfulAlert: true,\r\n        UnsuccessfulHeader: \"\",\r\n        UnsuccessfulMessage: \"\",\r\n\r\n\t\tshowComplaintModal: false,\r\n\t\tStaffName: \"\",\r\n\t\tStaffSurame: \"\",\r\n\t\tcomplaint: \"\",\r\n\t\tstaffId : \"\",\r\n\t\tDate : new Date(),\r\n\t\ttext : \"\",\r\n\t\tprofession : \"\",\r\n\r\n\t\tselectedEmployee : [],\r\n\t\temployeeId : \"\",\r\n\t\temployeeGrade : 0,\r\n\t\temployeeName : \"\",\r\n\t\temployeeSurname : \"\",\r\n\t\tshowGradeModal: false,\r\n\t\tshowFirstGrade : false,\r\n\t\tshowModifyGrade : false,\r\n\t\tmaxGrade : 5\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/appointment/dermatologist/findAllHistoryPatientsAppointmets\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  handleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\r\n    moveToFutureExamination =() => {\r\n\r\n       this.props.history.push(\"/futureDermatologistAppointmentsForPatient\");\r\n    }\r\n\r\n\r\n\r\n\thandleSortByPriceAscending =() => {\r\n\r\n\t\tconsole.log(\"sortiranjeee\");\r\n\t\tvar appointmentType= \"EXAMINATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/dermatologist/findAllHistoryPatientsAppointmets/sortByPriceAscending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByPriceDescending =() => {\r\n\r\n\t\tvar appointmentType= \"EXAMINATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/dermatologist/findAllHistoryPatientsAppointmets/sortByPriceDescending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\thandleSortByDateAscending =() => {\r\n\r\n\r\n\t\tconsole.log(\"sortiranjeee\");\r\n\t\tvar appointmentType= \"EXAMINATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/dermatologist/findAllHistoryPatientsAppointmets/sortByDateAscending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByDateDescending =() => {\r\n\r\n\t\t\r\n\t\tvar appointmentType= \"EXAMINATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/dermatologist/findAllHistoryPatientsAppointmets/sortByDateDescending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByDurationAppointmentAscending =() => {\r\n\r\n\t\tvar appointmentType= \"EXAMINATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/dermatologist/findAllHistoryPatientsAppointmets/sortByDurationAscending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n        \r\n    }\r\n\r\n\t\r\n\thandleSortByDurationAppointmentDescending =() => {\r\n\r\n\t\tvar appointmentType= \"EXAMINATION\";\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/dermatologist/findAllHistoryPatientsAppointmets/sortByDurationDescending/\" + appointmentType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n        \r\n    }\r\n\r\n\thandleComplaintClick = (staff) => {\r\n\t\tconsole.log(staff);\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tselectedStaffId: staff.Id,\r\n\t\t\t\t\t\tshowComplaintModal: true,\r\n\t\t\t\t\t\tStaffName: staff.EntityDTO.name,\r\n\t\t\t\t\t\tStaffSurame: staff.EntityDTO.surname,\r\n\t\t\t\t\t\tprofession : staff.EntityDTO.profession,\r\n\t\t\t\t\t\tgrade: 0,\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t};\r\n\r\n\thandleComaplaint = () => {\r\n\t\tlet ComplaintStaffDTO = {\r\n\t\t\tstaffId: this.state.selectedStaffId,\r\n\t\t\tdate: new Date(),\r\n\t\t\ttext: this.state.text,\r\n\t\t\tstaffName: this.state.StaffName,\r\n\t\t\tstaffSurname: this.state.StaffSurame,\r\n\t\t\tprofession: \"\",\r\n\t\t\treply: \"\",\r\n\t\t\temail: \"\",\r\n\t\t};\r\n\r\n\t\tAxios.post(\"http://localhost:8080/complaint\", ComplaintStaffDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n\t\t\t\t\tthis.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleComplaintChange = (event) => {\r\n\t\tthis.setState({ text: event.target.value });\r\n\t};\r\n\r\n\t\r\n\thandleComplaintModalClose = () => {\r\n\t\tthis.setState({ showComplaintModal: false });\r\n\t};\r\n\r\n\thandleStuffIdChange = (stuffID) => {\r\n\t\tthis.setState({ staffId: stuffID });\r\n\t};\r\n\r\n\r\n\thandleGetGradeClick = (employee) => {\r\n\t\tconsole.log(employee);\r\n\r\n\r\n\r\n\r\n\t\tAxios.get(API_URL + \"/grade/employee/\" + employee.Id , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else if(res.status === 404){\r\n\r\n\r\n\t\t\t\t\tconsole.log(\"Nema ocenu\");\r\n\r\n\t\t\t\t\tlet entityDTO = {\r\n\t\t\t\t\t\tshowGradeModal : true,\r\n\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\temployeeId : employee.EntityDTO.Id,\r\n\t\t\t\t\t\temployeeGrade : employee.EntityDTO.grade,\r\n\t\t\t\t\t\temployeeName : employee.EntityDTO.name,\r\n\t\t\t\t\t\temployeeSurname : employee.EntityDTO.surname\r\n\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\t\tshowFirstGrade : true,\t\r\n\t\t\t\t\t\temployeeId : employee.Id,\r\n\t\t\t\t\t\temployeeGrade : employee.EntityDTO.grade,\r\n\t\t\t\t\t\temployeeName : employee.EntityDTO.name,\r\n\t\t\t\t\t\temployeeSurname : employee.EntityDTO.surname});\r\n\r\n\t\t\t\t\t\tconsole.log(employee.Id);\r\n\t\t\t\t\t\tconsole.log(entityDTO);\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ showGradeModal : true,\r\n\t\t\t\t\t\tshowModifyGrade : true,\t\r\n\t\t\t\t\t\temployeeId : res.data.employee.id,\r\n\t\t\t\t\t\temployeeGrade : res.data.grade,\r\n\t\t\t\t\t\temployeeName : res.data.employee.name,\r\n\t\t\t\t\t\temployeeSurname : res.data.employee.surname});\r\n\r\n\t\t\t\t\t\tconsole.log(res.data.grade);\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t};\r\n\r\n\tsetFirstGrade = (grade) => {\r\n\t\t\r\n\t\tconsole.log(\"sou\")\r\n\r\n\t\tlet entityDTO = {\r\n\t\t\temployeeId: this.state.employeeId ,\r\n\t\t\tgrade: grade,\r\n\t\t};\r\n\r\n\t\tconsole.log(entityDTO);\r\n\r\n\t\tAxios.post(API_URL + \"/grade/employee/createGrade\",entityDTO , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else if(res.status === 404){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\tshowModifyGrade : false});\r\n\r\n\t\t\t\t}else if(res.status === 500){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false  });\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful created grade for employee! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false   });\r\n\r\n\t\t\t\t\tthis.componentDidMount();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t};\r\n\r\n\tsetModifyGrade = (grade) => {\r\n\t\t\r\n\t\tconsole.log(\"sou\")\r\n\r\n\t\tlet entityDTO = {\r\n\t\t\temployeeId: this.state.employeeId ,\r\n\t\t\tgrade: grade,\r\n\t\t};\r\n\r\n\t\tconsole.log(entityDTO);\r\n\r\n\r\n\t\tAxios.post(API_URL + \"/grade/employee/updateGrade\",entityDTO , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else if(res.status === 404){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Bad request\", UnsuccessfulMessage : res.data,\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\tshowModifyGrade : false});\r\n\r\n\t\t\t\t}else if(res.status === 500){\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, UnsuccessfulHeader : \"Error\", UnsuccessfulMessage : \"internal server error! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false  });\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ hiddenSuccessfulAlert:  false, successfulHeader:   \"Successful\", successfulMessage:  \"You successful update grade for employee! \",\r\n\t\t\t\t\t showGradeModal :false,\r\n\t\t\t\t\t showFirstGrade : false,\r\n\t\t\t\t\t showModifyGrade : false   });\r\n\r\n\t\t\t\t\tthis.componentDidMount();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n\t};\r\n\t\r\n\tcloseFirstGradeModal = () => {\r\n\r\n\t\tthis.setState({ showFirstGrade : false,\r\n\t\t\tshowModifyGrade : false,\r\n\t\t\tshowGradeModal : false});\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n\r\n         <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToFutureExamination()}\r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         Future Examination\r\n        </button>\r\n\r\n\r\n\t\t<div className=\"container\" style={{  marginTop: \"2em\" }}>\r\n\r\n\t\t<div className=\"dropdown\">\r\n\t\t\t<button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n\t\t\t\ttype=\"button\" id=\"dropdownMenu2\"\r\n\t\t\t\tdata-toggle=\"dropdown\" \r\n\t\t\t\taria-haspopup=\"true\" \r\n\t\t\t\taria-expanded=\"false\">\r\n\t\t\t\tSort\r\n\t\t\t</button>\r\n\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceAscending} >Sort by price ascending</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceDescending} >Sort by price descending</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDateAscending} >Sort by date ascending</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDateDescending} >Sort by date descending</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDurationAppointmentAscending} >Sort by duration appointment ascending</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDurationAppointmentDescending} >Sort by duration appointment descending</button>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\t\r\n\r\n\r\n         <h1 hidden={this.state.appointments.length === 0} className=\"text-center  mt-3  \" >Your history appointments!</h1>\r\n         <h1 hidden={this.state.appointments.length !== 0} className=\"text-center  mt-3 text-danger\"  >You don't have future appointments!</h1>\r\n\r\n\r\n\r\n         <SuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t/>\r\n\t\t<UnsuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t/>\r\n\r\n        \r\n   \r\n        <div className=\"container\">\r\n                    \r\n          <table className=\"table table-hover\" style={{ width: \"100%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"100px\">  \r\n                     <img  src={DermatologistAppointmentPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                    \r\n                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.endDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price:</b>{\" \"}\r\n                                         {appointment.EntityDTO.price }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                  \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Dermatologist: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.employee.EntityDTO.name + \" \" + appointment.EntityDTO.employee.EntityDTO.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                         <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Dermatologist grade: </b> {appointment.EntityDTO.employee.EntityDTO.grade} {\" \"} \r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                      \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleComplaintClick(appointment.EntityDTO.employee)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMake complaint\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\",marginTop: \"1em\"  }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleGetGradeClick(appointment.EntityDTO.employee)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tDermatologist grade\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n                                    \r\n                                    \r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\t\t\t\r\n\t\t\t\t\r\n\r\n          \r\n        </div>\r\n\r\n\t\t<CreateComplaintModal\r\n\t\t\t\t\tbuttonName=\"Send complaint\"\r\n\t\t\t\t\theader=\"Give complaint\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleComaplaint}\r\n\t\t\t\t\tname={this.state.StaffName + \" \" + this.state.StaffSurame}\r\n\t\t\t\t\tforWho=\"consultant\"\r\n\t\t\t\t\thandleClickIcon={this.handleClickIcon}\r\n\t\t\t\t\tcomplaint={this.state.complaint}\r\n\t\t\t\t/>\r\n\t\t\r\n\r\n\t\t<FirstGradeModal \r\n\r\n\t\t\t\tshow={this.state.showGradeModal}\r\n\t\t\t\tshowFirstGrade={this.state.showFirstGrade}\r\n\t\t\t\tshowModifyGrade={this.state.showModifyGrade}\r\n\t\t\t\temployeeGrade={this.state.employeeGrade}\t\t\t\t\t\t\t\r\n\t\t\t\tmaxGrade={this.state.maxGrade}\r\n\t\t\t\temployeeName={this.state.employeeName }\r\n\t\t\t\temployeeSurname={this.state.employeeSurname }\r\n\t\t\t\theader={\"Grade\"}\r\n\t\t\t\tbuttonFirstGradeName={\"Grade\"}\r\n\t\t\t\tbuttonModifyGradeName={\"Update grade\"}\t\t\t\t\t\t\t\t\r\n\t\t\t\tsetFirstGrade={this.setFirstGrade}\t\r\n\t\t\t\tsetModifyGrade={this.setModifyGrade}\r\n\t\t\t\tonCloseModal={this.closeFirstGradeModal}\t\t\t\t\t\t\r\n\r\n\t\t/>\r\n\r\n\r\n\r\n\r\n\r\n        </React.Fragment>\r\n    \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HistoryDermatologistAppointmentsForPatient;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\adminRegistration\\RegisterDrug.js",["501","502","503","504","505","506"],"import GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport Axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport Header from \"../../Components/Header\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nclass RegisterDrug extends Component {\r\n\r\n    state = {\r\n\t\tname: \"\",\r\n\t\tproducerName:\"\",\r\n\t\tinstanceName: \"\",\r\n\t\tdescription: \"\",\r\n\t\tdrugCode: \"\",\r\n\t\tdrugKind: \"\",\r\n\t\tdrugFormat:\"\",\r\n\t\tloyaltyPoints:\"\",\r\n\t\tquantity:\"\",\r\n\t\tdrugChange: \"\",\r\n\t\topenModalData: false,\r\n\t\tdrugKinds: [],\r\n\t\tdrugFormats: [],\r\n\t\tdrugs: [],\r\n\t\tdrugReplacements: [],\r\n\t\tdrugReplacementsEntity: [],\r\n\t\tmanufacturers: [],\r\n\t\tmanufacturer:null,\r\n\t\tingredients: [],\r\n\t\tsideEffects: \"\",\r\n\t\tonReciept: \"\",\r\n\t\trecommendAmount: \"\",\r\n\t\tdrugIngredient: \"\",\r\n\t\tselectedManufacturer: null,\r\n\t\tselectDrugReplacement: null,\r\n\t\tnameError: \"none\",\r\n\t\tconsulationPriceError: \"none\",\r\n\t\topenModal: false,\r\n\t\tcoords: [],\r\n        redirect: false,\r\n        redirectUrl: '',\r\n\t};\r\n\r\n\r\n    componentDidMount() {\r\n\r\n\t\tAxios.get(\"http://localhost:8080/drug/manufacturers\")\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.setState({\r\n                        redirect: true,\r\n                        redirectUrl: \"/unauthorized\"\r\n                    });\r\n                } else {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tmanufacturers: res.data,\r\n\t\t\t\t\tmanufacturer: res.data[0],\r\n\t\t\t\t });\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tAxios.get(\"http://localhost:8080/drug/drugkind\")\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.setState({\r\n                        redirect: true,\r\n                        redirectUrl: \"/unauthorized\"\r\n                    });\r\n                } else {\r\n\r\n\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\tdrugKinds: res.data ,\r\n\t\t\t\t\t\tdrugKind: res.data[0].EntityDTO.type\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n                console.log(\"uso u err kod get drug kind\");\r\n\t\t\t});\r\n\t\t\r\n\t\tAxios.get(\"http://localhost:8080/drug/drugformat\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tdrugFormats: res.data,\r\n\t\t\t\t\tdrugFormat: res.data[0].EntityDTO.type\r\n\t\t\t\t});\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t\t\r\n\t\tAxios.get(\"http://localhost:8080/drug\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ drugs: res.data });\r\n                console.log(res.data);\t\r\n\t\t\t\tthis.state.drugChange = res.data[0].EntityDTO.drugInstanceName;\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n                console.log(\"USAO U GET DRUG ERROR\");\r\n\t\t\t});\r\n\r\n\t\t\r\n\t\t\r\n    }\r\n\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tonManufacturerChange  = (manufacturer) => {\r\n\t\tthis.state.selectedManufacturer = manufacturer;\r\n\t\r\n\t};\r\n\t\r\n\t\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ openModal: false });\r\n\t};\r\n\t\r\n\taddIngredient = (event) => {\r\n\t\t\r\n\t\tif (this.state.drugIngredient === \"\") {\r\n\t\t\treturn;\r\n\t\t}\r\n  \t\tevent.preventDefault();\r\n  \t\tthis.state.ingredients.push(this.state.drugIngredient);\r\n\t\tdocument.getElementById(\"demo\").innerHTML = this.state.ingredients;\r\n  \t\t\r\n\t};\r\n\t\r\n\t\r\n\taddReplacement = (event) => {\r\n\t\tif (this.state.drugChange === \"\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tevent.preventDefault();\r\n\t\tif(this.state.drugReplacements.includes(this.state.drugChange))\r\n\t\t\treturn;\r\n\t\t\t\r\n  \t\tthis.state.drugReplacementsEntity.push(this.state.selectDrugReplacement);\r\n  \t\tthis.state.drugReplacements.push(this.state.drugChange);\r\n\t\tdocument.getElementById(\"replacement\").innerHTML = this.state.drugReplacements;\r\n\t\tconsole.log(this.state.drugReplacements);\r\n\t\tconsole.log(this.state.drugReplacementsEntity, \"ENTITY DRUG\");\r\n  \t\t\r\n\t};\r\n\t\r\n\thandleDrugChange = (event) => {\r\n\t\tthis.setState({ drugChange: event.target.options[event.target.selectedIndex].text,\r\n\t\tselectDrugReplacement:  this.state.drugs[event.target.value]});\r\n\t};\r\n\t\r\n\tonDrugReplacementEntityChange  = (drug) => {\r\n\t\r\n\t};\r\n\t\r\n\thandleManufacturerChange = (event) => {\r\n\t\tthis.setState({ manufacturer: this.state.manufacturers[event.target.value]});\r\n\t};\r\n\t\r\n\tresetReplacement = (event) => {\r\n  \t\tevent.preventDefault();\r\n  \t\tthis.setState({drugReplacements: []});\r\n  \t\tthis.setState({drugReplacementsEntity: []});\r\n\t\tdocument.getElementById(\"replacement\").innerHTML = \"\";\r\n  \t\t\r\n\t};\r\n\t\r\n\tcreateIngredient = (event) => {\r\n\r\n        console.log(\"usao u fju1\");\r\n\r\n\t\t\r\n\t\tfor (const [index, value] of this.state.ingredients.entries()) {\r\n\t\t\tlet ingredientDTO = {\r\n\t\t\t\tname: this.state.ingredients[index],\r\n\t\t\t};\r\n\t\t\t\r\n            console.log(\"usao u fju2\");\r\n\r\n\t\t\tAxios.post(\"http://localhost:8080/ingredients\", ingredientDTO, { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n                    console.log(\"greska create ingridijent\");\r\n\t\t\t\t});\r\n\t\t}\r\n  \t\t\r\n\t};\r\n\t\r\n\t\r\n\tresetIngredient = (event) => {\r\n  \t\tevent.preventDefault();\r\n  \t\tthis.setState({ingredients: []});\r\n\t\tdocument.getElementById(\"demo\").innerHTML = \"\";\r\n  \t\t\r\n\t};\r\n\t\r\n\thandleOnRecieptChange = (event) => {\r\n\t\tthis.setState({ onReciept: event.target.value })\r\n\t};\r\n\r\n\thandleDrugIngredientChange = (event) => {\r\n\t\tthis.setState({ drugIngredient: event.target.value });\r\n\t};\r\n\t\r\n\thandleLoyaltyPointsChange = (event) => {\r\n\t\tthis.setState({ loyaltyPoints: event.target.value });\r\n\t};\r\n\t\r\n\thandleQuantityChange = (event) => {\r\n\t\tthis.setState({ quantity: event.target.value });\r\n\t};\r\n\r\n\thandleRecommendAmountChange = (event) => {\r\n\t\tthis.setState({ recommendAmount: event.target.value });\r\n\t};\r\n\t\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t};\r\n\thandleProducerNameChange = (event) => {\r\n\t\tthis.setState({ producerName: event.target.value });\r\n\t};\r\n\t\r\n\thandleInstanceNameChange = (event) => {\r\n\t\tthis.setState({ instanceName: event.target.value });\r\n\t};\r\n\t\r\n\thandleSideEffectsChange = (event) => {\r\n\t\tthis.setState({ sideEffects: event.target.value });\r\n\t};\r\n\r\n\thandleDrugCodeChange = (event) => {\r\n\t\tthis.setState({ drugCode: event.target.value });\r\n\t};\r\n\t\r\n\thandleDrugKindChange = (event) => {\r\n\t\tthis.setState({ drugKind: event.target.value });\r\n\t};\r\n\t\r\n\thandleDrugFormatChange = (event) => {\r\n\t\tthis.setState({ drugFormat: event.target.value });\r\n\t\tconsole.log(event.target.value);\r\n\t};\r\n\t\r\n\thandleDescriptionChange = (event) => {\r\n\t\tthis.setState({ description: event.target.value });\r\n\t};\r\n\r\n\tvalidateForm = (userDTO) => {\r\n\t\tthis.setState({\r\n\t\t\tnameError: \"none\",\r\n\t\t\taddressError: \"none\",\r\n\t\t\tconsulationPriceError: \"none\",\r\n\t\t});\r\n\r\n\t\tif (userDTO.name === \"\") {\r\n\t\t\tthis.setState({ nameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.consulationPrice === \"\") {\r\n\t\t\tthis.setState({ consulationPriceError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t};\r\n\r\n\thandleModalDataClose = () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModalData: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ openModal: false });\r\n\t};\r\n\t\r\n\thandleSignUp = () => {\r\n\t\tif(this.state.name !== \"\" &&\r\n\t\tthis.state.instanceName !== \"\" &&\r\n\t\tthis.state.drugCode !== \"\"&&\r\n\t\tthis.state.loyaltyPoints !== \"\"&&\r\n\t\tthis.state.quantity !== \"\"&&\r\n\t\tthis.state.sideEffects !== \"\"&&\r\n\t\tthis.state.recommendAmount !== \"\"){\r\n\r\n\t\tlet drugInstanceDTO = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tproducerName : this.state.producerName,\r\n\t\t\tcode: this.state.drugCode,\r\n\t\t\tdrugInstanceName: this.state.instanceName,\r\n\t\t\tdrugFormat: this.state.drugFormat,\r\n\t\t\tquantity: this.state.quantity,\r\n\t\t\tsideEffects: this.state.sideEffects,\r\n\t\t\trecommendedAmount: this.state.recommendAmount,\r\n\t\t\tloyalityPoints: this.state.loyaltyPoints,\r\n\t\t\tonReciept: document.querySelector('.messageCheckbox').checked,\r\n\t\t\tdrugKind: this.state.drugKind,\r\n\t\t};\r\n\t\t\r\n\t\tconsole.log(drugInstanceDTO);\r\n\t\t\r\n\t\tAxios.put(\"http://localhost:8080/drug/add\", drugInstanceDTO, { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t.then((res) => {\r\n\t\t\t\r\n\t\t\t\tfor (const [index, value] of this.state.ingredients.entries()) {\r\n\t\t\t\t\tlet ingredientDTO = {\r\n\t\t\t\t\t\tname: this.state.ingredients[index],\r\n\t\t\t\t\t\tid: res.data,\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tAxios.put(\"http://localhost:8080/drug/ingredient\", ingredientDTO, { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(\"Success add ingredient\");\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet drugManufacturerDTO = {\r\n\t\t\t\t\tdrug_id: res.data,\r\n\t\t\t\t\tmanufacturer_id: this.state.manufacturer.Id,\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(drugManufacturerDTO)\r\n\t\t\t\tAxios.put(\"http://localhost:8080/drug/manufacturer\", drugManufacturerDTO,  { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(\"Success\");\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\tthis.setState({ openModal: true });\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfor (const [index, value] of this.state.drugReplacementsEntity.entries()) {\r\n\t\t\t\t\tconsole.log(\"ubicu se,\", this.state.drugReplacementsEntity[index].EntityDTO.drugInstanceName)\r\n\t\t\t\t\tlet ReplaceDrugIdDTO = {\r\n\t\t\t\t\t\tid: res.data,\r\n\t\t\t\t\t\treplacement_id: this.state.drugReplacementsEntity[index].Id,\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tAxios.put(\"http://localhost:8080/drug/replacement\", ReplaceDrugIdDTO, { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(\"Success\");\t\r\n\t\t\t\t\t\t\tconsole.log(\"odradio replacement\");\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n                this.setState({ redirect: true });\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tthis.setState({\r\n\t\t\t\topenModalData: true,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t};\r\n\t\r\n\thandleSelectChange  = (event) => {\r\n\t\tthis.setState({ selectValue: event.target.value });\r\n\t};\r\n\r\n    render() {\r\n        if (this.state.redirect) return <Redirect push to=\"/\" />;\r\n        return (\r\n            <React.Fragment>\r\n\r\n<Header />\r\n\r\n<div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n    <h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n        Register drug\r\n    </h5>\r\n\r\n    <div className=\"row section-design\">\r\n        <div className=\"col-lg-8 mx-auto\">\r\n            <br />\r\n            <form id=\"contactForm\" name=\"sentMessage\" novalidate=\"novalidate\">\r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Name:</label>\r\n                        <input\r\n                            placeholder=\"Name\"\r\n                            class=\"form-control\"\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            onChange={this.handleNameChange}\r\n                            value={this.state.name}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Name must be entered.\r\n                    </div>\r\n                </div>\r\n\t\t\t\t<div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Producer name:</label>\r\n                        <input\r\n                            placeholder=\"Producer name\"\r\n                            class=\"form-control\"\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            onChange={this.handleProducerNameChange}\r\n                            value={this.state.producerName}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Producer name must be entered.\r\n                    </div>\r\n                </div>\r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Instance name:</label>\r\n                        <input\r\n                            placeholder=\"Instance name\"\r\n                            class=\"form-control\"\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            onChange={this.handleInstanceNameChange}\r\n                            value={this.state.instanceName}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Instance name must be entered.\r\n                    </div>\r\n                </div>\r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Quantity:</label>\r\n                        <input\r\n                            placeholder=\"Quantity\"\r\n                            class=\"form-control\"\r\n                            type=\"number\"\r\n                            id=\"name\"\r\n                            onChange={this.handleQuantityChange}\r\n                            value={this.state.quantity}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Quantity must be entered.\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Drug code:</label>\r\n                        <input\r\n                            placeholder=\"Drug code\"\r\n                            class=\"form-control\"\r\n                            id=\"consulationPrice\"\r\n                            type=\"text\"\r\n                            onChange={this.handleDrugCodeChange}\r\n                            value={this.state.drugCode}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.consulationPriceError }}>\r\n                        Code must be entered.\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"control-group\">\t\r\n                \r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Drug kind:</label>\r\n                        <select\r\n                           onChange={this.handleDrugKindChange}\r\n                            value={this.state.drugKind}\r\n                         >{this.state.drugKinds.map((kind) => (\r\n                          <option value={kind.EntityDTO.type}>{kind.EntityDTO.type}</option>\r\n                        ))}\t\r\n                        </select>\r\n                        <label>On reciept </label>\r\n                        <input\r\n                        \r\n                            class=\"messageCheckbox\"\r\n                            type=\"checkbox\"\r\n                            id=\"name\"\r\n                            onChange={this.handleOnRecieptChange}\r\n                            value={this.state.onReciept}\r\n                        />\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Side effects:</label>\r\n                        <input\r\n                            placeholder=\"Side effects\"\r\n                            class=\"form-control\"\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            onChange={this.handleSideEffectsChange}\r\n                            value={this.state.sideEffects}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Side effects must be entered.\r\n                    </div>\r\n                </div>\r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Recommend amount:</label>\r\n                        <input\r\n                            placeholder=\"Recommend amount\"\r\n                            class=\"form-control\"\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            onChange={this.handleRecommendAmountChange}\r\n                            value={this.state.recommendAmount}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Recommend amount must be entered.\r\n                    </div>\r\n                </div>\r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Drug ingredient:</label>\r\n                        <input\r\n                            placeholder=\"Drug ingredient\"\r\n                            class=\"form-control\"\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            onChange={this.handleDrugIngredientChange}\r\n                            value={this.state.drugIngredient}\r\n                        />\r\n                        <button\r\n                            onClick={this.addIngredient}\r\n                        >\r\n                            Add\r\n                        </button>\r\n                        <button\r\n                            onClick={this.resetIngredient}\r\n                        >\r\n                            Reset ingredients\r\n                        </button>\r\n                        <button\r\n                        type=\"button\"\r\n                            onClick={this.createIngredient}\r\n                        >\r\n                            Create\r\n                        </button>\r\n                        <p id=\"demo\"></p>\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Drug ingredient must be entered.\r\n                    </div>\r\n                </div>\r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Replacement drugs:</label>\r\n                        <select\r\n                            \r\n                            onChange={this.handleDrugChange}\r\n                         >{this.state.drugs.map((drug,index) => (\r\n                          <option onClick={this.onDrugReplacementEntityChange(drug)} value={index}>{drug.EntityDTO.drugInstanceName}</option>\r\n                        ))}\t\r\n                        </select>\r\n                        <button\r\n                            onClick={this.addReplacement}\r\n                        >\r\n                            Add replacement\r\n                        </button>\r\n                        <button\r\n                            onClick={this.resetReplacement}\r\n                        >\r\n                            Reset replacement\r\n                        </button>\r\n                        <p id=\"replacement\"></p>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"control-group\">\t\r\n                \r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Drug Format:</label>\r\n                        <select\r\n                           onChange={this.handleDrugFormatChange}\r\n                            value={this.state.drugFormat}\r\n                         >{this.state.drugFormats.map((format) => (\r\n                          <option value={format.EntityDTO.type}>{format.EntityDTO.type}</option>\r\n                        ))}\t\r\n                        </select>\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n                <div className=\"control-group\">\t\r\n                \r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Drug manufacturer:</label>\r\n                        <select\r\n                           onChange={this.handleManufacturerChange}\r\n                          >{this.state.manufacturers.map((manufacturer, index) => (\r\n                          <option value={index}>{manufacturer.EntityDTO.name}</option>\r\n                        ))}\t\r\n                        </select>\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n                <div className=\"control-group\">\r\n                    <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                        <label>Loyalty points:</label>\r\n                        <input\r\n                            placeholder=\"Loyalty points\"\r\n                            class=\"form-control\"\r\n                            type=\"number\"\r\n                            id=\"name\"\r\n                            onChange={this.handleLoyaltyPointsChange}\r\n                            value={this.state.loyaltyPoints}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                        Loyalty points must be entered.\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button\r\n                        style={{\r\n                            background: \"#1977cc\",\r\n                            marginTop: \"15px\",\r\n                            marginLeft: \"40%\",\r\n                            width: \"20%\",\r\n                        }}\r\n                        onClick={this.handleSignUp}\r\n                        className=\"btn btn-primary btn-xl\"\r\n                        id=\"sendMessageButton\"\r\n                        type=\"button\"\r\n                    >\r\n                        Sign Up\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n            </React.Fragment>\r\n\r\n\r\n        );\r\n\r\n\r\n\t}\r\n}\r\n\r\nexport default withRouter(RegisterDrug);","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\FutureDermatologistAppointmentsForPatient.js",["507","508","509","510"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport DermatologistAppointmentPicture from \"../Images/appointment.png\" ;\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass FutureDermatologistAppointmentsForPatient extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        \r\n        pharmacyId: \"\",\r\n        appointments : [],\r\n        hiddenSuccessfulAlert: true,\r\n        successfulHeader: \"\",\r\n        successfulMessage: \"\",\r\n        hiddenUnsuccessfulAlert: true,\r\n        UnsuccessfulHeader: \"\",\r\n        UnsuccessfulMessage: \"\",\r\n\r\n\r\n\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/appointment/dermatologist/findAllFuturePatientsAppointmets\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  handleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\r\n\r\n    handleCancelAppointment = (appointmentId) => {\r\n  \r\n    let appointmentIdObject = { id: appointmentId};\r\n\r\n    Axios.post(API_URL + \"/appointment/dermatologist/cancelAppointment\",appointmentIdObject , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n      .then((res) => {\r\n        if (res.status === 400) {\r\n          this.setState({ hiddenUnsuccessfulAlert: false,\r\n            UnsuccessfulHeader: \"Bad request\", \r\n            UnsuccessfulMessage: res.data });\r\n\r\n        } else if (res.status === 500) {\r\n\r\n          this.setState({ hiddenUnsuccessfulAlert: false, \r\n            UnsuccessfulHeader: \"Internal server error\", \r\n            UnsuccessfulMessage: \"Server error.\" });\r\n\r\n        } \r\n        else if (res.status === 404) {\r\n\r\n            this.setState({ hiddenUnsuccessfulAlert: false, \r\n              UnsuccessfulHeader: \"Internal server error\", \r\n              UnsuccessfulMessage: res.data });\r\n  \r\n        } else if (res.status === 200) {\r\n          console.log(\"Success\");\r\n          this.setState({\r\n            hiddenSuccessfulAlert: false,\r\n            successfulHeader: \"Success\",\r\n            successfulMessage: \"You have successfully canceled the desired appointment! \",\r\n            hiddenEditInfo: true,\r\n          });\r\n\r\n          this.refreshAppointments(appointmentId);\r\n\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        this.setState({ hiddenUnsuccessfulAlert: false,\r\n          UnsuccessfulHeader: \"Error\", \r\n          UnsuccessfulMessage: \"Something was wrong\" });\r\n      \r\n      });\r\n\r\n\r\n\r\n  }\r\n\r\n  refreshAppointments (appointmentId) {\r\n\r\n    let newAppointmentsList= [];\r\n    for (let appointment of this.state.appointments) {\r\n      if (appointment.Id !== appointmentId) \r\n          newAppointmentsList.push(appointment)\r\n    }\r\n\r\n    this.setState({\r\n     appointments : newAppointmentsList,\r\n    });\r\n\r\n  }\r\n\r\n\r\n  \r\n  \r\n\r\n    isAvailableToCanceled =(date) => {\r\n\r\n        var appointmentDate= new Date(date);\r\n        appointmentDate.setDate(appointmentDate.getDate() -1);\r\n\r\n        if(appointmentDate <= new Date()){\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n \r\n    moveToExaminationHistory =() => {\r\n\r\n       this.props.history.push(\"/historyDermatologistAppointmentsForPatient\");\r\n    }\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n         <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToExaminationHistory()}\r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n          >\r\n         Examination history\r\n         </button>\r\n\r\n         <h1 hidden={this.state.appointments.length === 0} className=\"text-center  mt-3  \" >Your future appointments!</h1>\r\n         <h1 hidden={this.state.appointments.length !== 0} className=\"text-center  mt-3 text-danger\"  >You don't have future appointments!</h1>\r\n\r\n\r\n\r\n         <SuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t/>\r\n\t\t<UnsuccessfulAlert\r\n\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t/>\r\n\r\n        \r\n    \r\n        <div className=\"container\">\r\n                    \r\n          <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"100px\">  \r\n                     <img  src={DermatologistAppointmentPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                    \r\n                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.endDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price:</b>{\" \"}\r\n                                         {appointment.EntityDTO.price }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                  \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Dermatologist: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.employee.EntityDTO.name + \" \" + appointment.EntityDTO.employee.EntityDTO.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                         <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Dermatologist grade: </b> {appointment.EntityDTO.employee.EntityDTO.grade} {\" \"} \r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                      \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                    <td>\r\n                                    <button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            className=\"btn btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\thidden={this.isAvailableToCanceled(new Date(appointment.EntityDTO.startDateTime))}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleCancelAppointment(appointment.Id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\r\n\r\n          \r\n        </div>\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FutureDermatologistAppointmentsForPatient;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\adminRegistration\\registerStaff.js",["511","512","513","514","515","516","517","518","519","520"],"import Header from \"../../Components/Header\";\r\nimport React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\n\r\n\r\nclass registerStaff extends Component {\r\n\r\n    state = {\r\n\t\terrorHeader: \"\",\r\n\t\terrorMessage: \"\",\r\n\t\thiddenErrorAlert: true,\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tname: \"\",\r\n\t\tuserRegister: \"\",\r\n\t\tsurname: \"\",\r\n\t\taddress: \"\",\r\n\t\topenModalData: false,\r\n\t\tphoneNumber: \"\",\r\n\t\temailError: \"none\",\r\n\t\tpasswordError: \"none\",\r\n\t\tnameError: \"none\",\r\n\t\tsurnameError: \"none\",\r\n\t\taddressError: \"none\",\r\n\t\tphoneError: \"none\",\r\n\t\temployeeError: \"none\",\r\n\t\temailNotValid: \"none\",\r\n\t\topenModal: false,\r\n\t\tpharmacies:[],\r\n\t\tselectedPharmacy:null,\r\n\t\tpharmacy:\"\",\r\n\t\tcoords: [],\r\n\t\tselectValue:\"\",\r\n        redirect: false,\r\n        redirectUrl: '',\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.addressInput = React.createRef();\r\n\t}\r\n\r\n\t\r\n\thandleModalDataClose = () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModalData: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleModalEmailClose = () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModalEmail: false,\r\n\t\t});\r\n\t};\r\n\t\r\n\tcomponentDidMount() {\r\n\r\n\t\tAxios.get(\"http://localhost:8080/pharmacy/allPharmacies\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\thandleEmailChange = (event) => {\r\n\t\tthis.setState({ email: event.target.value });\r\n\t};\r\n\thandlePharmacyChange = (event) => {\r\n\t\tthis.setState({ pharmacy: event.target.value });\r\n\t};\r\n\t\r\n\thandlePasswordChange = (event) => {\r\n\t\tthis.setState({ password: event.target.value });\r\n\t};\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t};\r\n\r\n\thandleSurnameChange = (event) => {\r\n\t\tthis.setState({ surname: event.target.value });\r\n\t};\r\n\r\n\thandleAddressChange = (event) => {\r\n\t\tthis.setState({ address: event.target.value });\r\n\t};\r\n\r\n\thandlePhoneNumberChange = (event) => {\r\n\t\tthis.setState({ phoneNumber: event.target.value });\r\n\t};\r\n    handleSelectedValueSysAdminChange = (event) => {\r\n       \r\n\t\tthis.setState({ selectValue: \"sysadmin\",employeeError:\"none\" });\r\n        console.log(this.state.selectValue);\r\n\t};\r\n    handleSelectedValueSupplierChange = (event) => {\r\n      \r\n\t\tthis.setState({ selectValue: \"supplier\",employeeError:\"none\" });\r\n        console.log(this.state.selectValue);\r\n\t};\r\n    handleSelectedValueDermathologistChange = (event) => {\r\n       \r\n\t\tthis.setState({ selectValue: \"dermathologist\",employeeError:\"none\" });\r\n        console.log(this.state.selectValue);\r\n\t};\r\n    handleSelectedValuePharmacyAdminChange = (event) => {\r\n      \r\n\t\tthis.setState({ selectValue: \"pharmacyadmin\",employeeError:\"none\" });\r\n        console.log(this.state.selectValue);\r\n\t};\r\n    \r\n\r\n\tvalidateForm = (userDTO) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\temailError: \"none\",\r\n\t\t\temailNotValid: \"none\",\r\n\t\t\tnameError: \"none\",\r\n\t\t\tsurnameError: \"none\",\r\n\t\t\taddressError: \"none\",\r\n\t\t\tphoneError: \"none\",\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\tif (userDTO.email === \"\") {\r\n\t\t\tthis.setState({ emailError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (!userDTO.email.includes(\"@\")) {\r\n\t\t\tthis.setState({ emailNotValid: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.name === \"\") {\r\n\t\t\tthis.setState({ nameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.surname === \"\") {\r\n\t\t\tthis.setState({ surnameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.address === \"\") {\r\n\t\t\tthis.setState({ addressError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.phoneNumber === \"\") {\r\n\t\t\tthis.setState({ phoneError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t};\r\n\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ openModal: false });\r\n\t};\r\n\t\r\n\tonPharmacyChange  = (pharmacy) => {\r\n\t\tthis.state.selectedPharmacy = pharmacy;\r\n\t\tconsole.log(pharmacy, \"PHARMACy\");\r\n\t\r\n\t};\r\n\r\n\tvalidateEmployee = (employee) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\temployeeError: \"none\"\r\n\t\t});\r\n\r\n\t\tif (employee === \"\") {\r\n\t\t\tthis.setState({ employeeError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\thandleSignUp = () => {\r\n\r\n\t\r\n\t\t\t\tlet userDTO = {\r\n\t\t\t\t\temail: this.state.email,\r\n\t\t\t\t\tname: this.state.name,\r\n\t\t\t\t\tsurname: this.state.surname,\r\n\t\t\t\t\taddress: this.state.address,\r\n\t\t\t\t\tphoneNumber: this.state.phoneNumber,\r\n\t\t\t\t\tpassword: this.state.password,\r\n\t\t\t\t};\r\n\t\t\t\tif (this.validateForm(userDTO) && this.validateEmployee(this.state.selectValue)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.state.selectValue == \"dermathologist\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tAxios.post(\"http://localhost:8080/reg/signup-dermathologist\", userDTO,{ headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tif (res.status === 409) {\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\terrorHeader: \"Resource conflict!\",\r\n\t\t\t\t\t\t\t\t\t\terrorMessage: \"Email already exist.\",\r\n\t\t\t\t\t\t\t\t\t\thiddenErrorAlert: false,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else if (res.status === 500) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"USO\")\r\n\t\t\t\t\t\t\t\t\tthis.setState({ openModalData: true });\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\t\t\t\topenModal: true,\r\n\t\t\t\t\t\t\t\t\t\tuserRegister: \"You have successfully registered staff with password \" + res.data,\r\n                                        redirect: true\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.state.selectValue == \"pharmacyadmin\"){\r\n\t\t\t\t\t\tconsole.log(this.state.selectedPharmacy.Id);\r\n\t\t\t\t\t\tAxios.post(\"http://localhost:8080/reg/signup-pharmacyadmin/\" + this.state.selectedPharmacy.Id, userDTO, { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t openModal: true,\r\n\t\t\t\t\t\t\t\t\t userRegister: \"You have successfully registered staff with password \" + res.data,\r\n                                     redirect: true\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.state.selectValue == \"sysadmin\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tAxios.post(\"http://localhost:8080/reg/signup-sysadmin\", userDTO, { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\t\t\topenModal: true,\r\n\t\t\t\t\t\t\t\t\tuserRegister: \"You have successfully registered staff with password \" + res.data,\r\n                                    redirect: true\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.state.selectValue == \"supplier\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tAxios.post(\"http://localhost:8080/reg/signup-supplier\", userDTO, { headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\topenModal: true,\r\n\t\t\t\t\t\t\t\t\tuserRegister: \"You have successfully registered staff with password \" + res.data,\r\n                                    redirect: true\r\n\t\t\t\t\t\t\t\t });\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\r\n\t};\r\n\thandleCloseAlert = () => {\r\n\t\tthis.setState({ hiddenErrorAlert: true });\r\n\t};\r\n\thandleSelectChange  = (event) => {\r\n\t\tthis.setState({ selectValue: event.target.value });\r\n\t};\r\n\r\n\r\nrender() {\r\n        if (this.state.redirect) return <Redirect push to=\"/\" />;\r\n        return(\r\n            <React.Fragment>\r\n            <Header/>\r\n            \r\n\r\n            <div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\r\n                       \r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tRegister staff\r\n\t\t\t\t\t</h5>\r\n\r\n                    \r\n\r\n\t\t\t\t\t<div className=\"row section-design\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8 mx-auto\">\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<form id=\"contactForm\" name=\"sentMessage\" novalidate=\"novalidate\">\r\n\r\n                                    <div class=\"dropdown \" hidden={this.state.selectValue !== \"\"}>\r\n                                <button class=\"btn btn-secondary dropdown-toggle \" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\r\n                                    Choose employee\r\n                                </button>\r\n                                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                    <a class=\"dropdown-item\" onClick={this.handleSelectedValueSysAdminChange} >System admin</a>\r\n                                    <a class=\"dropdown-item\" onClick={this.handleSelectedValueSupplierChange} >Supplier</a>\r\n                                    <a class=\"dropdown-item\" onClick={this.handleSelectedValueDermathologistChange} >Dermathologist</a>\r\n                                    <a class=\"dropdown-item\" onClick={this.handleSelectedValuePharmacyAdminChange} >Pharmacy Admin</a>\r\n                                </div>\r\n                                </div>\r\n\r\n                                     <div className=\"text\" hidden={this.state.selectValue == \"\"}>\r\n\t\t\t\t\t\t\t\t\t\tSelected: <b>{this.state.selectValue}</b>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                    <br />\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.employeeError }}>\r\n\t\t\t\t\t\t\t\t\t\tYou must choose employee.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\" hidden={this.state.selectValue !== \"pharmacyadmin\"} >\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Pharmacy:</label><br></br>\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t       onChange={this.handlePharmacyChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.pharmacy}\r\n\t\t\t\t\t\t\t\t\t     >{this.state.pharmacies.map((pharmacy) => (\r\n\t\t\t\t\t\t\t\t\t\t  <option onClick={this.onPharmacyChange(pharmacy)}  id={pharmacy.Id} key={pharmacy.Id} value={pharmacy.EntityDTO.name}>{pharmacy.EntityDTO.name},{pharmacy.EntityDTO.address.street}, {pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{pharmacy.EntityDTO.address.country}</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\t\r\n\t\t\t\t\t\t\t\t\t\t</select>\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Email address:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleEmailChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.emailError }}>\r\n\t\t\t\t\t\t\t\t\t\tEmail address must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.emailNotValid }}>\r\n\t\t\t\t\t\t\t\t\t\tEmail address is not valid.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Name:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n\t\t\t\t\t\t\t\t\t\tName must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Surname:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Surname\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"surname\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleSurnameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.surname}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.surnameError }}>\r\n\t\t\t\t\t\t\t\t\t\tSurname must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n                                <div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Address:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Address\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"address\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleAddressChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.address}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.addressError }}>\r\n\t\t\t\t\t\t\t\t\t\tAddress must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Phone number:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Phone number\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"phone\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handlePhoneNumberChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.phoneError }}>\r\n\t\t\t\t\t\t\t\t\t\tPhone number must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: \"#1977cc\",\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: \"15px\",\r\n\t\t\t\t\t\t\t\t\t\t\tmarginLeft: \"40%\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: \"20%\",\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleSignUp}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n        );\r\n    }\r\n}\r\nexport default registerStaff;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\LoyalityProgram\\LoyalityProgram.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\adminRegistration\\RegisterPharmacies.js",["521"],"import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport { getRoles } from \"@testing-library/dom\";\r\n\r\n\r\n\r\nclass RegisterPharmacies extends Component {\r\n\tstate = {\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\taddress: \"\",\r\n\t\tcity: \"\",\r\n\t\tstreet: \"\",\r\n\t\tcountry: \"\",\r\n\t\tpostcode: \"\",\r\n\t\tconsulationPrice: \"\",\r\n\t\topenModalData: false,\r\n\t\tnameError: \"none\",\r\n\t\tCityError: \"none\",\r\n\t\tStreetError: \"none\",\r\n\t\tCountryError: \"none\",\r\n\t\tPostcodeError: \"none\",\r\n\t\tconsulationPriceError: \"none\",\r\n\t\tdescriptionError: \"none\",\r\n\t\topenModal: false,\r\n\t\tcoords: [],\r\n        redirect: false,\r\n        redirectUrl: '',\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.addressInput = React.createRef();\r\n\t}\r\n\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t}\r\n\r\n\thandleModalDataClose = () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModalData: false,\r\n\t\t});\r\n\t};\r\n\r\n\t\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t};\r\n\thandleCityChange = (event) => {\r\n\t\tthis.setState({ city: event.target.value });\r\n\t};\r\n\thandleStreetChange = (event) => {\r\n\t\tthis.setState({ street: event.target.value });\r\n\t};\r\n\thandleCountryChange = (event) => {\r\n\t\tthis.setState({ country: event.target.value });\r\n\t};\r\n\thandlePostcodeChange = (event) => {\r\n\t\tthis.setState({ postcode: event.target.value });\r\n\t};\r\n\r\n\thandleAddressChange = (event) => {\r\n\t\tthis.setState({ address: event.target.value });\r\n\t};\r\n\r\n\thandleConsulationPriceChange = (event) => {\r\n\t\tthis.setState({ consulationPrice: event.target.value });\r\n\t};\r\n\t\r\n\thandleDescriptionChange = (event) => {\r\n\t\tthis.setState({ description: event.target.value });\r\n\t};\r\n\r\n\tvalidateForm = (userDTO) => {\r\n\t\tthis.setState({\r\n\t\t\tnameError: \"none\",\r\n\t\t\tCityError: \"none\",\r\n\t\t\tStreetError: \"none\",\r\n\t\t\tCountryError: \"none\",\r\n\t\t\tPostcodeError: \"none\",\r\n\t\t\tconsulationPriceError: \"none\",\r\n\t\t});\r\n\r\n\t\tif (userDTO.name === \"\") {\r\n\t\t\tthis.setState({ nameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.address.city === \"\") {\r\n\t\t\tthis.setState({ CityError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.address.street === \"\") {\r\n\t\t\tthis.setState({ StreetError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.address.country === \"\") {\r\n\t\t\tthis.setState({ CountryError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.address.postcode === \"\") {\r\n\t\t\tthis.setState({ PostcodeError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.consulationPrice === \"\") {\r\n\t\t\tthis.setState({ consulationPriceError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t};\r\n\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ openModal: false });\r\n\t};\r\n\r\n\thandleSignUp = () => {\r\n\r\n\t\t\r\n\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar address = {city:this.state.city, street:this.state.street, country: this.state.country, postCode:this.state.postcode};\r\n\r\n\r\n\r\n\t\t\tlet pharmacyDTO = {\r\n\t\t\t\tname: this.state.name,\r\n\t\t\t\taddress: address,\r\n\t\t\t\tdescription: this.state.description,\r\n\t\t\t};\r\n\r\n\r\n\t\t\t\tconsole.log(pharmacyDTO);\r\n\t\t\t\tif (this.validateForm(pharmacyDTO)) {\r\n\r\n\t\t\t\t\tconsole.log(\"usao u zahtev\");\r\n\t\t\t\t\tconsole.log(GetAuthorisation());\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"keyRole\"));\r\n\t\t\t\t\r\n\t\t\t\t\tAxios.post(\"http://localhost:8080/pharmacy\", pharmacyDTO, {  headers: { Authorization: GetAuthorisation()}})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\tthis.setState({ openModal: true,redirect : true, redirectUrl : '/' });\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t};\r\n\t\r\n\thandleSelectChange  = (event) => {\r\n\t\tthis.setState({ selectValue: event.target.value });\r\n\t};\r\n\r\n\r\n    render() {\r\n\t\tif (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\t\t\t\t\t<h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tRegistrater pharmacy\r\n\t\t\t\t\t</h5>\r\n\r\n\t\t\t\t\t<div className=\"row section-design\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8 mx-auto\">\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<form id=\"contactForm\" name=\"sentMessage\" novalidate=\"novalidate\">\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Name:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n\t\t\t\t\t\t\t\t\t\tName must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>City:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"City\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleCityChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.city}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.CityError }}>\r\n\t\t\t\t\t\t\t\t\t\tCity must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Street:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Street\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleStreetChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.street}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.StreetError }}>\r\n\t\t\t\t\t\t\t\t\t\tStreet must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Country:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Country\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleCountryChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.country}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.CountryError }}>\r\n\t\t\t\t\t\t\t\t\t\tCountry must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Postcode:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Postcode\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handlePostcodeChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.postcode}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.PostcodeError }}>\r\n\t\t\t\t\t\t\t\t\t\tPostcode must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Description:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDescriptionChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.description}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.descriptionError }}>\r\n\t\t\t\t\t\t\t\t\t  Description must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: \"#1977cc\",\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: \"15px\",\r\n\t\t\t\t\t\t\t\t\t\t\tmarginLeft: \"40%\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: \"20%\",\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleSignUp}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(RegisterPharmacies);\r\n\r\n\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OfferPage.js",["522","523","524"],"import { withRouter } from \"react-router\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport orderImage from \"../../Images/orderImage.png\";\r\nimport OfferModal from \"../../Components/SupplierPages/OfferModal\";\r\nimport EditOfferModal from \"../../Components/SupplierPages/EditOfferModal\";\r\n\r\n\r\n\r\n\r\nclass Offers extends Component {\r\n\tstate = {\r\n\t\tprice: \"\",\r\n        selectedDate:new Date(),\r\n\t\thours: new Date().getHours(),\r\n        minutes: new Date().getMinutes(),\r\n\t\topenModal: false,\r\n\t\topenModalData: false,\r\n\t\tshowOfferModal: false,\r\n\t\topenModalDate: false,\r\n\t\toffers: [],\r\n\t\tofferId: \"\",\r\n        redirect: false,\r\n        redirectUrl: '',\r\n\t};\r\n\r\n\r\n    componentDidMount() {\r\n        Axios.get(\"http://localhost:8080/offer\", { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({\r\n                        offers: res.data,\r\n                    });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n\r\n        \r\n    }\r\n\r\n\thandleDateChange = (date) => {\r\n\t\tthis.setState({ selectedDate: date});\r\n\t};\r\n\r\n\r\n\thandleMinutesChange = (event) => {\r\n\t\tif (event.target.value > 59) this.setState({ minutes: 59 });\r\n\t\telse if (event.target.value < 0) this.setState({ minutes: 0 });\r\n\t\telse this.setState({ minutes: event.target.value });\r\n\t};\r\n\r\n\thandleHoursChange = (event) => {\r\n\t\tif (event.target.value > 23) this.setState({ hours: 23 });\r\n\t\telse if (event.target.value < 0) this.setState({ hours: 0 });\r\n\t\telse this.setState({ hours: event.target.value });\r\n    };\r\n    \r\n\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModal: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleModalDataClose = () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModalData: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleModalDate = () => {\r\n\t\tthis.setState({ \r\n\t\t\topenModalDate: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandlePriceChange = (event) => {\r\n\t\tthis.setState({ price: event.target.value });\r\n\t};\r\n\r\n\thandleOfferModalClose = () => {\r\n\t\tthis.setState({ showOfferModal: false });\r\n\t};\r\n\r\n\r\n    handleSortByAccepted = () => {\r\n        console.log(\"usao u accept\");\r\n\r\n\t\tAxios.get(\"http://localhost:8080/offer/accepted\", { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\toffers: res.data,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t};\r\n\r\n\thandleSortByRejected = () => {\r\n\t\t\r\n\t\tAxios.get(\"http://localhost:8080/offer/rejected\", { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\toffers: res.data,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t};\r\n\r\n\thandleSortByWaiting = () => {\r\n\t\t\r\n\t\tAxios.get(\"http://localhost:8080/offer/waiting\", { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\toffers: res.data,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t};\r\n\r\n\thandleReset = () => {\r\n\t\t\r\n        Axios.get(\"http://localhost:8080/offer\", { headers: { Authorization: GetAuthorisation() } })\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            this.setState({\r\n                offers: res.data,\r\n            });\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n\t};\r\n\r\n\thandleOfferClick = (offer) => {\r\n\t\tconsole.log(offer)\r\n\t\tthis.setState({ \r\n\t\t\tprice: offer.EntityDTO.price,\r\n\t\t\tofferId: offer.Id,\r\n\t\t\tdate: offer.EntityDTO.dateToDelivery,\r\n\t\t\tselectedDate: new Date(offer.EntityDTO.dateToDelivery),\r\n\t\t\tshowOfferModal: true \r\n\t\t});\r\n\t\r\n\t};\r\n\r\n\thandleOffer = () => {\r\n\t\t\r\n\t\tif(this.state.price !==\"\"){\r\n\t\t\t\r\n\t\tAxios.get(\"http://localhost:8080/offer/checkUpdate/\" + this.state.offerId, { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(res.data){\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet offerDate = new Date(this.state.selectedDate.getFullYear(),this.state.selectedDate.getMonth(),this.state.selectedDate.getDate(),this.state.hours,this.state.minutes,0,0);\r\n\t\t\r\n\t\t\t\t\t\t\tlet OfferDTO = {\r\n\t\t\t\t\t\t\t\tprice: this.state.price,\r\n\t\t\t\t\t\t\t\tdateToDelivery: offerDate,\r\n\t\t\t\t\t\t\t\tid: this.state.offerId,\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tAxios.put(\"http://localhost:8080/offer/update\", OfferDTO ,{ headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\t\t\t\tshowOfferModal: false \r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tAxios.get(\"http://localhost:8080/offer\", { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\toffers: res.data,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"GRESKA11\");\r\n\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(\"GRESKA2\");\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t}else{\r\n\t\t\tthis.setState({\r\n\t\t\t\topenModalData: true,\r\n\t\t\t})\r\n\r\n\t\t}\r\n\r\n\t};\r\n   \r\n\r\n\r\n    render() {\r\n\t\tif (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\t\t\t\t\t<h5 className=\" text-center mb-0 mt-2 text-uppercase\">Offers </h5>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\">\r\n\t\t\t\t\t\t\t<div className=\"form-row mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"dropdownMenu2\"\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleReset}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tALL\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByAccepted}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tACCEPTED\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByRejected}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tREJECTED\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByWaiting}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tWAITING\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<table className=\"table table-hover\" style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.offers.map((offer) => (\r\n\t\t\t\t\t\t\t\t\t<tr className=\"rounded\">\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"190em\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={orderImage} width=\"150em\" />\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Due to date : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(offer.EntityDTO.dateToDelivery).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Status : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{offer.EntityDTO.offerStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Price : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{offer.EntityDTO.price}{\" \"}din\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\thidden={offer.EntityDTO.offerStatus !== \"WAITING\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleOfferClick(offer)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tEdit offer\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<EditOfferModal\r\n\t\t\t\t\tbuttonName=\"Edit offer\"\r\n\t\t\t\t\theader=\"Edit an offer\"\r\n\t\t\t\t\thandlePriceChange={this.handlePriceChange}\r\n\t\t\t\t\tshow={this.state.showOfferModal}\r\n\t\t\t\t\tprice={this.state.price}\r\n\t\t\t\t\tdate={this.state.date}\r\n\t\t\t\t\tonCloseModal={this.handleOfferModalClose}\r\n\t\t\t\t\tgiveOffer={this.handleOffer}\r\n\t\t\t\t\tdate={this.state.date}\r\n\t\t\t\t\thandleDateChange={this.handleDateChange}\r\n\t\t\t\t\tselectedDate={this.state.selectedDate}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\r\n\r\n}export default withRouter(Offers);","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OrdersPage.js",["525"],"\r\n\r\nimport { withRouter } from \"react-router\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport orderImage from \"../../Images/orderImage.png\";\r\nimport OfferModal from \"../../Components/SupplierPages/OfferModal\";\r\n\r\n\r\n\r\nclass OrdersPage extends Component {\r\n\tstate = {\r\n\t\tprice: \"\",\r\n\t\tselectedDate: new Date(),\r\n\t\thours: new Date().getHours(),\r\n        minutes: new Date().getMinutes(),\r\n\t\treplacingDrugs:[],\r\n\t\tpharmacyName:\"\",\r\n\t\tshowOfferModal: false,\r\n\t\torderId: \"\",\r\n\t\tshowOrderModal: false,\r\n\t\topenModalSuccess: false,\r\n\t\topenModal: false,\r\n\t\topenModalDrugs: false,\r\n\t\torders:[],\r\n\t\taddress:\"\",\r\n        redirect: false,\r\n        redirectUrl: '',\r\n\t};\r\n\r\n    componentDidMount() {\r\n        Axios.get(\"http://localhost:8080/order/getAllOrders\", { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({\r\n                        orders: res.data\r\n                    });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"GRESKA\");\r\n                    console.log(err);\r\n                });\r\n        \r\n}\r\n\r\nhandlePriceChange = (event) => {\r\n\tthis.setState({ price: event.target.value });\r\n};\r\n\r\nhandleDateChange = (date) => {\r\n\tthis.setState({ selectedDate: date });\r\n};\r\n\r\nhandleMinutesChange = (event) => {\r\n\tif (event.target.value > 59) this.setState({ minutes: 59 });\r\n\telse if (event.target.value < 0) this.setState({ minutes: 0 });\r\n\telse this.setState({ minutes: event.target.value });\r\n};\r\n\r\nhandleHoursChange = (event) => {\r\n\tif (event.target.value > 23) this.setState({ hours: 23 });\r\n\telse if (event.target.value < 0) this.setState({ hours: 0 });\r\n\telse this.setState({ hours: event.target.value });\r\n};\r\n\r\nhandleOfferClick = (order) => {\r\n\tthis.setState({ \r\n\t\tprice: \"\",\r\n\t\tshowOfferModal: true,\r\n\t\torderId: order.Id,\r\n\t});\r\n\t\r\n};\r\n\r\nhandleModalClose = () => {\r\n\tthis.setState({ \r\n\t\topenModal: false,\r\n\t});\r\n};\r\n\r\nhandleModalDrugsClose = () => {\r\n\tthis.setState({ \r\n\t\topenModalDrugs: false,\r\n\t});\r\n};\r\n\r\nhandleModalSuccessClose = () => {\r\n\tthis.setState({ \r\n\t\topenModalSuccess: false,\r\n\t});\r\n};\r\n\r\nhandleOrderClick = (order) => {\r\n\tconsole.log(order,\"AA\");\r\n\tthis.setState({\r\n\t\t showOrderModal: true,\r\n\t\t address: order.pharmacy.EntityDTO.address.street +\", \"+ order.pharmacy.EntityDTO.address.city +\", \" +\r\n\t\t order.pharmacy.EntityDTO.address.country,\r\n\t\t pharmacyName: order.pharmacy.EntityDTO.name,\r\n\t\t replacingDrugs: order.order\r\n\t});\r\n};\r\n\r\nhandleOfferModalClose = () => {\r\n\tthis.setState({ showOfferModal: false });\r\n};\r\n\r\nhandleOrderModalClose = () => {\r\n\tthis.setState({ showOrderModal: false });\r\n};\r\n\r\nhandleDateChange = (date) => {\r\n\tthis.setState({ selectedDate: date });\r\n};\r\n\r\nhandleOffer = () => {\r\n\t\t\r\n\tif(this.state.price !==\"\"){\r\n\r\n\t\tlet offerDate = new Date(this.state.selectedDate.getFullYear(),this.state.selectedDate.getMonth(),this.state.selectedDate.getDate(),this.state.hours,this.state.minutes,0,0);\r\n\t\tlet OfferDTO = {\r\n\t\t\t\t\t\t\tprice: this.state.price,\r\n\t\t\t\t\t\t\tdateToDelivery: offerDate,\r\n\t\t\t\t\t\t\tid: this.state.orderId,\r\n\t\t\t\t\t\t}\r\n\t\tAxios.put(\"http://localhost:8080/offer/drugsCheck\", OfferDTO ,{ headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(\"usao u drugs check\");\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif(res.data){\r\n\t\t\t\t\t\tAxios.post(\"http://localhost:8080/offer\", OfferDTO ,{ headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\topenModalSuccess: true,\r\n\t\t\t\t\t\t\t\t\tshowOfferModal: false,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tAxios.get(\"http://localhost:8080/order/getAllOrders\", { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\torders: res.data\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"GRESKA\");\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"CREATE GRESKA\");\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\topenModalDrugs: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(\"GRESKA\");\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\r\n\t\tconsole.log(OfferDTO, \"AJDE RADI\")\r\n\t}else{\r\n\t\tthis.setState({\r\n\t\t\topenModal: true,\r\n\t\t})\r\n\t}\r\n\t\t\r\n};\r\n\r\n\r\n    render() {\r\n\t\tif (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\t\t\t\t\t<h5 className=\" text-center mb-0 mt-2 text-uppercase\">Orders </h5>\r\n\r\n\t\t\t\t\t<table className=\"table table-hover\" style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.orders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr className=\"rounded\">\r\n\t\t\t\t\t\t\t\t\t<td width=\"190em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={orderImage}  width=\"150em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(order.EntityDTO.date).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacy : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{order.EntityDTO.pharmacy.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Address: </b> {order.EntityDTO.pharmacy.EntityDTO.address.street}, {order.EntityDTO.pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{order.EntityDTO.pharmacy.EntityDTO.address.country}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleOfferClick(order)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCreate an offer\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<OfferModal\r\n\t\t\t\t\tbuttonName=\"Send offer\"\r\n\t\t\t\t\theader=\"Make an offer\"\r\n\t\t\t\t\thandlePriceChange={this.handlePriceChange}\r\n\t\t\t\t\tshow={this.state.showOfferModal}\r\n\t\t\t\t\tprice={this.state.price}\r\n\t\t\t\t\tonCloseModal={this.handleOfferModalClose}\r\n\t\t\t\t\tgiveOffer={this.handleOffer}\r\n\t\t\t\t\thandleDateChange={this.handleDateChange}\r\n\t\t\t\t\tselectedDate={this.state.selectedDate}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n}export default withRouter(OrdersPage);","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\ModalDialog.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Header.js",["526"],"import React from 'react';\r\nimport * as ReactBootStrap from \"react-bootstrap\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Header extends React.Component{\r\n\r\n\r\n      handleLogout = () => {\r\n      localStorage.removeItem(\"keyToken\");\r\n      localStorage.removeItem(\"keyRole\");\r\n      localStorage.removeItem(\"expireTime\");\r\n    };\r\n\r\n    hasRole = (requestRole) => {\r\n      let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n      if (currentRoles === null) return false;\r\n\r\n\r\n      for (let currentRole of currentRoles) {\r\n        if (currentRole === requestRole) return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    IsLogedIn = () => {\r\n      let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n      if (currentRoles === null) return false;\r\n\r\n      \r\n      return true;\r\n    };\r\n\r\n    render(){\r\n      \r\n      \r\n        \r\n    \r\n    \r\n          return(\r\n                  \r\n              \r\n\r\n                <div id=\"header\">\r\n\r\n          \r\n\r\n\r\n                <ReactBootStrap.Navbar collapseOnSelect expand=\"xl\" bg=\"primary\" variant=\"dark\">\r\n                <Link to=\"/\">\r\n                <ReactBootStrap.Navbar.Brand  style={{fontSize : \"35px\"}}>Health clinic</ReactBootStrap.Navbar.Brand>\r\n                </Link>\r\n                <ReactBootStrap.Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                \r\n                <ReactBootStrap.Navbar.Collapse  id=\"responsive-navbar-nav\">\r\n              \r\n                <ReactBootStrap.Nav className=\"ml-auto\" >\r\n            \r\n                <Link to=\"/dermatologistsForPhAdmin\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PATIENT\")}>Dermatologist</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n                <Link to=\"/pharmacistsForPhAdmin\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PATIENT\")}>Pharmacist</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n                <Link to=\"/drugs\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={this.hasRole(\"ROLE_PHARMACYADMIN\")}>Drugs</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <Link to=\"/pharmacies\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={this.hasRole(\"ROLE_PHARMACYADMIN\")}>Pharmacies</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n                \r\n                <Link to=\"/pharmacies\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PATIENT\") || !this.hasRole(\"ROLE_SYSADMIN\")}>Pharmacies</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n              \r\n                <Link to=\"/adminpharmacy\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PHARMACYADMIN\")}>My Pharmacy</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <Link to=\"/dermatologistsForPhAdmin\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PHARMACYADMIN\")}>Dermatologist</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <Link to=\"/pharmacistsForPhAdmin\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PHARMACYADMIN\") }>Pharmacist</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n              \r\n                <Link to=\"/drugsForPhAdmin\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PHARMACYADMIN\")}>Drugs</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n              \r\n                <Link to=\"/actions\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PHARMACYADMIN\")}>Actions</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n                \r\n                <Link to=\"/ordersForPhAdmin\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PHARMACYADMIN\")}>Orders</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n                \r\n                <ReactBootStrap.NavDropdown alignRight title=\"My reports\" id=\"collasible-nav-dropdown\" hidden={!this.hasRole(\"ROLE_PATIENT\")} >\r\n\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/futureDermatologistAppointmentsForPatient\">Dermatologist</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Divider />\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/futurePharmaciesConsultationsForPatient\">Pharmacies</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Divider />\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/patientsSubscribedPharmacies\">Subscribed pharmacies</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Divider />\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/futureDrugsReservationForPatient\">Drugs reservations</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Divider />\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/allPatients-E-receipts\">E-receipts</ReactBootStrap.NavDropdown.Item>\r\n                </ReactBootStrap.NavDropdown>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                <ReactBootStrap.NavDropdown alignRight title=\"Apointment\" id=\"collasible-nav-dropdown\" hidden={!this.hasRole(\"ROLE_PATIENT\")} >\r\n\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/pharmacistAppointment\">Pharmacist</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Divider />\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/dermatologistAppointment\">Dermatologist</ReactBootStrap.NavDropdown.Item>\r\n                    \r\n                </ReactBootStrap.NavDropdown>\r\n\r\n                <Link to=\"/qrCode\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_PATIENT\")} >Scan QR code</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <ReactBootStrap.NavDropdown alignRight title=\"Register\" hidden={!this.hasRole(\"ROLE_SYSADMIN\")} id=\"collasible-nav-dropdown\">\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/registerStaff\" >Stuff member</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/registerPharmacies\" >Pharmacy</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/registerDrug\" >Drug</ReactBootStrap.NavDropdown.Item>\r\n                    \r\n                    \r\n                </ReactBootStrap.NavDropdown>\r\n                <ReactBootStrap.NavDropdown alignRight title=\"Complaints\" hidden={!this.hasRole(\"ROLE_SYSADMIN\")} id=\"collasible-nav-dropdown\">\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/staffComplains\" >Employee complaints</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/pharmacyComplains\" >Pharmacy complaints</ReactBootStrap.NavDropdown.Item>\r\n                    \r\n                    \r\n                    \r\n                </ReactBootStrap.NavDropdown>\r\n\r\n                <Link to=\"/loyalityProgram\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_SYSADMIN\")} >Loyality Program</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <Link to=\"/orders\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_SUPPLIER\")} >Orders</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <Link to=\"/offers\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_SUPPLIER\")} >Offers</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <Link to=\"/calendar\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_DERMATHOLOGIST\") && !this.hasRole(\"ROLE_PHARMACIST\")} >Calendar</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                <Link to=\"/patients\">\r\n                <ReactBootStrap.Nav.Link href=\"#deets\" hidden={!this.hasRole(\"ROLE_DERMATHOLOGIST\") && !this.hasRole(\"ROLE_PHARMACIST\")} >Patients</ReactBootStrap.Nav.Link>\r\n                </Link>\r\n\r\n                  \r\n                <ReactBootStrap.NavDropdown alignRight title=\"User\" id=\"collasible-nav-dropdown\">\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/login\" hidden={this.IsLogedIn()}>Login</ReactBootStrap.NavDropdown.Item>\r\n                    <ReactBootStrap.NavDropdown.Divider hidden={this.IsLogedIn()} />\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/registration\" hidden={this.IsLogedIn()}>Register</ReactBootStrap.NavDropdown.Item>\r\n\r\n\r\n                   \r\n                    \r\n\r\n                    <ReactBootStrap.NavDropdown.Item href=\"/userProfile\" hidden={(!this.hasRole(\"ROLE_DERMATHOLOGIST\") && !this.hasRole(\"ROLE_PHARMACIST\") && !this.hasRole(\"ROLE_PATIENT\") && !this.hasRole(\"ROLE_SUPPLIER\") && !this.hasRole(\"ROLE_PHARMACYADMIN\"))}>My profile</ReactBootStrap.NavDropdown.Item>\r\n\r\n                    <ReactBootStrap.NavDropdown.Divider hidden={!this.IsLogedIn()} />\r\n                    <ReactBootStrap.NavDropdown.Item onClick={this.handleLogout} href=\"/login\" hidden={!this.IsLogedIn(\"*\")}>Log out</ReactBootStrap.NavDropdown.Item>\r\n\r\n                </ReactBootStrap.NavDropdown>\r\n            \r\n            \r\n                </ReactBootStrap.Nav>\r\n            \r\n              </ReactBootStrap.Navbar.Collapse>\r\n            \r\n            </ReactBootStrap.Navbar>\r\n            \r\n            \r\n                    </div>\r\n\r\n\r\n\r\n              )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Header;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmaciesWithDrugAndPrice.js",["527","528"],"import React, { Component } from \"react\";\r\nimport PharmacyLogoPicture from \"../../Images/pharmacyLogo.jpg\" ;\r\nimport SuccessfulAlert from \"../Alerts/SuccessfulAlert\";\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass PharmaciesWithDrugAndPrice extends Component {\r\n\t\r\n    \r\n    \r\n    render() {\r\n\t\treturn (\r\n\t\t\t<div hidden={!this.props.show} className=\"container\">\r\n                       \r\n                            <SuccessfulAlert\r\n                                hidden={this.props.hiddenSuccessfulAlert}\r\n                                header={this.props.SuccessfulHeader}\r\n                                message={this.props.SuccessfulMessage}\r\n                                handleCloseAlert={this.props.handleCloseSuccessfulAlert}\r\n                            />\r\n                      \r\n\r\n\r\n                <button  type=\"button\" class=\"btn btn-link btn-lg\"\r\n                        onClick={this.props.back} \r\n                         style={{ width: \"100px\" , marginTop: \"40px\", marginLeft: \"5em\"}}>        \r\n                          Back\r\n                </button>\r\n\r\n\r\n               \r\n\r\n                <div className=\"container\">\r\n                    <h1 hidden={this.props.pharmacies.length!==0}   className=\" text-center  mt-3  text-danger\" >Drug is not available </h1>\r\n                    <h1 hidden={this.props.pharmacies.length===0}   className=\" text-center  mt-3 \" >Pharmacies where is drug available </h1>\r\n                    \r\n                    <table className=\"table\" style={{ width: \"70%\", marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n                        \r\n                        <tbody>\r\n                            {\r\n                                this.props.pharmacies.map((pharmacy) => (\r\n                                    <tr key={pharmacy.Id} \r\n                                         id={pharmacy.Id} >\r\n                                       \r\n                                      <td width=\"100px\">  \r\n                                       \r\n                                        <img src={PharmacyLogoPicture} width=\"70px\"></img>                                 \r\n                                     \r\n                                      </td>\r\n\r\n\r\n                                      <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Name: </b>{pharmacy.EntityDTO.name}\r\n                                        </div>  \r\n\r\n                                        <div>  \r\n                                        <b>Location: </b> {pharmacy.EntityDTO.address.street}, {\" \"} {pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t                                      {pharmacy.EntityDTO.address.country}\r\n                                        </div> \r\n\r\n                                        <div>  \r\n                                        <b>Description: </b>{pharmacy.EntityDTO.description}\r\n                                        </div>\r\n\r\n\r\n                                        <div>\r\n                                        <b>Drug price: </b> {pharmacy.drugPrice} {\" \"} \r\n                                        <b>din</b>\r\n                                        \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n                                      </td>\r\n\r\n                                      <td>\r\n                                                <button\r\n                                                        type=\"button\"\r\n                                                        className=\"btn btn-outline-primary\"\r\n                                                        style={{  marginTop: \"25px\" }}\r\n                                                        onClick={() => this.props.openReservationDialog(pharmacy)}\r\n                                                >\r\n                                                        Reserve drug\r\n                                                </button>\r\n                                    </td>  \r\n\r\n\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n\r\n\r\n\r\n                   \r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PharmaciesWithDrugAndPrice;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Reservations\\HistoryDrugsReservations.js",["529","530","531"],"import React, { Component } from \"react\";\r\nimport Header from '../../Components/Header';\r\nimport drugPicture from \"../../Images/medicament.jpg\" ;\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass HistoryDrugsReservations extends Component {\r\n\t\r\n  \r\n    \r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_PATIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n \r\n\r\n\t\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      \r\n         <div className=\"container\"  hidden={this.props.hideHistoryReservations }>\r\n\r\n\r\n         <h1 hidden={this.props.drugsReservations.length === 0 || this.props.hideHistoryDrugsReservations  } className=\"text-center  mt-3  \" >Your drugs reservations in history!</h1>\r\n         <h1 hidden={this.props.drugsReservations.length !== 0 || this.props.hideHistoryDrugsReservations } className=\"text-center  mt-3 text-danger\"  >You don't have drugs reservations in history!</h1>\r\n\r\n\r\n\r\n        \r\n   \r\n        <div className=\"container\" hidden={this.props.hideHistoryDrugsReservations }>\r\n                    \r\n          <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.props.drugsReservations.map((drugReservation) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={drugReservation.Id}\r\n\t\t\t\t\t\t\t\t\tkey={drugReservation.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"100px\">  \r\n                     <img  src={drugPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                    \r\n                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.startDate).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.startDate).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.endDate).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>    \r\n\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(drugReservation.EntityDTO.endDate).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price :</b>{\" \"}\r\n                                            <b style={{color : \"red\"}}> {(Math.round(drugReservation.EntityDTO.oneDrugPrice * drugReservation.EntityDTO.count * 100) / 100).toFixed(2)} </b>\r\n                                            <b>  din</b>\r\n                                             \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                  \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacy name : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{drugReservation.EntityDTO.pharmacy.EntityDTO.name }\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacy address: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{drugReservation.EntityDTO.pharmacy.EntityDTO.address.street + \", \" + drugReservation.EntityDTO.pharmacy.EntityDTO.address.city + \", \" + drugReservation.EntityDTO.pharmacy.EntityDTO.address.country }\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                    \r\n\t\t\t\t\t\t\t\t\t\t                              \r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\r\n\r\n          \r\n        </div>\r\n\r\n\r\n\t\t\r\n\r\n\t\t\t\t\t\t\t\t\r\n\r\n\r\n\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HistoryDrugsReservations;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\CreateComplaintModal.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\TopBar.js",["532","533"],"import React from 'react';\r\nimport * as ReactBootStrap from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass TopBar extends React.Component{\r\n\r\n    handleLogout = () => {\r\n        localStorage.removeItem(\"keyToken\");\r\n        localStorage.removeItem(\"keyRole\");\r\n        localStorage.removeItem(\"expireTime\");\r\n      };\r\n  \r\n      \r\n  \r\n      IsLogedIn = () => {\r\n        let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n  \r\n        if (currentRoles === null) return false;\r\n  \r\n        \r\n        return true;\r\n      };\r\n    \r\n\r\n    render(){\r\n        const myStyle = {\r\n\t\t\tmargin: 10,\r\n\t\t};\r\n        return(\r\n            \r\n\r\n          <div id=\"topbar\" className=\"ml-auto\" >\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t<div className=\" ml-auto container register-login\">\r\n\t\t\t\t\t\t<Link to=\"/registration\" hidden={this.IsLogedIn()}>\r\n\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t</Link>\r\n            <i ></i>{\" \"}\r\n\t\t\t\t\t\t<Link to=\"/login\" hidden={this.IsLogedIn()}>\r\n\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t</Link>\r\n            <i className=\"icofont-envelope\"></i>{\" \"}\r\n\t\t\t\t\t\t<Link onClick={this.handleLogout} to=\"/login\" hidden={!this.IsLogedIn()}>\r\n\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\r\n\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default TopBar;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\DrugSpecification.js",["534"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport MedicamentPicture from \"../Images/medicament.jpg\" ;\r\n\r\nclass DrugSpecification extends Component {\r\n\r\n\tstate = {\r\n\t\tingredients: this.props.ingredients,\r\n\t\treplacingDrugs: this.props.replacingDrugs\r\n\t};\r\n\t\r\n\t\r\n\tcomponentDidMount() {\r\n\t\r\n\t\tconsole.log(this.state.ingredients)\r\n\t\tconsole.log(this.state.replacingDrugs)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tdialogClassName=\"modal-80w-300h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">{this.props.header}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<form className=\"ml-3\">\r\n\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t<div className=\"form-group controls\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t<div className=\"form-row\" width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"90em\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name: </b> {this.props.drugName}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Manufacturer: </b> {this.props.drugManufacturer}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Quantity: </b> {this.props.drugQuantity} <b>mg</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<b>Drug kind: </b> {this.props.drugKind}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<b>Drug format: </b> {this.props.drugFormat}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<b>Recommended amount: </b> {this.props.drugAmount}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<b>Side effects: </b> {this.props.sideEffects}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<b>Ingredients: {\" \"}</b>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.ingredients.map((ingredient) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i>{ingredient.EntityDTO.name}, </i>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Replacing drugs: {\" \"}</b>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.replacingDrugs.map((drug) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i>{drug.EntityDTO.drugInstanceName}, </i>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<b>On reciept: </b> {this.props.onReciept ? 'Yes' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<b>Loyalty points: </b> {this.props.points}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button onClick={this.props.onCloseModal}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DrugSpecification;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ReservationDrugsModal.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Funciton\\GetAuthorisation.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Alerts\\UnsuccessfulAlert.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Alerts\\SuccessfulAlert.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Consultations\\HistoryPharmacistConsultation.js",["535","536"],"import React, { Component } from \"react\";\r\nimport PharmacistPicture from \"../../Images/pharmacist.png\" ;\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport CreateComplaintModal from \"../../Components/CreateComplaintModal\";\r\n\r\n\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass HistoryPharmacistConsultation extends Component {\r\n\r\n\r\n\tstate = {\r\n\t\t\r\n\t\tshowComplaintModal: false,\r\n\t\tStaffName: \"\",\r\n\t\tStaffSurame: \"\",\r\n\t\tcomplaint: \"\",\r\n\t\tstaffId : \"\",\r\n\t\tDate : new Date(),\r\n\t\ttext : \"\",\r\n\t\tprofession : \"\",\r\n\t\t\r\n\t};\r\n\r\n\thandleComplaintChange = (event) => {\r\n\t\tthis.setState({ text: event.target.value });\r\n\t};\r\n\r\n\t\r\n\thandleComplaintModalClose = () => {\r\n\t\tthis.setState({ showComplaintModal: false });\r\n\t};\r\n\r\n\thandleStuffIdChange = (stuffID) => {\r\n\t\tthis.setState({ staffId: stuffID });\r\n\t};\r\n\r\n\thandleComaplaint = () => {\r\n\t\tlet ComplaintStaffDTO = {\r\n\t\t\tstaffId: this.state.selectedStaffId,\r\n\t\t\tdate: new Date(),\r\n\t\t\ttext: this.state.text,\r\n\t\t\tstaffName: this.state.StaffName,\r\n\t\t\tstaffSurname: this.state.StaffSurame,\r\n\t\t\tprofession: \"\",\r\n\t\t\treply: \"\",\r\n\t\t\temail: \"\",\r\n\t\t};\r\n\r\n\t\tAxios.post(\"http://localhost:8080/complaint\", ComplaintStaffDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n\t\t\t\t\tthis.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleComplaintClick = (staff) => {\r\n\t\tconsole.log(staff);\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tselectedStaffId: staff.Id,\r\n\t\t\t\t\t\tshowComplaintModal: true,\r\n\t\t\t\t\t\tStaffName: staff.EntityDTO.name,\r\n\t\t\t\t\t\tStaffSurame: staff.EntityDTO.surname,\r\n\t\t\t\t\t\tprofession : staff.EntityDTO.profession,\r\n\t\t\t\t\t\tgrade: 0,\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t};\r\n\t\r\n    \r\n    \r\n    render() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t<div className=\"container\" hidden={this.props.hideHistoryConsultations }>\r\n                    \r\n\t\t\t<div className=\"container\" style={{  marginTop: \"2em\" }}>\r\n\r\n\t\t\t<div className=\"dropdown\">\r\n            <button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n             type=\"button\" id=\"dropdownMenu2\"\r\n              data-toggle=\"dropdown\" \r\n              aria-haspopup=\"true\" \r\n              aria-expanded=\"false\">\r\n              Sort\r\n            </button>\r\n            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPriceAscending} >Sort by price ascending</button>\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPriceDescending} >Sort by price descending</button>\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByDateAscending} >Sort by date ascending</button>\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByDateDescending} >Sort by date descending</button>\r\n\t\t\t  <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByDurationAppointmentAscending} >Sort by duration appointment ascending</button>\r\n              <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByDurationAppointmentDescending} >Sort by duration appointment descending</button>\r\n            </div>\r\n          </div>\r\n\r\n\t\t  </div>\r\n\r\n\r\n\r\n\t\t\t<h1 hidden={this.props.appointments.length === 0 || this.props.hideHistoryConsultations } className=\"text-center  mt-3  \" >Your history pharmacist consultations!</h1>\r\n\t\t\t<h1 hidden={this.props.appointments.length !== 0 || this.props.hideHistoryConsultations} className=\"text-center  mt-3 text-danger\"  >You don't have history pharmacist consultations!</h1>\r\n\r\n\r\n          <table className=\"table table-hover\" style={{ width: \"70%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.props.appointments.map((appointment) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"100px\">  \r\n                     <img  src={PharmacistPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                    \r\n                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Start time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.startDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>End time: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.EntityDTO.endDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price:</b>{\" \"}\r\n                                         {appointment.EntityDTO.price }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                  \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacist: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.employee.EntityDTO.name + \" \" + appointment.EntityDTO.employee.EntityDTO.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                         <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacist grade: </b> {appointment.EntityDTO.employee.EntityDTO.grade} {\" \"} \r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                      \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleComplaintClick(appointment.EntityDTO.employee)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMake complaint\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\",marginTop: \"1em\"  }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.handleGetGradeClick(appointment.EntityDTO.employee)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tPharmacist grade\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                    \r\n                                    \r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                \r\n\r\n\r\n\r\n          \r\n        </div>\r\n\r\n\t\t<CreateComplaintModal\r\n\t\t\t\t\tbuttonName=\"Send complaint\"\r\n\t\t\t\t\theader=\"Give complaint\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleComaplaint}\r\n\t\t\t\t\tname={this.state.StaffName + \" \" + this.state.StaffSurame}\r\n\t\t\t\t\tforWho=\"consultant\"\r\n\t\t\t\t\thandleClickIcon={this.handleClickIcon}\r\n\t\t\t\t\tcomplaint={this.state.complaint}\r\n\t\t\t\t/>\r\n\r\n\r\n\t\t</React.Fragment>\r\n\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HistoryPharmacistConsultation;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OfferModal.js",["537"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\"\r\nimport datepicker from \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\nclass OfferModal extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tdialogClassName=\"modal-80w-150h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">\r\n\t\t\t\t\t\t{this.props.header}\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<h5>Give offer</h5>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label>Price:</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Price\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tid=\"complaints\"\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.price}\r\n\t\t\t\t\t\t\t\t\tonChange={this.props.handlePriceChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label>Due to date:</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tminDate={new Date()}\r\n\t\t\t\t\t\t\t\t\tonChange={(date) => this.props.handleDateChange(date)}\r\n\t\t\t\t\t\t\t\t\tselected={this.props.selectedDate}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Button className=\"mt-3\" onClick={this.props.giveOffer}>\r\n\t\t\t\t\t\t\t\t\t{this.props.buttonName}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button onClick={this.props.onCloseModal}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default OfferModal;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\FirstGradeModal.js",["538"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport Star from \"../../Images/rating.png\";\r\n\r\nclass FirstGradeModal extends Component {\r\n\t\r\n\r\n    state = {\r\n\t\t\r\n\t\tgrade: 1,\r\n        minGrade : 1\r\n       \r\n\t};\r\n\r\n\r\n    componentDidMount() {\r\n\t\t\r\n        this.setState({ grade : this.props.employeeGrade,\r\n            minGrade : 1  });\r\n\t\t\r\n         \r\n\t}\r\n\r\n\r\n    handleGradeChange = (event) => {\r\n\t\t\r\n        if (event.target.value > this.props.maxGrade) this.setState({ grade: this.props.maxGrade });\r\n        else if (event.target.value < 1) this.setState({ grade: 1 });\r\n        else this.setState({ grade: event.target.value });\r\n   };\r\n    \r\n    \r\n    render() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tdialogClassName=\"modal-80w-80h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">\r\n\t\t\t\t\t\t{this.props.header}\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<h5>{\"Grade \" + this.props.employeeName + \" \" + this.props.employeeSurname}</h5>\r\n\r\n                            <div className=\"form-inline \">\r\n                                <div style={{ marginTop: \"1em\" }} >\r\n\t\t\t\t\t\t\t\t\t<b>Grade:</b>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control \"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"11em\" }}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tmin={this.state.minGrade}\r\n\t\t\t\t\t\t\t\t\t\tmax={this.props.maxGrade}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleGradeChange}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.grade}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>                    \r\n\r\n                                <img\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid  ml-3\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"11em\", marginTop : \"5px\" }}\r\n\t\t\t\t\t\t\t\tsrc={Star}\r\n\t\t\t\t\t\t\t\twidth=\"50em\"\r\n                                \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t    />\r\n                         </div>\r\n                                <div class=\"container bg-light\">\r\n                                    <div class=\"col-md-12 text-center\">\r\n                                        <button hidden={!this.props.showFirstGrade} \r\n                                        onClick={() => this.props.setFirstGrade(this.state.grade)}\r\n                                        type=\"button\" class=\"btn btn-primary\"\r\n                                        >{this.props.buttonFirstGradeName}</button>\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"container bg-light\" >\r\n                                    <div class=\"col-md-12 text-center\">\r\n                                        <button hidden={!this.props.showModifyGrade}\r\n                                        onClick={() => this.props.setModifyGrade(this.state.grade)}\r\n                                        type=\"button\" class=\"btn btn-primary\"\r\n                                        >{this.props.buttonModifyGradeName}</button>\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n\t\t\t\t\r\n                    \r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button onClick={this.props.onCloseModal}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FirstGradeModal;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ChangePasswordModal.js",["539"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport UnsuccessfulAlert from \"../Alerts/UnsuccessfulAlert\";\r\n\r\nclass ChangePasswordModal extends Component {\r\n\tstate = {\r\n\t\toldPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tnewPasswordRepeated: \"\",\r\n\t};\r\n\r\n\thandleOldPassword = (event) => {\r\n\t\tthis.setState({ oldPassword: event.target.value });\r\n\t};\r\n\r\n\thandleNewPasswordFirst = (event) => {\r\n\t\tthis.setState({ newPassword: event.target.value });\r\n\t};\r\n\r\n\thandleNewPasswordRepeat= (event) => {\r\n\t\tthis.setState({ newPasswordRepeated: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tdialogClassName=\"modal-100w-100h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">{this.props.header}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\thidden={this.props.hiddenPasswordErrorAlert}\r\n\t\t\t\t\t\theader={this.props.errorPasswordHeader}\r\n\t\t\t\t\t\tmessage={this.props.errorPasswordMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.props.handleCloseAlertPassword}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t<div className=\"form-group \" >\r\n\t\t\t\t\t\t\t<label>Old password:</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Old password\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleOldPassword}\r\n\t\t\t\t\t\t\t\tvalue={this.state.oldPassword}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.emptyOldPasswordError }}>\r\n\t\t\t\t\t\t\tOld password must be entered.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t<div className=\"form-group\" >\r\n\t\t\t\t\t\t\t<label>New password:</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"New password\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleNewPasswordFirst}\r\n\t\t\t\t\t\t\t\tvalue={this.state.newPassword}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.emptyNewPasswordError }}>\r\n\t\t\t\t\t\t\tNew password must be entered!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t<div className=\"form-group \" >\r\n\t\t\t\t\t\t\t<label>Repeat new password:</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Repeat new password\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleNewPasswordRepeat}\r\n\t\t\t\t\t\t\t\tvalue={this.state.newPasswordRepeated}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.emptyNewPasswordRepeatedError }}>\r\n\t\t\t\t\t\t\tRepeat the new password!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.newPasswordAndRepeatedNotSameError }}>\r\n\t\t\t\t\t\t\tPasswords must be same!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group text-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\", marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\tonClick={() => this.props.changePassword(this.state.oldPassword, this.state.newPassword, this.state.newPasswordRepeated)}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tChange password\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n            \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ChangePasswordModal;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\DrugsEReceiptsModal.js",["540","541","542"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport UnsuccessfulAlert from \"../../Components/Alerts/UnsuccessfulAlert\";\r\nimport eReceiptsPicture from \"../../Images/notepad.png\" ;\r\n\r\nclass DrugsEReceiptsModal extends Component {\r\n\t\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.showModal}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tdialogClassName=\"modal-100w-100h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.closeModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\" >Drugs</Modal.Title>\r\n\t\t\t\t\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\r\n                <table className=\"table\" >\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.props.eReceipts.map((eRecept) => (\r\n\t\t\t\t\t\t\t\t<tr id={eRecept.Id}\r\n                                     key={eRecept.Id}>\r\n\t\t\t\t\t\t\t\t\t\r\n                                    <td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={eReceiptsPicture} width=\"90em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n                                         <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Creation Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(eRecept.EntityDTO.creationDate).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        \r\n                                        <div  >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t    <b style={{ color: \"red\", marginLeft : \"2px\" }}> {eRecept.EntityDTO.price} </b>\r\n                                            <b>din</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div  >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Pharmacy name: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t    {eRecept.EntityDTO.pharmacyName}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div  >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>status:</b>\r\n\t\t\t\t\t\t\t\t\t\t   <b style={{ color: \"blue\" }}> {eRecept.EntityDTO.status}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n                <div className=\"form-group text-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\thidden={this.props.hideSuccessfulModalButton}\r\n\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\", marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\tonClick={() => this.props.closeModal()}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tOk\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n            \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DrugsEReceiptsModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AllergensModal.js",["543","544","545"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport UnsuccessfulAlert from \"../Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Alerts/SuccessfulAlert\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass AllergensModal extends Component {\r\n\tstate = {\r\n\t\tallAllergens: [],\r\n        newAllergen : \"\"\r\n\t};\r\n\r\n\r\n    componentDidMount() {\r\n\t\tthis.setState({ allAllergens: this.props.userAllergens });\r\n\t}\r\n\r\n\r\n    handleChangeNewAllergen= (event) => {\r\n\t\tthis.setState({ newAllergen: event.target.value });\r\n\t};\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tdialogClassName=\"modal-80w-80h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tscrollable\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">{this.props.header}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<SuccessfulAlert\r\n\t\t\t\t\t\thidden={this.props.hiddenAllergenSuccessfulAlert}\r\n\t\t\t\t\t\theader={this.props.successfulAllergenHeader}\r\n\t\t\t\t\t\tmessage={this.props.successfulAllergenMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.props.handleCloseAllergenAlertSuccessful}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\thidden={this.props.hiddenAllergenErrorAlert}\r\n\t\t\t\t\t\theader={this.props.errorAllergenHeader}\r\n\t\t\t\t\t\tmessage={this.props.errorAllergenMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.props.handleCloseAllergenAlertError}\r\n\t\t\t\t\t/>\r\n\r\n\r\n                    <div  className=\"form-group\">\r\n                    <div className=\"form-row justify-content-center mr-3\">\r\n                          \r\n                            <div  className=\"mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Add allergen\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleChangeNewAllergen}\r\n\t\t\t\t\t\t\t\tvalue={this.state.newAllergen }\r\n\t\t\t\t\t\t\t/>\r\n                            </div>\r\n                            \r\n                            <div  className=\"mr-2\">\r\n                            <Button onClick={() => this.props.AddAllergen(this.state.newAllergen)} style={{ width: \"100%\" }} variant=\"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd allergen\r\n\t\t\t\t\t\t\t</Button>\r\n                            </div>\r\n                            </div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t<h4>{this.props.subheader}</h4>\r\n\t\t\t\t\t<table className=\"table\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<td className=\"col-md-3\">Allergen name</td>\r\n\t\t\t\t\t\t\t<td className=\"col-md-1\"></td>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.props.userAllergens.map((allergen) => (\r\n\t\t\t\t\t\t\t\t<tr id={allergen.Id} key={allergen.Id}>\r\n\t\t\t\t\t\t\t\t\t<td>{allergen.EntityDTO.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={() => this.props.RemoveAllergen(allergen.EntityDTO.name)} variant=\"danger\" >\r\n\t\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AllergensModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EreceiptDrugsModal.js",["546","547","548"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport UnsuccessfulAlert from \"../../Components/Alerts/UnsuccessfulAlert\";\r\nimport drugPicture from \"../../Images/medicament.jpg\" ;\r\n\r\nclass EreceiptDrugsModal extends Component {\r\n\t\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.showDrugModal}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tdialogClassName=\"modal-100w-100h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.closeModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\" >Drugs</Modal.Title>\r\n\t\t\t\t\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\r\n                <table className=\"table\" >\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.props.drugs.map((drug) => (\r\n\t\t\t\t\t\t\t\t<tr id={drug.Id} key={drug.Id}>\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={drugPicture} width=\"90em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name:</b> {drug.EntityDTO.drugName}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Count:</b> {drug.EntityDTO.drugCount}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n                <div className=\"form-group text-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\thidden={this.props.hideSuccessfulModalButton}\r\n\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\", marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\tonClick={() => this.props.closeModal()}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tOk\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n            \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EreceiptDrugsModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ReservedConsultationModal.js",["549","550"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport UnsuccessfulAlert from \"../../Components/Alerts/UnsuccessfulAlert\";\r\n\r\nclass ReservedConsultationModal extends Component {\r\n\t\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tdialogClassName=\"modal-80w-80h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\" >{this.props.modalTitle}</Modal.Title>\r\n\t\t\t\t\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\r\n                <b1  className=\"text-center  mt-3  \" hidden={this.props.hideSuccessfulModalText} >You successful reserved pharmacist consultation! All information about it will be sent on your email!</b1>\r\n\r\n\t\t\t\t<div className=\"text-danger\" >\r\n\t\t\t\t\t\t\t\t\t\t{this.props.errorMessageForReservation }\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n                <div className=\"form-group text-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\thidden={this.props.hideSuccessfulModalButton}\r\n\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\", marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\tonClick={() => this.props.closeModal()}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tOk\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n            \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ReservedConsultationModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\EditOfferModal.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\FoundPharmacistForPharmacyForDateRange.js",["551","552","553","554"],"import React, { Component } from \"react\";\r\nimport PharmacistPicture from \"../../Images/pharmacist.png\" ;\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass FoundPharmacistForPharmacyForDateRange extends Component {\r\n\t\r\n    \r\n    \r\n    render() {\r\n\t\treturn (\r\n\t\t\t<div hidden={this.props.hiddenPharmacist} >\r\n\r\n                \r\n               \r\n                <button  type=\"button\" class=\"btn btn-link btn-lg\"\r\n                        onClick={this.props.backToPharmacies} \r\n                         style={{ width: \"100px\" , marginTop: \"40px\", marginLeft: \"5em\"}}>        \r\n                          Back\r\n                </button>\r\n\r\n                \r\n\r\n\r\n\t\t\t\t<div className=\"container\">\r\n                    \r\n\r\n\r\n                    \r\n                <div className=\"dropdown\" style={{  marginTop: \"3em\" }}>\r\n                        <button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n                            type=\"button\" id=\"dropdownMenu2\"\r\n                            data-toggle=\"dropdown\" \r\n                            aria-haspopup=\"true\" \r\n                            aria-expanded=\"false\">\r\n                            Sort\r\n                        </button>\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPharmacistGradeAscending} >Sort by pharmacist grade ascending</button>\r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPharmacistGradeDescending} >Sort by pharmacist grade descending</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                    <table className=\"table table-hover\" style={{ width: \"90%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n                                  <tbody>\r\n                                      {this.props.pharmacists.map((pharmacist) => (\r\n                                          <tr\r\n                                              id={pharmacist.Id}\r\n                                              key={pharmacist.Id}\r\n                                              style={{ cursor: \"pointer\" }}\r\n                                          >\r\n          \r\n                                            <td width=\"100px\">  \r\n                                            <img  src={PharmacistPicture} style={{ width: \"85px\" }}></img>                                 \r\n                                                            \r\n                                            </td>\r\n                                              \r\n                                              <td>\r\n                                                            \r\n                                                    <div>\r\n                                                        <b>Name: </b> {pharmacist.EntityDTO.name}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <b>Surname: </b>{pharmacist.EntityDTO.surname}\r\n                                                    </div>\r\n\r\n                                                    \r\n\r\n                                                    <div>\r\n                                                        <b>Grade: </b> {pharmacist.EntityDTO.grade}\r\n                                                        <i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                                                    </div>\r\n                                            \r\n                                                  \r\n                                              </td>\r\n\r\n                                            <td>\r\n                                                <button\r\n                                                        type=\"button\"\r\n                                                        className=\"btn btn-outline-primary\"\r\n                                                        style={{  marginTop: \"25px\" }}\r\n                                                        onClick={() => this.props.reserveAppointmentForPharmacist(pharmacist)}\r\n                                                >\r\n                                                        Reserve consultation\r\n                                                </button>\r\n                                            </td>\r\n\r\n\r\n\r\n                                          </tr>\r\n                                      ))}\r\n                                  </tbody>\r\n                              </table>\r\n                    </div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FoundPharmacistForPharmacyForDateRange;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\FoundPharmaciesForDateRange.js",["555","556","557","558"],"import React, { Component } from \"react\";\r\nimport PharmacyLogoPicture from \"../../Images/pharmacyLogo.jpg\" ;\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass FoundPharmaciesForDateRange extends Component {\r\n\t\r\n    \r\n    \r\n    render() {\r\n\t\treturn (\r\n\t\t\t<div hidden={this.props.hiddenPharmacies}>\r\n\r\n\r\n                <button  type=\"button\" class=\"btn btn-link btn-lg\"\r\n                        onClick={this.props.backToSelectedDateRange} \r\n                         style={{ width: \"100px\" , marginTop: \"40px\", marginLeft: \"5em\"}}>        \r\n                          Back\r\n                </button>\r\n\r\n\r\n               \r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t<div className=\"container\">\r\n                    \r\n\r\n                <div className=\"dropdown\" style={{  marginTop: \"3em\" }}>\r\n                        <button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n                            type=\"button\" id=\"dropdownMenu2\"\r\n                            data-toggle=\"dropdown\" \r\n                            aria-haspopup=\"true\" \r\n                            aria-expanded=\"false\">\r\n                            Sort\r\n                        </button>\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPriceAscending} >Sort by price ascending</button>\r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPriceDescending} >Sort by price descending</button>\r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPharmacyGradeAscending} >Sort by pharmacy grade ascending</button>\r\n                        <button className=\"dropdown-item\" type=\"button\" onClick={this.props.handleSortByPharmacyGradeDescending} >Sort by pharmacy grade descending</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                    \r\n                    <table className=\"table table-hover\" style={{ width: \"90%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n                                  <tbody>\r\n                                      {this.props.pharmacies.map((pharmacy) => (\r\n                                          <tr\r\n                                              id={pharmacy.Id}\r\n                                              key={pharmacy.Id}\r\n                                              style={{ cursor: \"pointer\" }}\r\n                                          >\r\n          \r\n                                            <td width=\"100px\">  \r\n                                            <img  src={PharmacyLogoPicture} style={{ width: \"85px\", marginTop: \"15px\" }}></img>                                 \r\n                                                            \r\n                                            </td>\r\n                                              \r\n                                              <td>\r\n                                                            \r\n                                                    <div>\r\n                                                        <b>Name: </b> {pharmacy.EntityDTO.name}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <b>Address: </b> {pharmacy.EntityDTO.address.street}, {pharmacy.EntityDTO.address.city},{\" \"}\r\n                                                        {pharmacy.EntityDTO.address.country}\r\n                                                    </div>\r\n\r\n                                                    <div>\r\n                                                        <b>Consultation price:</b>{\" \"}\r\n                                                        \r\n                                                        {pharmacy.EntityDTO.price}                \r\n                                                        <b> din</b>\r\n                                                    </div>\r\n\r\n                                                    <div>\r\n                                                        <b>Grade: </b> {pharmacy.EntityDTO.grade}\r\n                                                        <i className=\"icon-star\" style={{ color: \"yellow\"}}></i>\r\n                                                    </div>\r\n                                            \r\n                                                  \r\n                                              </td>\r\n\r\n                                            <td>\r\n                                                <button\r\n                                                        type=\"button\"\r\n                                                        className=\"btn btn-outline-primary\"\r\n                                                        style={{  marginTop: \"25px\" }}\r\n                                                        onClick={() => this.props.showPharmacistForPharmacy(pharmacy)}\r\n                                                >\r\n                                                        Show pharmacists\r\n                                                </button>\r\n                                            </td>\r\n\r\n\r\n\r\n                                          </tr>\r\n                                      ))}\r\n                                  </tbody>\r\n                              </table>\r\n                    </div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FoundPharmaciesForDateRange;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmacyForPhAdmin.js",["559"],"import React, { Component } from \"react\";\r\nimport Header from '../Header';\r\nimport Axios from \"axios\";\r\nimport { YMaps, Map,Placemark } from \"react-yandex-maps\";\r\n\r\nimport { Button, Modal } from \"react-bootstrap\";\r\n\r\n\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\n\r\nclass PharmacyForPhAdmin extends Component {\r\n\tstate = {\r\n\t\tpharmacy: \"\",\r\n\t\tphId: \"\",\r\n\t\tnameOfPharmacy: \"Benu\",\r\n\t\tdescription: \"\",\r\n        grade: \"\",\r\n        adress:'',\r\n\t\t\r\n\t\tlat: \"\",\r\n\t\tlong: \"\",\r\n        isEditable: false,\r\n\t\tconsultationPrice:0,\r\n\t\tnameError: \"none\",\r\n\t\tdescriptionError: \"none\",\r\n\t\taddressError: \"none\",\r\n\t\tconsultationPriceError: \"none\",\r\n\t\tshowModal : false,\r\n\t\tshowModalErr   : false\r\n\r\n    };\r\n    \r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.addressInput = React.createRef();\r\n\t}\r\n\r\n\thandleChangeInfo = () => {\r\n\r\n\t\r\n\t\tlet street;\r\n\t\tlet city;\r\n\t\tlet country;\r\n\t\tlet latitude;\r\n\t\tlet longitude;\r\n\t\tlet address1;\r\n\t\tlet postCode ='10000';\r\n\r\n        address1= this.addressInput.current.value;\r\n\t\tvar com=address1.split(\",\");\r\n\t\tconsole.log(com[0]);\r\n\t\tthis.ymaps\r\n\t\t\t.geocode(this.addressInput.current.value)\r\n\t\t\t.then(function (res) {\r\n\t\t\t\tvar addressObject = res.geoObjects.get(0),\r\n\t\t\t\t\tcoords = addressObject.geometry.getCoordinates();\r\n\t\t\t\tlatitude = coords[0];\r\n\t\t\t\tlongitude = coords[1];\r\n\t\t\t\tcountry = addressObject.getCountry();\r\n\t\t\t\tstreet = addressObject.getThoroughfare();\r\n\t\t\t\tcity = addressObject.getLocalities().join(\", \");\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet phId = this.state.phId;\r\n\t\t\t\tlet pharmacyDTO = {\r\n\t\t\t\t\tname: this.state.nameOfPharmacy,\r\n\t\t\t\t\taddress: { city, street, country,postCode, latitude, longitude },\r\n\t\t\t\t\tdescription: this.state.description,\r\n\t\t\t\t\tconsultationPrice: this.state.consultationPrice,\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tif (this.validateForm(pharmacyDTO)) {\r\n\t\t\t\t\tAxios.put(API_URL + \"/pharmacy/editPharmacy/\"+phId,pharmacyDTO ,{\r\n\r\n\t\t\t\t\t\tvalidateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\t\t\tthis.setState({ showModalErr : true });\r\n\t\t\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tshowModal : true\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tvalidateForm = (pharmacyDTO) => {\r\n\t\tthis.setState({\r\n\t\t\tnameError: \"none\",\r\n\t\t\tdescriptionError: \"none\",\r\n\t\t\taddressError: \"none\",\r\n\t\t\tconsultationPriceError: \"none\",\r\n\t\t});\r\n\r\n\t\tif (pharmacyDTO.name === \"\") {\r\n\t\t\tthis.setState({ nameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (pharmacyDTO.description === \"\") {\r\n\t\t\tthis.setState({ descriptionError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (this.addressInput.current.value === \"\") {\r\n\t\t\tthis.setState({ addressError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (pharmacyDTO.consultationPrice === \"\") {\r\n\t\t\tthis.setState({ consultationPriceError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tisEditableInfoFields = () => {\r\n\t\tthis.setState({isEditable: true });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n        this.addressInput = React.createRef();\r\n\r\n\t\tAxios.get(API_URL + \"/pharmacy/pharmacyInfo/\"+localStorage.getItem(\"keyPharmacyId\"),{\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpharmacy: response.data,\r\n\t\t\t\t\tphId: response.data.Id,\r\n\t\t\t\t\tnameOfPharmacy: response.data.EntityDTO.name,\r\n\t\t\t\t\tdescription: response.data.EntityDTO.description,\r\n                    \r\n                    address: response.data.EntityDTO.address,\r\n\t\t\t\t\r\n\t\t\t\t\tlat: response.data.EntityDTO.address.latitude,\r\n\t\t\t\t\tlong: response.data.EntityDTO.address.longitude,\r\n                    grade: response.data.EntityDTO.grade,\r\n                    consultationPrice: response.data.EntityDTO.price\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(this.state.address.latitude);\r\n\t\t\t\tconsole.log(this.state.address.longitude        );\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\r\n    }\r\n    \r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ nameOfPharmacy: event.target.value });\r\n\t};\r\n\r\n\thandleDescriptionChange= (event) => {\r\n\t\tthis.setState({ description: event.target.value });\r\n\t};\r\n\r\n\thandleConsultationPriceChange = (event) => {\r\n\t\tthis.setState({ consultationPrice: event.target.value });\r\n\t};\r\n\r\n\t\r\n\thandleCloseModal = () => {\r\n\t\tthis.setState({ showModal: false ,showModalErr: false});\r\n\t};\r\n\r\n\r\n\t\r\n\t\r\n\r\n\taddressSuggestView = (ymaps) => {\r\n\t\tthis.ymaps = ymaps;\r\n\r\n\t\tif (this.state.address !== \"\") {\r\n\t\t\tthis.ymaps\r\n\t\t\t\t.geocode([this.state.address.latitude, this.state.address.longitude])\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tvar firstGeoObject = res.geoObjects.get(0);\r\n\t\t\t\t\tdocument.getElementById(\"suggest\").setAttribute(\"value\", firstGeoObject.getAddressLine());\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tconst suggestView = new ymaps.SuggestView(\"suggest\");\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\t\t\r\n\trender() {\r\n\t\t\r\n\t\t\r\n\t\tconst nameOfPharmacy=this.state.nameOfPharmacy;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<Modal show={this.state.showModal} onHide={this.handleCloseModal}>\r\n       \t\t\t <Modal.Header closeButton>\r\n          \t\t\t<Modal.Title>Modal heading</Modal.Title>\r\n        \t\t</Modal.Header>\r\n        \t\t<Modal.Body>Successfully updated pharmacy information </Modal.Body>\r\n        \t\t<Modal.Footer>\r\n          \t\t<Button variant=\"secondary\" onClick={this.handleCloseModal}>\r\n           \t\t\t Close\r\n         \t\t </Button>\r\n        \t\t</Modal.Footer>\r\n      \t\t\t</Modal>\r\n\r\n\t\t\t\t  \r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"8%\" }}>\r\n\t\t\t\t\t<div className=\"row\" style={{ marginTop: \"3%\" }}>\r\n                        <div className=\"col-xs-4\" style={{width:'45%'}}>\r\n\t\t\t\t\t\t\t<div className=\"col shadow p-3 bg-white rounded\" style={{backgroundcolor:'lavender'}}>\r\n\r\n\t\t\t\t\t\t\t<h5 className=\" text-center text-uppercase\">{nameOfPharmacy}</h5>\r\n\t\t\t\t\t\t\t<form id=\"contactForm\" name=\"sentMessage\">\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Name:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className={this.state.isEditable === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"   readOnly={!this.state.isEditable} onChange={this.handleNameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.nameOfPharmacy}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n\t\t\t\t\t\t\t\t\t\tName must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n                                <div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Address:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text-area\" id=\"suggest\"\tclassName={this.state.isEditable === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={!this.state.isEditable}  placeholder=\"Address\" \tref={this.addressInput} \r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.addressError }}>\r\n\t\t\t\t\t\t\t\t\t\tAddress must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Description:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className={this.state.isEditable === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDescriptionChange} readOnly={!this.state.isEditable} \tplaceholder=\"Description\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.description}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.descriptionError }}>\r\n\t\t\t\t\t\t\t\t\t\tDescription must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Modal show={this.state.showModalErr} onHide={this.handleCloseModal}>\r\n       \t\t\t \t\t\t\t\t<Modal.Header closeButton>\r\n          \t\t\t\t\t\t\t<Modal.Title>Modal heading</Modal.Title>\r\n        \t\t\t\t\t\t\t</Modal.Header>\r\n        \t\t\t\t\t\t\t<Modal.Body>Bad request </Modal.Body>\r\n        \t\t\t\t\t\t\t<Modal.Footer>\r\n          \t\t\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleCloseModal}>\r\n           \t\t\t \t\t\t\t\t\t\tClose\r\n         \t\t \t\t\t\t\t\t</Button>\r\n        \t\t\t\t\t\t\t</Modal.Footer>\r\n      \t\t\t\t\t\t\t\t</Modal>  \r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t<label>Consultation Price:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Consultation price\"\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={!this.state.isEditable}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={this.state.isEditable === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleConsultationPriceChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.consultationPrice}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.consultationPriceError }}>\r\n\t\t\t\t\t\t\t\t\t\tConsultation price must be entered.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"form-group text-center\" hidden={!this.state.isEditable}>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\", marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleChangeInfo}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tChange information\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-col\" hidden={this.state.isEditable}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.isEditableInfoFields}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit Info\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n                        </div>\r\n\t\t\t\t\t\t<div className=\"col-xs-8\" style={{marginLeft:'3%'}}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<YMaps query={{load: \"package.full\",lang: \"en_US\",apikey: \"b0ea2fa3-aba0-4e44-a38e-4e890158ece2\"}}>\r\n        \t\t\t\t\t\t\t\t<Map width=\"33em\" height=\"470px\"\r\n          \t\t\t\t\t\t\t\tonLoad={this.addressSuggestView}\r\n          \t\t\t\t\t\t\t\tdefaultState={{ center: [this.state.lat, this.state.long], zoom: 15 }}\r\n         \t\t\t\t\t\t\t\t modules={[\"SuggestView\"]}\r\n        \t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Placemark geometry={[this.state.lat, this.state.long]}  properties={{ balloonContent: this.state.nameOfPharmacy }}/>\r\n\t\t\t\t\t\t\t\t\t\t</Map>\r\n     \t\t\t\t\t\t\t\t\t </YMaps>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PharmacyForPhAdmin;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\Card.js",["560","561","562"],"import React, { Component } from \"react\";\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport './card.styles.css'\r\nimport Picture from \"../../Images/dermatologist.png\" ;\r\nimport ScheduleModal from \"../Modal/ScheduleModal\";\r\nimport Header from '../Header';\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\nclass Card extends Component {\r\n\t\r\n    state = {\r\n        openScheduleModal: false,\r\n        workTimes:[],\r\n        employee: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n        \r\n}\r\n\r\n  \r\n  handleUpdateScheduleModal = () => {\r\n    if (this.hasRole(\"ROLE_PHARMACYADMIN\")) {   \r\n    console.log(\"aaaaaaaaaaaaaa\");\r\n    \r\n    Axios.get(API_URL + \"/users/scheduleForEmployee/\" + this.props.dermatologist.Id, {\r\n        headers: { Authorization: GetAuthorisation() },\r\n    })\r\n    .then((res) => {\r\n     \r\n        this.setState({ workTimes: res.data});\r\n        \r\n        console.log(res.data);\r\n       \r\n    })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    });\r\n   }\r\n    };\r\n    hasRole = (requestRole) => {\r\n\t\tlet currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\t\r\n\t\tif (currentRoles === null) return false;\r\n\t\r\n\t\r\n\t\tfor (let currentRole of currentRoles) {\r\n\t\t  if (currentRole === requestRole) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t  };\r\n\r\n    handleScheduleModal = (id) => {\r\n        if (this.hasRole(\"ROLE_PHARMACYADMIN\")) {\r\n       \r\n        console.log(\"aaaaaaaaaaaaaa\");\r\n        console.log(id);\r\n        Axios.get(API_URL + \"/users/scheduleForEmployee/\" + id, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n        .then((res) => {\r\n            this.setState({ workTimes: res.data , employee:id});\r\n            console.log(res.data);\r\n            console.log(id);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n        this.setState({\r\n            openScheduleModal: true\r\n        });\r\n    }\r\n        };\r\n\r\n        handleModalClose = () => {\r\n            this.setState({openScheduleModal: false});\r\n        }\r\n\r\n        handleUpdateDermatologists =() =>{\r\n            this.setState({openScheduleModal: false});\r\n            this.props.updateDermatologists();\r\n        }\r\n\trender() {\r\n\t\r\n        console.log(this.employee);\r\n        console.log(this.props.pharmacyId)\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n        <button className=\"card-style\"  onClick={() => this.handleScheduleModal(this.props.dermatologist.Id)}>\r\n        <img className=\"img-fluid\" src={Picture}  />\r\n        <h2>{this.props.dermatologist.EntityDTO.name} {this.props.dermatologist.EntityDTO.surname}</h2>\r\n        <p>Email: {this.props.dermatologist.EntityDTO.email}</p>\r\n        <p>Phone: {this.props.dermatologist.EntityDTO.phoneNumber}</p>\r\n        <p>Grade: {this.props.dermatologist.EntityDTO.grade} <i className=\"icon-star\" style={{ color: \"yellow\"}}></i> </p>\r\n        \r\n        \r\n        </button>\r\n        \r\n        <ScheduleModal show={this.state.openScheduleModal} update={this.handleUpdateScheduleModal} updateDermatologists={this.handleUpdateDermatologists} onCloseModal={this.handleModalClose} workTimes={this.state.workTimes}  employee ={this.props.dermatologist.Id} pharmacyId={this.props.pharmacyId} header=\"WorkTimes\" />\r\n\t    </React.Fragment>\r\n        \r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Card;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ScheduleModal.js",["563","564","565","566","567"],"import React, { Component } from \"react\";\r\nimport { Button, CloseButton, Modal } from \"react-bootstrap\";\r\nimport Axios from \"axios\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport \"../card-components/card.styles.css\"\r\nimport ConfirmModal from \"./ConfirmModal\";\r\nimport AddAppointmentModal from \"./AddAppointmentModal\"\r\nimport PharmaciesForEmployee from \"./PharmaciesForEmployeeModal\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass ScheduleModal extends Component {\r\n\tstate = {\r\n\t\tworkTimes: [],\r\n\t\tshowAnotherModal: false,\r\n\t\tselectedStartDate: new Date(),\r\n\t\tselectedEndDate: new Date(),\r\n\t\ttimeFrom: 1,\r\n\t\ttimeTo: 2,\r\n\t\tmodalSize: \"lg\",\r\n\t\thiddenConfirmModal: false,\r\n        showWorkTime: true,\r\n        hiddenSuccessAlert: true,\r\n        hiddenUnsuccessAlert: true, \r\n\t\tshowAddAppointment: false,\r\n        showPharmaciesForEmployee: false,\r\n        pharmacies:[]\r\n\t};\r\n\r\n    handleAdd = () => {\r\n        let workTimeDTO = {\r\n            pharmacyId : this.props.pharmacyId,\r\n            employee: this.props.employee, \r\n            startDate: this.state.selectedStartDate, \r\n            endDate:this.state.selectedEndDate,\r\n            startTime: this.state.timeFrom, \r\n            endTime:this.state.timeTo\r\n        };\r\n        console.log(workTimeDTO);\r\n        Axios\r\n        .put(API_URL + \"/users/addWorkTime\", workTimeDTO, {\r\n            validateStatus: () => true,\r\n            headers: { Authorization:  GetAuthorisation() },\r\n        }).then((res) =>{\r\n            if (res.status === 200) {\r\n                this.props.update();\r\n                this.setState({showWorkTime: true, modalSize:'lg'});\r\n                this.setState({\r\n                    \r\n                    hiddenSuccessAlert: false,\r\n                    hiddenUnsuccessAlert:true,\r\n                    successHeader: \"Success\",\r\n                    successMessage: \"You successfully add new work time.\",\r\n                })\r\n                \r\n                \r\n                \r\n            }else if(res.status===400){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenUnsuccessAlert: false, \r\n                    failHeader: \"Unsuccess\", \r\n                    failMessage: \"Dermatologist works at this date range\"\r\n                });\r\n            }else if(res.status===500){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenUnsuccessAlert: false, \r\n                    failHeader: \"Unsuccess\", \r\n                    failMessage: \"Server error,please try again later \"\r\n                });\r\n            }\r\n            \r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n\thandleClickOnClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowAnotherModal: false,\r\n\t\t\tmodalSize: \"lg\",\r\n\t\t\tselectedStartDate: new Date(),\r\n\t\t\tselectedEndDate: new Date(),\r\n\t\t\ttimeFrom: 1,\r\n\t\t\ttimeTo: 2,\r\n\t\t\t\r\n\t\t});\r\n\t\tthis.props.onCloseModal();\r\n\t};\r\n\r\n\thandleOpenConfirmModal = () => {\r\n\t\tthis.setState({ hiddenConfirmModal: true,showAnotherModal:true });\r\n      \r\n\t};\r\n\r\n    handleAddAppointmentModal = () => {\r\n\t\tthis.setState({ showAddAppointment: true,showAnotherModal:true });\r\n      \r\n\t};\r\n\r\n\thandleCloseConfirmModal = () => {\r\n\t\tthis.setState({ hiddenConfirmModal: false,showAnotherModal:false });\r\n      \r\n\t};\r\n\r\n    handleOpenPharmaciesForEmployeeModal = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistspharmacies/\"+this.props.employee,{\r\n            headers: { Authorization:  GetAuthorisation() },  \r\n        })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n            this.setState({ showPharmaciesForEmployee: true,showAnotherModal:true });\r\n    }\r\n\r\n    handleClosePharmaciesForEmployeeModal = () => {\r\n\t\tthis.setState({ showPharmaciesForEmployee: false,showAnotherModal:false });\r\n      \r\n\t};\r\n    handleUpdateDermatologists = () => {\r\n\t\tthis.setState({ hiddenConfirmModal: false,showAnotherModal:false });\r\n        this.props.onCloseModal();\r\n        this.props.updateDermatologists();\r\n\t};\r\n    handleCloseAddAppModal = () => {\r\n\t\tthis.setState({ showAddAppointment: false,showAnotherModal:false });\r\n\t};\r\n\r\n    handleShowWorkTime = () => {\r\n\t\tthis.setState({ showWorkTime: false });\r\n\t};\r\n\r\n    handleBack = (event) =>{\r\n        this.setState({showWorkTime: true,modalSize:'lg'});\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        this.setState({\r\n            selectedStartDate:date,\r\n        });\r\n\r\n        if(date>this.state.selectedEndDate){\r\n            this.setState({\r\n                selectedEndDate:date,\r\n            }); \r\n        }\r\n    }\r\n\r\n\r\n    handleEndDateChange = (date) => {\r\n        this.setState({selectedEndDate:date});\r\n    }\r\n\r\n    handleTimeFromChange= (event) => {\r\n        if(event.target.value < 1){\r\n            this.setState({timeFrom:1});\r\n        }\r\n        else if(event.target.value > 23){\r\n            this.setState({timeFrom:23});\r\n        }\r\n        \r\n        if(event.target.value >= this.state.timeTo){\r\n            this.setState({\r\n                timeFrom:event.target.value,\r\n                timeTo: event.target.value++\r\n            });\r\n        }else{\r\n            this.setState({timeFrom:event.target.value});\r\n        }\r\n    }\r\n\r\n    handleTimeToChange = (event) => {\r\n        \r\n        if(event.target.value < 2){\r\n            this.setState({timeTo:2});\r\n        }\r\n       else  if(event.target.value > 24){\r\n        this.setState({timeTo:24});\r\n        }\r\n            \r\n        if(event.target.value <= this.state.timeFrom){\r\n            this.setState({\r\n                timeTo:event.target.value,\r\n                timeFrom: event.target.value--\r\n            });\r\n        }else{\r\n            this.setState({timeTo:event.target.value});\r\n        }\r\n    }\r\n\r\n    handleCloseSuccessAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n    };\r\n    \r\n    handleCloseUnsuccessAlert = () => {\r\n\t\tthis.setState({ hiddenUnsuccessAlert: true });\r\n\t};\r\n\r\n\trender() {\r\n        \r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tsize={this.state.modalSize}\r\n\t\t\t\tcentered\r\n                hidden={this.state.showAnotherModal}\r\n                \r\n\t\t\t>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Modal.Title style={{ marginLeft: \"38%\" }} >\r\n\t\t\t\t\t\t{this.props.header}\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\r\n                <SuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseSuccessAlert}\r\n                        />\r\n                        <UnsuccessAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseUnsuccessAlert}\r\n                        />\r\n\t\t\t\t\t<div hidden={!this.state.showWorkTime}>\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<table border=\"1\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Pharmacy</th>\r\n\t\t\t\t\t\t\t\t<th>StartDate</th>\r\n\t\t\t\t\t\t\t\t<th>EndDate</th>\r\n\t\t\t\t\t\t\t\t<th>StartTime</th>\r\n\t\t\t\t\t\t\t\t<th>EndTime</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{this.props.workTimes.map((workTime) => (\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>{workTime.EntityDTO.pharmacyName}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{new Date(workTime.EntityDTO.startDate).toDateString()}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{new Date(workTime.EntityDTO.endDate).toDateString()}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{workTime.EntityDTO.startTime}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{workTime.EntityDTO.endTime}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</table>\r\n\r\n                       \r\n\r\n                        \r\n                        \r\n\t\t\t\t\t</div>\r\n                    <div hidden={this.state.showWorkTime}>\r\n                                <form >\r\n                                    <div  className=\"control-group\" >\r\n                                        <div className=\"form-row\">\r\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link btn-xl\" type=\"button\">\r\n                                              \r\n                                                Back\r\n                                            </button>                   \r\n                                        </div>\r\n                                        <table style={{width:'100%'},{marginLeft:'15%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label >Date from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"14em\"}} minDate={new Date()} onChange={date => this.handleStartDateChange(date)} selected={this.state.selectedStartDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Date to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker  className=\"form-control\" style={{width: \"14em\"}}  minDate={this.state.selectedStartDate} onChange={date => this.handleEndDateChange(date)} selected={this.state.selectedEndDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time from\" className=\"form-control ml-2\" style={{width: \"12em\"}} type=\"number\" min=\"1\" max=\"23\" onChange={this.handleTimeFromChange} value={this.state.timeFrom} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time to\" className=\"form-control ml-2 \" style={{width: \"12em\"}} type=\"number\" min=\"2\" max=\"24\" onChange={this.handleTimeToChange} value={this.state.timeTo} />\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Add Work Time</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n\t\t\t\r\n                    <div class=\"modal-footer \" style={{float: 'right'}}>\r\n\r\n                    <Button hidden={!this.state.showWorkTime} onClick={() => this.handleShowWorkTime()} className=\"float-right\" style={{float: 'right'}} >\r\n\t\t\t\t\t\t\tAdd worktime\r\n\t\t\t\t\t\t</Button>\r\n                    </div>\r\n                <ConfirmModal show={this.state.hiddenConfirmModal}  handleCloseAlert={this.handleCloseConfirmModal} updateDermatologists={this.handleUpdateDermatologists} pharmacyId={this.props.pharmacyId} dermatologistId={this.props.employee} header=\"Removing dermatologist\" />\r\n                <AddAppointmentModal show={this.state.showAddAppointment} onCloseModal={this.handleCloseAddAppModal} pharmacyId={this.props.pharmacyId} header=\"Create appointment\" dermatologistId={this.props.employee}  />\r\n\t\t\t\t<PharmaciesForEmployee show={this.state.showPharmaciesForEmployee} pharmacies={this.state.pharmacies} onCloseModal={this.handleClosePharmaciesForEmployeeModal}/>\r\n                </Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n                <button hidden={!this.state.showWorkTime} type=\"button\" class=\"btn btn-secondary mr-auto\" type=\"button\"  onClick={() => this.handleOpenConfirmModal()}>Remove Dermatologist</button>\r\n                        <Button hidden={!this.state.showWorkTime}  onClick={() => this.handleAddAppointmentModal()}>\r\n\t\t\t\t\t\t\tAdd Appointment\r\n\t\t\t\t\t\t</Button>\r\n                        <Button hidden={!this.state.showWorkTime} onClick={() => this.handleOpenPharmaciesForEmployeeModal()}>\r\n\t\t\t\t\t\t\tPharmacies\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => this.handleClickOnClose()}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ScheduleModal;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ConfirmModal.js",["568","569","570"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass ConfirmModal extends Component {\r\n    state = {\r\n        hiddenSuccessAlert: true,\r\n        hiddenUnsuccessAlert:true,\r\n        \r\n       \r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n \r\n    handleRemoveDermatologist = () =>{\r\n        console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\r\n           console.log(this.props.dermatologistId);        \r\n       \r\n\r\n                    let removeDTO = {\r\n                        employeeId: this.props.dermatologistId,\r\n                        pharmacyId: this.props.pharmacyId,\r\n                    };\r\n                    \r\n                    Axios.put(API_URL + \"/users/removeDermatologistFromPharmacy\",removeDTO, {\r\n                      \r\n                        validateStatus: () => true,\r\n                        headers: { Authorization:  GetAuthorisation() },\r\n                    }).then((res) =>{\r\n                        if (res.status === 200) {\r\n                            this.setState({\r\n                                hiddenSuccessAlert: false,\r\n                                hiddenUnsuccessAlert:true,\r\n                                successHeader: \"Success\",\r\n                                successMessage: \"You successfully remove dermatologist.\"\r\n                            });\r\n                        }else if (res.status === 400){\r\n                            this.setState({ \r\n                                hiddenSuccessAlert: true,\r\n                                hiddenUnsuccessAlert: false, \r\n                                failHeader: \"Unsuccess\", \r\n                                failMessage: \"Dermatologist has scheduled appointments.\"});\r\n                        \r\n                        }\r\n                    }).catch((err) => {\r\n                       \r\n                        console.log(err);\r\n                        this.setState({ \r\n                            hiddenSuccessAlert: true,\r\n                            hiddenUnsuccessAlert: false, \r\n                            failHeader: \"Unsuccess\", \r\n                            failMessage: \"It is not possible to remove the dermatologist\"});\r\n                    });\r\n            \r\n       \r\n    };\r\n\r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n        this.props.handleCloseAlert();\r\n        this.props.updateDermatologists();\r\n    };\r\n    \r\n    handleCloseUnsuccessAlert = () => {\r\n\t\tthis.setState({ hiddenFailAlert: true });\r\n        this.props.handleCloseAlert();\r\n\t};\r\n\r\n    render() { \r\n        console.log(this.props.show);\r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                centered\r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title style={{marginLeft:'19%'}} >\r\n                        {this.props.header}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                <div className=\"container\">      \r\n                <SuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                        <UnsuccessAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseUnsuccessAlert}\r\n                        />\r\n                   <p>Are you sure to remove dermatologist?</p>\r\n                </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.handleRemoveDermatologist()}>Yes</button> \r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.props.handleCloseAlert()}>No</button> \r\n\t\t\t\t\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default ConfirmModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\PatientsPage.js",["571"],"/*eslint-enable react/jsx-no-comment-textnodes */\r\nimport React, { Component } from 'react';\r\nimport Header from '../../Components/Header';\r\nimport Axios from 'axios';\r\nimport GetAuthorisation from '../../Funciton/GetAuthorisation';\r\nimport PatientIcon from '../../Images/patient-icon.jpg'\r\nimport { Redirect } from \"react-router-dom\";\r\nconst API_URL=\"http://localhost:8080\";\r\nclass PatientsPage extends Component {\r\n    state = {\r\n        name: \"\",\r\n        surname: \"\",\r\n        patients: [],\r\n        redirect: false,\r\n        redirectUrl: ''\r\n    }\r\n\r\n    handleNameChange = (event) => {\r\n        this.setState({ name: event.target.value });\r\n    }\r\n    handleSurnameChange = (event) => {\r\n        this.setState({ surname: event.target.value });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handleSearch();\r\n    }\r\n\r\n    handleSearch = () => {\r\n        console.log(this.state);\r\n        const SEARCH_PATIENT_URL =\r\n        API_URL +\r\n            \"/users/search?name=\" +\r\n            this.state.name +\r\n            \"&surname=\" +\r\n            this.state.surname;\r\n\r\n        Axios.get(SEARCH_PATIENT_URL, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n            .then((res) => {\r\n\r\n\r\n                if (res.status === 401) {\r\n                    this.setState({\r\n                        redirect: true,\r\n                        redirectUrl: \"/unauthorized\"\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        patients: res.data\r\n                    });\r\n                }\r\n\r\n                console.log(res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n\r\n            \r\n    };\r\n\r\n\r\n    handlePatientClick = (patientId) => {\r\n        this.setState({\r\n            redirect: true,\r\n            redirectUrl: \"/patient-profile/\" + patientId\r\n        });\r\n    };\r\n\r\n    compareNames = (a, b) => {\r\n        if (a.EntityDTO.name < b.EntityDTO.name) {\r\n            return -1;\r\n        }\r\n        if (a.EntityDTO.name > b.EntityDTO.name) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    compareSurnames = (a, b) => {\r\n        if (a.EntityDTO.surname < b.EntityDTO.surname) {\r\n            return -1;\r\n        }\r\n        if (a.EntityDTO.surname > b.EntityDTO.surname) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    handleSortByNameAscending = () => {\r\n        this.state.patients.sort(this.compareNames);\r\n        this.setState(this.state);\r\n    };\r\n\r\n    handleSortByNameDescending = () => {\r\n        this.state.patients.sort(this.compareNames);\r\n        this.state.patients.reverse();\r\n        this.setState(this.state);\r\n    };\r\n\r\n    handleSortBySurnameAscending = () => {\r\n        this.state.patients.sort(this.compareSurnames);\r\n        this.setState(this.state);\r\n    };\r\n\r\n    handleSortBySurnameDescending = () => {\r\n        this.state.patients.sort(this.compareSurnames);\r\n        this.state.patients.reverse();\r\n        this.setState(this.state);\r\n    };\r\n\r\n    render() {\r\n\r\n        if (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Header />\r\n\r\n                <div className=\"container\" style={{ marginTop: \"-5%\" }}>\r\n                    <h1 className=\"table\" style={{ width: \"100%\", marginTop: \"5em\", marginLeft: \"9.5em\",marginRight: \"auto\" }}>PATIENTS</h1>\r\n                    <div className=\"col-lg-8 mx-auto\">\r\n                    \r\n                            <br />\r\n                            <form className=\"form-inline mt-3\" width=\"100%\">\r\n                                 <div className=\"form-group mb-2\" width=\"100%\">\r\n                                    <div className=\"dropdown mr-3\">\r\n                                        \r\n                                        <button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            style={{width:\"12.5em\"}}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSort by\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                                        <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByNameAscending}>\r\n                                            Name ascending\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                        <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByNameDescending}>\r\n                                            Name descending\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                        <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortBySurnameAscending}>\r\n                                            Surname ascending\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                        <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortBySurnameDescending}>\r\n                                            Surname descending\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </div>\r\n                                    </div>\r\n                                    <input\r\n                                        placeholder=\"Name\"\r\n                                        className=\"form-control mr-3\"\r\n                                        style={{ width: \"9em\" }}\r\n                                        type=\"text\"\r\n                                        onChange={this.handleNameChange}\r\n                                        value={this.state.name}\r\n                                    />\r\n                                    <input\r\n                                        placeholder=\"Surname\"\r\n                                        className=\"form-control mr-3\"\r\n                                        style={{ width: \"9em\" }}\r\n                                        type=\"text\"\r\n                                        onChange={this.handleSurnameChange}\r\n                                        value={this.state.surname}\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <button\r\n                                        onClick={this.handleSearch}\r\n                                        className=\"btn btn-primary btn-xl\"\r\n                                        type=\"button\"\r\n                                    >\r\n                                        <i className=\"icofont-search mr-1\"></i>\r\n                                        Search\r\n                                        \r\n                                    </button>\r\n                                    \r\n                                    \r\n                                </div>\r\n                            </form>\r\n                            \r\n                    </div>\r\n\r\n                    <table className=\"table table-hover\" style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n                        <tbody>\r\n                            {this.state.patients.map((patient) => (\r\n                                <tr id={patient.Id} key={patient.Id} onClick={() => this.handlePatientClick(patient.Id)} className=\"rounded\" style={{ cursor: \"pointer\" }}>\r\n                                    <td width=\"130em\">\r\n                                    <img\r\n                                            className=\"img-fluid\"\r\n                                            src={PatientIcon}\r\n                                            width=\"60em\"\r\n                                        />\r\n                                    </td>\r\n                                    <td>\r\n                                        <div>\r\n                                            <b>Name: </b> {patient.EntityDTO.name + \" \" + patient.EntityDTO.surname}\r\n                                        </div>\r\n                                        <div>\r\n                                            <b>Phone number: </b> {patient.EntityDTO.phoneNumber}\r\n                                        </div>\r\n                                        <div>\r\n                                            <b>Email: </b> {patient.EntityDTO.email}\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n             \r\n            </React.Fragment>);\r\n    }\r\n}\r\n\r\nexport default PatientsPage;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddDermatologistModal.js",["572","573","574"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Picture from \"../../Images/dermatologist.png\" ;\r\nimport Axios from 'axios';\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport HeadingSuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport HeadingAlert from \"../Alerts/UnsuccessfulAlert\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass AddDermatologistModal extends Component {\r\n    state = {\r\n        dermatologists:[],\r\n        showWorkTime:false,\r\n        dermatologistIdToAdd:'',\r\n        modalSize:'lg',    \r\n        selectedStartDate:new Date(),\r\n        selectedEndDate:new Date(),\r\n        timeFrom:1,\r\n        timeTo:2,    \r\n        pharmacyId:'',\r\n        hiddenSuccessAlert: true,\r\n\t\tsuccessHeader: \"\",\r\n\t\tsuccessMessage: \"\",\r\n\t\thiddenUnsuccessAlert: true,\r\n\t\tunsuccessHeader: \"\",\r\n\t\tunsuccessMessage: \"\",\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n    }\r\n\r\n    onAddClick = (id) =>{\r\n        console.log(this.props.pharmacyId);\r\n        this.setState({\r\n            showWorkTime: true,\r\n            dermatologistIdToAdd:id,\r\n            modalSize:'md'\r\n        });\r\n    }\r\n\r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n    };\r\n    \r\n    handleCloseAlertUnuccess = () => {\r\n\t\tthis.setState({ hiddenUnsuccessAlert: true });\r\n\t};\r\n\r\n   \r\n    handleAdd = () => {\r\n        let newDTO = {\r\n            pharmacyId : this.props.pharmacyId,\r\n            dermatologistId: this.state.dermatologistIdToAdd, \r\n            startDate: this.state.selectedStartDate, \r\n            endDate:this.state.selectedEndDate,\r\n            startTime: this.state.timeFrom, \r\n            endTime:this.state.timeTo\r\n        };\r\n        console.log(newDTO);\r\n        Axios\r\n        .put(API_URL + \"/users/addDermatologistInPharmacy\", newDTO, {\r\n            validateStatus: () => true,\r\n            headers: { Authorization:  GetAuthorisation() },\r\n        }).then((res) =>{\r\n            if (res.status === 200) {\r\n                this.setState({\r\n                    hiddenSuccessAlert: false,\r\n                    hiddenFailAlert:true,\r\n                    successHeader: \"Success\",\r\n                    successMessage: \"You successfully add new dermatologist.\",\r\n                })\r\n                \r\n               /// this.setState({showWorkTime: false, modalSize:'lg'});\r\n                \r\n            }else if(res.status===400){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenUnsuccessAlert: false, \r\n                    unsuccessHeader: \"Unsuccess\", \r\n                    unsuccessMessage: \"Dermatologist works in selected period.\"\r\n                });\r\n            }else if(res.status===500){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenUnsuccessAlert: false, \r\n                    unsuccessHeader: \"Unsuccess\", \r\n                    unsuccessMessage: \"We have internal server error,please try later\"\r\n                });\r\n            }\r\n            \r\n        }).catch((err) => {\r\n            console.log(err);\r\n            this.setState({ \r\n                hiddenSuccessAlert: true,\r\n                hiddenUnsuccessAlert: false, \r\n                unsuccessHeader: \"Unsuccess\", \r\n                unsuccessMessage: \"Error,please try later\"\r\n            });\r\n        });\r\n    }\r\n\r\n    handleBack = (event) =>{\r\n        this.setState({showWorkTime: false,modalSize:'lg'});\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        this.setState({\r\n            selectedStartDate:date,\r\n        });\r\n\r\n        if(date>this.state.selectedEndDate){\r\n            this.setState({\r\n                selectedEndDate:date,\r\n            }); \r\n        }\r\n    }\r\n\r\n\r\n    handleEndDateChange = (date) => {\r\n        this.setState({selectedEndDate:date});\r\n    }\r\n\r\n    handleTimeFromChange= (event) => {\r\n        if(event.target.value < 1){\r\n            this.setState({timeFrom:1});\r\n        }\r\n        else if(event.target.value > 23){\r\n            this.setState({timeFrom:23});\r\n        }\r\n        \r\n        if(event.target.value >= this.state.timeTo){\r\n            this.setState({\r\n                timeFrom:event.target.value,\r\n                timeTo: ++event.target.value\r\n            });\r\n        }else{\r\n            this.setState({timeFrom:event.target.value});\r\n        }\r\n    }\r\n\r\n    handleTimeToChange = (event) => {\r\n        \r\n        if(event.target.value < 2){\r\n            this.setState({timeTo:2});\r\n        }\r\n       else  if(event.target.value > 24){\r\n        this.setState({timeTo:24});\r\n        }\r\n            \r\n        if(event.target.value <= this.state.timeFrom){\r\n            this.setState({\r\n                timeTo:event.target.value,\r\n                timeFrom: --event.target.value\r\n            });\r\n        }else{\r\n            this.setState({timeTo:event.target.value});\r\n        }\r\n    }\r\n\r\n    handleCloseAlertSuccess = () =>{\r\n        this.setState({\r\n            hiddenSuccessAlert: true,\r\n            hiddenUnsuccessAlert: true,\r\n            showWorkTime: false, \r\n            modalSize:'lg',\r\n            selectedStartDate:new Date(),\r\n            selectedEndDate:new Date(),\r\n            timeFrom:1,\r\n            timeTo:2,\r\n        });\r\n        this.props.updateDermatologistsWhoarentInPharmacy();\r\n        this.handleBack();\r\n      \r\n    }\r\n\r\n    handleCloseModal = () => {\r\n        this.setState({\r\n            hiddenSuccessAlert: true,\r\n            hiddenUnsuccessAlert: true,\r\n            showWorkTime: false, \r\n            modalSize:'lg',\r\n            selectedStartDate:new Date(),\r\n            selectedEndDate:new Date(),\r\n            timeFrom:1,\r\n            timeTo:2,\r\n        });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                size = {this.state.modalSize}\r\n                dialogClassName=\"modal-100w-100h\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n                >\r\n            \r\n                <Modal.Body>\r\n                <HeadingSuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                        <HeadingAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.unsuccessHeader}\r\n                                message={this.state.unsuccessMessage}\r\n                                handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                <div className=\"container\">      \r\n                    <table hidden={this.state.showWorkTime} className=\"table\" style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n                        <tbody>\r\n                            {this.props.dermatologists.map((dermatologist) => (\r\n                                <tr id={dermatologist.Id} key={dermatologist.Id}>\r\n                                    <td width=\"130em\">\r\n                                    <img\r\n                                            className=\"img-fluid\"\r\n                                            src={Picture}\r\n                                            width=\"70em\"\r\n                                        />\r\n                                    </td>\r\n                                    <td>\r\n                                        <div>\r\n                                            <b>Name: </b> {dermatologist.EntityDTO.name}\r\n                                        </div>\r\n                                        <div>\r\n                                            <b>Surname: </b> {dermatologist.EntityDTO.surname}\r\n                                        </div>\r\n                                        <div>\r\n                                            <b>Email: </b> {dermatologist.EntityDTO.email}\r\n                                        </div>\r\n                                        <div>\r\n                                            <b>Phone number: </b> {dermatologist.EntityDTO.phoneNumber}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td >\r\n                                        <div style={{marginLeft:'25%'}}>\r\n                                            <button style={{height:'30px'},{verticalAlign:'center'},{marginTop:'17%'}} className=\"btn btn-primary btn-xl\" onClick={() => this.onAddClick(dermatologist.Id)} type=\"button\"><i className=\"icofont-subscribe mr-1\"></i>Add</button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    <div hidden={!this.state.showWorkTime}>\r\n                                <form >\r\n                                    <div  className=\"control-group\" >\r\n                                        <div className=\"form-row\">\r\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link \" type=\"button\">\r\n                                              \r\n                                                Back\r\n                                            </button>                   \r\n                                        </div>\r\n                                        <table style={{width:'100%'},{marginLeft:'15%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label >Date from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"14em\"}} minDate={new Date()} onChange={date => this.handleStartDateChange(date)} selected={this.state.selectedStartDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Date to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker  className=\"form-control\" style={{width: \"14em\"}}  minDate={this.state.selectedStartDate} onChange={date => this.handleEndDateChange(date)} selected={this.state.selectedEndDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time from\" className=\"form-control \" style={{width: \"12em\"}} type=\"number\" min=\"1\" max=\"23\" onChange={this.handleTimeFromChange} value={this.state.timeFrom} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time to\" className=\"form-control  \" style={{width: \"12em\"}} type=\"number\" min=\"2\" max=\"24\" onChange={this.handleTimeToChange} value={this.state.timeTo} />\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Add dermatologist</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n                                     \r\n                   \r\n                </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => this.handleCloseModal()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default AddDermatologistModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\CardList.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddAppointmentModal.js",["575"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Axios from 'axios';\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport HeadingAlert from \"../Alerts/UnsuccessfulAlert\"\r\nimport HeadingSuccessAlert from \"../Alerts/SuccessfulAlert\"\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass AddAppointmentModal extends Component {\r\n    state = {\r\n        selectedDate:new Date(),\r\n        dermatologist:'',\r\n        duration:'',\r\n        periods:[],\r\n        selectedPeriod: null,\r\n        price:1,\r\n        hiddenSuccessAlert: true,\r\n\t\tsuccessHeader: \"\",\r\n\t\tsuccessMessage: \"\",\r\n\t\thiddenFailAlert: true,\r\n\t\tfailHeader: \"\",\r\n\t\tfailMessage: \"\",\r\n\r\n    }\r\n\r\n\r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n    };\r\n    \r\n    handleCloseAlertFail = () => {\r\n\t\tthis.setState({ hiddenFailAlert: true });\r\n\t};\r\n\r\n    handleAddAppointment = () => {\r\n        \r\n       if(this.state.selectedPeriod!=null){\r\n            let appointmentDTO = {\r\n                dermatologistId : this.props.dermatologistId,\r\n                phId: this.props.pharmacyId, \r\n                startDateTime: this.state.selectedPeriod.startDate, \r\n                endDateTime:this.state.selectedPeriod.endDate,\r\n                price: this.state.price, \r\n                \r\n            };\r\n        console.log(appointmentDTO)\r\n        Axios\r\n        .post(API_URL + \"/appointment/createDermatologistsExaminatoin\", appointmentDTO, {\r\n            validateStatus: () => true,\r\n            headers: { Authorization:  GetAuthorisation() },\r\n        }).then((res) =>{\r\n            console.log(res.data);\r\n            if (res.status === 200) {\r\n                this.setState({\r\n                    hiddenSuccessAlert: false,\r\n                    hiddenFailAlert:true,\r\n                    successHeader: \"Success\",\r\n                    successMessage: \"You successfully add new appointment.\",\r\n                })\r\n                let paramsAAA = {\r\n                    dermatologistId: this.props.dermatologistId,\r\n                    phId:this.props.pharmacyId,\r\n                    date: this.state.selectedDate,\r\n                    duration: this.state.duration,\r\n                };\r\n\r\n                Axios.post(API_URL + \"/appointment/generateSuggestionsForTimePeriod\", paramsAAA ,{\r\n                    headers: { Authorization:  GetAuthorisation() },\r\n                }).then((res) => {\r\n                        this.setState({ periods: res.data, selectedPeriod:res.data[0]\r\n                        });\r\n                        console.log(res.data);\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }else if(res.status===400){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenFailAlert: false, \r\n                    failHeader: \"Unsuccess\", \r\n                    failMessage: \"Dermatologist has absence at selected day\"\r\n                });\r\n                \r\n            }else if(res.status===500){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenFailAlert: false, \r\n                    failHeader: \"Unsuccess\", \r\n                    failMessage: \"We have internal server problem. Please try later.\"\r\n                });\r\n            }\r\n        }).catch((err) => {\r\n            this.setState({ \r\n                hiddenSuccessAlert: true,\r\n                hiddenFailAlert: false, \r\n                failHeader: \"Unsuccess\", \r\n                failMessage: \"Please enter a valid data\"\r\n            });\r\n        });       \r\n        }\r\n        else{\r\n            this.setState({ \r\n                hiddenSuccessAlert: true,\r\n                hiddenFailAlert: false, \r\n                failHeader: \"Unsuccess\", \r\n                failMessage: \"Please enter a valid data\"\r\n            });        } \r\n    }\r\n\r\n    handleCloseAppointment= () => {\r\n        this.setState({\r\n            selectedDate:new Date(),\r\n            duration:'',\r\n            periods:[],\r\n            selectedPeriod:'',\r\n            price:1,\r\n            hiddenSuccessAlert: true,\r\n            hiddenFailAlert: true, \r\n        });\r\n        this.props.onCloseModal();\r\n    }\r\n\r\n    handleDermatologistChange = (event) => {\r\n        this.setState({ dermatologist: event.target.value });\r\n    };\r\n\r\n    handlePeriodsChange = (event) => {\r\n        this.setState({ selectedPeriod: this.state.periods[event.target.value] });\r\n    }\r\n\r\n    handleDateChange = (date) => {\r\n        this.setState({\r\n            selectedDate:date,\r\n            selectedPeriod:null,\r\n            periods:[],\r\n            duration:0,\r\n        });\r\n\r\n    }\r\n    \r\n    \r\n    handlePriceChange = (event) =>{\r\n\r\n        if(event.target.value<1){\r\n            this.setState({\r\n                price:1,\r\n            });\r\n        }else{\r\n            this.setState({\r\n                price:event.target.value,\r\n            });\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    handleCloseModal = () => {\r\n        this.setState({\r\n            price:1,\r\n        });    \r\n    }\r\n\r\n    handleSelectDurationChange = (event) => {\r\n        this.setState({\r\n            duration:event.target.value,\r\n        });\r\n\r\n        let paramsAAA = {\r\n            dermatologistId: this.props.dermatologistId,\r\n            phId:this.props.pharmacyId,\r\n            date: this.state.selectedDate,\r\n            duration: event.target.value\r\n        };\r\n        console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\r\n        console.log(paramsAAA);\r\n        if(event.target.value>=10 && event.target.value<=60){\r\n            Axios.post(API_URL + \"/appointment/generateSuggestionsForTimePeriod\",paramsAAA, {\r\n                headers: { Authorization:  GetAuthorisation() },\r\n            }).then((res) => {\r\n                    this.setState({ periods: res.data });\r\n                    console.log(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <Modal\r\n                onCloseModal={this.handleCloseModal}\r\n                show = {this.props.show}\r\n                size = \"md\"\r\n                dialogClassName=\"modal\"\r\n                centered>\r\n                <Modal.Header >\r\n                    <Modal.Title style={{marginLeft:'28%'}} >\r\n                        {this.props.header}\r\n                    </Modal.Title>\r\n\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <HeadingSuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                        <HeadingAlert\r\n                                hidden={this.state.hiddenFailAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseAlertFail}\r\n                        />\r\n                    <div >\r\n                        <form >\r\n                            <div  className=\"control-group\" >\r\n                                        <table style={{width:'100%'},{marginLeft:'7%'}}>\r\n                                            \r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Select date:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"20em\"}} minDate={this.state.selectedDate} onChange={date => this.handleDateChange(date)} selected={this.state.selectedDate}/>\r\n                                                    \r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Select duration:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Duration\" className=\"form-control\" style={{width: \"15em\"}} type=\"number\" min=\"10\" max=\"60\" onChange={this.handleSelectDurationChange} value={this.state.duration} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Select period:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <select onChange={this.handlePeriodsChange} className=\"form-control\" ><option key=\"1\" value=\"\"> </option>{this.state.periods.map((period,index) => <option key={index} value={index}>{new Date(period.startDate).toLocaleTimeString()} - {new Date(period.endDate).toLocaleTimeString()}</option>)}</select>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Price:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Price\" className=\"form-control\" style={{width: \"15em\"}} type=\"number\" min=\"1\" onChange={this.handlePriceChange} value={this.state.price} />\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAddAppointment()} >Add appointment</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => this.handleCloseAppointment()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default AddAppointmentModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\PharmaciesForEmployeeModal.js",["576","577","578","579"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport PharmacyLogoPicture from \"../../Images/pharmacyLogo.jpg\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\n\r\n\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\nclass PharmaciesForEmployee extends Component {\r\n\r\n  render() {\r\n    return (\r\n\r\n      <Modal show={this.props.show} size=\"md\" dialogClassName=\"modal\" centered>\r\n        <Modal.Header >\r\n          <Modal.Title  >\r\n            {\"Pharmacies\"}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Modal.Body>\r\n          <div className=\"container\">\r\n            <table className=\"table\" style={{ width: \"100%\" }}>\r\n              <tbody>\r\n                {\r\n                  this.props.pharmacies.map((pharmacy) => (\r\n\r\n                    <tr key={pharmacy.Id} id={pharmacy.Id} >\r\n\r\n                      <td width=\"100px\">\r\n\r\n                        <img src={PharmacyLogoPicture} width=\"70px\"></img>\r\n\r\n                      </td>\r\n\r\n                      <td>\r\n\r\n                        <div>\r\n                          <b>Name: </b>{pharmacy.EntityDTO.name}\r\n                        </div>\r\n\r\n                        <div>\r\n                          <b>Location: </b> {pharmacy.EntityDTO.address.street}, {\" \"} {pharmacy.EntityDTO.address.city},{\" \"}\r\n                          {pharmacy.EntityDTO.address.country}\r\n                        </div>\r\n\r\n                        <div>\r\n                          <b>Description: </b>{pharmacy.EntityDTO.description}\r\n                        </div>\r\n\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={() => this.props.onCloseModal()}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default PharmaciesForEmployee;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmacistsForPhAdmin.js",["580","581","582","583"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport Header from '../Header';\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport CardList from \"../card-components/CardList\";\r\nimport AddDermatologistModal from \"../Modal/AddDermatologistModal\";\r\nimport PharmacistCardList from \"../card-components/PharmacistCardList\";\r\nimport AddPharmacistModal from \"../Modal/AddPharmacistModal\";\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\n\r\nclass PharmacistsForPhAdmin extends Component {\r\n    state = {\r\n        pharmacists: [],\r\n        pharmacists1: [],\r\n\r\n        searchName:'',\r\n        searchSurname:'',\r\n        searchGradeFrom:'',\r\n        searchGradeTo:'',\r\n        workTimes: [],\r\n \r\n        showSearchForm: false,\r\n        showAddPharmacist: false\r\n    };\r\n\r\n    handleCloseAlertSuccess = () => {\r\n        this.setState({ hiddenSuccessAlert: true });\r\n    };\r\n\r\n    handleCloseAlertFail = () => {\r\n        this.setState({ hiddenFailAlert: true });\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        let pharmacyId = localStorage.getItem(\"keyPharmacyId\")\r\n        this.setState({\r\n            pharmacyId: pharmacyId\r\n        })\r\n\r\n        Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ pharmacists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({ showWorkTimesModal: false });\r\n    }\r\n\r\n   \r\n\r\n\r\n    handleFormShow = () => {\r\n        this.setState({ showSearchForm: !this.state.showSearchForm });\r\n    };\r\n\r\n    handleOpenAddPharmacistModal = () => {\r\n        this.setState({ showAddPharmacist: true });\r\n    }\r\n\r\n    handleAddPharmacistClose = () => {\r\n        Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ pharmacists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        this.setState({ showAddPharmacist: false });\r\n    }\r\n\r\n    handleUpdatePharmacists = () => {\r\n        Axios.get(API_URL + \"/users/pharmacistsSearch/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ pharmacists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    handleNameChange = (event) => {\r\n\t\tthis.setState({ searchName: event.target.value });\r\n    };\r\n    \r\n    handleSurnameChange = (event) => {\r\n\t\tthis.setState({ searchSurname: event.target.value });\r\n    };\r\n    \r\n    handleGradeFromChange = (event) => {\r\n\t\tthis.setState({ searchGradeFrom: event.target.value });\r\n\t};\r\n\r\n\thandleGradeToChange = (event) => {\r\n\t\tthis.setState({ searchGradeTo: event.target.value });\r\n    };\r\n\r\n    handleSortByGradeAscending = () =>{\r\n\r\n    }\r\n\r\n    handleSortByGradeDescending = () =>{\r\n\r\n    }\r\n    \r\n    handleSearch = () =>{\r\n    \r\n\t\t\tif (\r\n\t\t\t\t!(\r\n\t\t\t\t\tthis.state.searchGradeFrom === \"\" &&\r\n\t\t\t\t\tthis.state.searchGradeTo === \"\" &&\r\n\t\t\t\t\tthis.state.searchName === \"\" &&\r\n\t\t\t\t\tthis.state.searchSurname === \"\"\r\n\t\t\t\t)\r\n\t\t\t) {\r\n                let name = this.state.searchName;\r\n\t\t\t\tlet surname = this.state.searchSurname;\r\n\t\t\t\tlet gradeFrom = this.state.searchGradeFrom;\r\n\t\t\t\tlet gradeTo = this.state.searchGradeTo;\r\n\t\t\t\t\r\n\r\n\t\t\t\tif (gradeFrom === \"\") gradeFrom = -1;\r\n\t\t\t\tif (gradeTo === \"\") gradeTo = -1;\r\n\t\t\t\tif (name === \"\") name = '';\r\n\t\t\t\tif (surname === \"\") surname = '';\r\n\r\n                console.log(name);\r\n                console.log(surname);\r\n                console.log(gradeFrom);\r\n                console.log(gradeTo);\r\n\t\t\t\tAxios.get(API_URL + \"/users/pharmacistsSearch\", {\r\n                    params: {\r\n                        name: name,\r\n                        surname: surname,\r\n                        gradeFrom: gradeFrom,\r\n                        gradeTo: gradeTo,\r\n                        pharmacyId: localStorage.getItem(\"keyPharmacyId\")\r\n                    },\r\n                    validateStatus: () => true,\r\n                    headers: { Authorization: GetAuthorisation() },\r\n                })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tpharmacists: res.data,\r\n\t\t\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\t\t\tshowingSearched: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n        }   \r\n    \r\n\r\n     handleResetSearch = () => {\r\n\r\n        Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ \r\n                    pharmacists: res.data ,\r\n                    formShowed: false,\r\n\t\t\t\t\tshowingSearched: false,\r\n\t\t\t\t\tsearchName: \"\",\r\n                    searchSurname: \"\",\r\n                    searchGradeFrom: \"\",\r\n\t\t\t\t\tsearchGradeTo: \"\",\r\n\r\n                });\r\n                console.log(res.data);\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n            });\r\n        \r\n\t\r\n    };\r\n    render() {\r\n  \r\n        return (\r\n            <React.Fragment>\r\n\r\n\r\n\r\n                <Header />\r\n                <div className=\"container\" style={{ marginTop: \"5%\", marginBottom: \"5%\", marginLeft: \"6%\" }} >\r\n\r\n\r\n                    <button className=\"btn btn-primary \" type=\"button\" onClick={this.handleFormShow}>\r\n                        {this.state.showSearchForm ? \"Close search\" : \"Open search\"}\r\n                    </button>\r\n\r\n                    <button hidden={!this.state.showSearchForm} type=\"button\" class=\"btn btn-outline-primary btn-xl ml-2\" onClick={this.handleResetSearch}>\r\n\r\n                        Reset search\r\n\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-primary btn-xl ml-2\" onClick={this.handleOpenAddPharmacistModal}>\r\n\r\n                        Add pharmacist\r\n\r\n                    </button>\r\n\r\n                    <form className={\"form-inline mt-3\"} hidden={!this.state.showSearchForm} width=\"100%\">\r\n\r\n                        <div className=\"form-group\" width=\"100%\">\r\n\r\n                      \r\n                                <input\r\n                                    placeholder=\"Name\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleNameChange}\r\n                                    value={this.state.searchName}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"LastName\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleSurnameChange}\r\n                                    value={this.state.searchSurname}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"Grade from\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeFromChange}\r\n                                    value={this.state.searchGradeFrom}\r\n                                />\r\n                                <input\r\n                                    placeholder=\"Grade to\"\r\n                                    className=\"form-control\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeToChange}\r\n                                    value={this.state.searchGradeTo}\r\n                                />\r\n\r\n                            <button\r\n                                onClick={this.handleSearch}\r\n                                className=\"btn btn-outline-primary btn-xl ml-2\"\r\n                                type=\"button\"\r\n\r\n                            >\r\n                                Search\r\n                            </button>\r\n                       \r\n                        </div>\r\n\r\n\r\n\r\n                    </form>\r\n\r\n                </div>\r\n                <div className=\"container\">\r\n                    <PharmacistCardList pharmacists={this.state.pharmacists} pharmacyId={this.state.pharmacyId} updatePharmacists={this.handleUpdatePharmacists} />\r\n                    <AddPharmacistModal show={this.state.showAddPharmacist} onCloseModal={this.handleAddPharmacistClose} pharmacyId={this.state.pharmacyId} updatePharmacists={this.handleUpdatePharmacists}/>\r\n                </div>\r\n\r\n\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PharmacistsForPhAdmin","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\PharmacistCardList.js",["584"],"\r\nimport './card-list.styles.css';\r\nimport Card from './Card'\r\nimport React, { Component } from \"react\";\r\nimport PharmacistCard from './PharmacistCard';\r\n\r\nclass PharmacistCardList extends Component {\r\n\t\r\n    componentDidMount() {\r\n        \r\n    }\r\n\r\n    handleUpdatePharmacists =()=>{\r\n        this.props.updatePharmacists()\r\n    }\r\n    render() {\r\n\t\r\n        \r\n        console.log(this.props.pharmacyId)\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n                <div className='card-list'>{this.props.pharmacists.map((pharmacist)=>(\r\n            <PharmacistCard key={pharmacist.id} pharmacist={pharmacist} pharmacyId={this.props.pharmacyId} updatePharmacists={this.handleUpdatePharmacists}/>\r\n            ))}\r\n            </div>\r\n\t    </React.Fragment>\r\n        \r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PharmacistCardList;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\card-components\\PharmacistCard.js",["585","586"],"import React, { Component } from \"react\";\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport './card.styles.css'\r\nimport Picture from \"../../Images/pharmacist.png\" ;\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport ScheduleModalPharmacist from \"../Modal/ScheduleModalPharmacist\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\nclass PharmacistCard extends Component {\r\n\t\r\n    state = {\r\n        openScheduleModal: false,\r\n        workTimes:[],\r\n        employee: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n        \r\n}\r\n\r\nhasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  handleUpdateScheduleModal = () => {\r\n    if (this.hasRole(\"ROLE_PHARMACYADMIN\")) {  \r\n    console.log(\"aaaaaaaaaaaaaa\");\r\n    \r\n    Axios.get(API_URL + \"/users/scheduleForEmployee/\" + this.props.pharmacist.Id, {\r\n        headers: { Authorization: GetAuthorisation() },\r\n    })\r\n    .then((res) => {\r\n     \r\n        this.setState({ workTimes: res.data});\r\n        \r\n        console.log(res.data);\r\n       \r\n    })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    });\r\n    }\r\n    };\r\n\r\n    handleScheduleModal = (id) => {\r\n        if (this.hasRole(\"ROLE_PHARMACYADMIN\")) { \r\n        console.log(\"aaaaaaaaaaaaaa\");\r\n        console.log(id);\r\n        Axios.get(API_URL + \"/users/scheduleForEmployee/\" + id, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n        .then((res) => {\r\n            this.setState({ workTimes: res.data , employee:id});\r\n            console.log(res.data);\r\n            console.log(id);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n        this.setState({\r\n            openScheduleModal: true\r\n        });\r\n    }\r\n        };\r\n\r\n        handleModalClose = () => {\r\n            this.setState({openScheduleModal: false});\r\n        }\r\n\r\n        handleUpdatePharmacists =() =>{\r\n            this.setState({openScheduleModal: false});\r\n            this.props.updatePharmacists();\r\n        }\r\n\trender() {\r\n\t\r\n        console.log(this.props.pharmacist);\r\n        console.log(this.props.pharmacyId)\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n        <button className=\"card-style\" onClick={() => this.handleScheduleModal(this.props.pharmacist.Id)}>\r\n        <img className=\"img-fluid\" src={Picture}  />\r\n        <h2>{this.props.pharmacist.EntityDTO.name} {this.props.pharmacist.EntityDTO.surname}</h2>\r\n        <p>Email: {this.props.pharmacist.EntityDTO.email}</p>\r\n        <p>Phone: {this.props.pharmacist.EntityDTO.phoneNumber}</p>\r\n        <p>Grade: {this.props.pharmacist.EntityDTO.grade} <i className=\"icon-star\" style={{ color: \"yellow\"}}></i> </p>\r\n        \r\n        \r\n        </button>\r\n        \r\n        <ScheduleModalPharmacist show={this.state.openScheduleModal} update={this.handleUpdateScheduleModal} updatePharmacists={this.handleUpdatePharmacists} onCloseModal={this.handleModalClose} workTimes={this.state.workTimes}  employee ={this.props.pharmacist.Id} pharmacyId={this.props.pharmacyId} header=\"WorkTimes\" />\r\n\t    </React.Fragment>\r\n        \r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PharmacistCard;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\ScheduleModalPharmacist.js",["587","588","589","590","591","592","593","594"],"import React, { Component } from \"react\";\r\nimport { Button, CloseButton, Modal } from \"react-bootstrap\";\r\nimport Axios from \"axios\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport \"../card-components/card.styles.css\"\r\nimport ConfirmModal from \"./ConfirmModal\";\r\nimport AddAppointmentModal from \"./AddAppointmentModal\"\r\nimport PharmaciesForEmployee from \"./PharmaciesForEmployeeModal\";\r\nimport RemovePharmacistModal from \"./RemovePharmacistModal\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass ScheduleModalPharmacist extends Component {\r\n\tstate = {\r\n\t\tworkTimes: [],\r\n\t\tshowAnotherModal: false,\r\n\t\tselectedStartDate: new Date(),\r\n\t\tselectedEndDate: new Date(),\r\n\t\ttimeFrom: 1,\r\n\t\ttimeTo: 2,\r\n\t\tmodalSize: \"lg\",\r\n\t\thiddenConfirmModal: false,\r\n        showWorkTime: true,\r\n        hiddenSuccessAlert: true,\r\n        hiddenUnsuccessAlert: true, \r\n\t\tshowAddAppointment: false,\r\n        showPharmaciesForEmployee: false,\r\n        pharmacies:[]\r\n\t};\r\n\r\n    handleAdd = () => {\r\n        let workTimeDTO = {\r\n            pharmacyId : this.props.pharmacyId,\r\n            employee: this.props.employee, \r\n            startDate: this.state.selectedStartDate, \r\n            endDate:this.state.selectedEndDate,\r\n            startTime: this.state.timeFrom, \r\n            endTime:this.state.timeTo\r\n        };\r\n        console.log(workTimeDTO);\r\n        Axios\r\n        .put(API_URL + \"/users/addWorkTime\", workTimeDTO, {\r\n            validateStatus: () => true,\r\n            headers: { Authorization:  GetAuthorisation() },\r\n        }).then((res) =>{\r\n            if (res.status === 200) {\r\n                this.props.update();\r\n                this.setState({showWorkTime: true, modalSize:'lg'});\r\n                this.setState({\r\n                    \r\n                    hiddenSuccessAlert: false,\r\n                    hiddenUnsuccessAlert:true,\r\n                    successHeader: \"Success\",\r\n                    successMessage: \"You successfully add new work time.\",\r\n                })\r\n                \r\n                \r\n                \r\n            }else if(res.status===400){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenUnsuccessAlert: false, \r\n                    failHeader: \"Unsuccess\", \r\n                    failMessage: \"Dermatologist works at this date range\"\r\n                });\r\n            }else if(res.status===500){\r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenUnsuccessAlert: false, \r\n                    failHeader: \"Unsuccess\", \r\n                    failMessage: \"Server error,please try again later \"\r\n                });\r\n            }\r\n            \r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n\thandleClickOnClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowAnotherModal: false,\r\n\t\t\tmodalSize: \"lg\",\r\n\t\t\tselectedStartDate: new Date(),\r\n\t\t\tselectedEndDate: new Date(),\r\n\t\t\ttimeFrom: 1,\r\n\t\t\ttimeTo: 2,\r\n\t\t\t\r\n\t\t});\r\n\t\tthis.props.onCloseModal();\r\n\t};\r\n\r\n\thandleOpenConfirmModal = () => {\r\n\t\tthis.setState({ hiddenConfirmModal: true,showAnotherModal:true });\r\n      \r\n\t};\r\n\r\n    handleAddAppointmentModal = () => {\r\n\t\tthis.setState({ showAddAppointment: true,showAnotherModal:true });\r\n      \r\n\t};\r\n\r\n\thandleCloseConfirmModal = () => {\r\n\t\tthis.setState({ hiddenConfirmModal: false,showAnotherModal:false });\r\n      \r\n\t};\r\n\r\n  \r\n    handleClosePharmaciesForEmployeeModal = () => {\r\n\t\tthis.setState({ showPharmaciesForEmployee: false,showAnotherModal:false });\r\n      \r\n\t};\r\n    handleUpdatePharmacists = () => {\r\n\t\tthis.setState({ hiddenConfirmModal: false,showAnotherModal:false });\r\n        this.props.onCloseModal();\r\n        this.props.updatePharmacists();\r\n\t};\r\n    handleCloseAddAppModal = () => {\r\n\t\tthis.setState({ showAddAppointment: false,showAnotherModal:false });\r\n\t};\r\n\r\n    handleShowWorkTime = () => {\r\n\t\tthis.setState({ showWorkTime: false });\r\n\t};\r\n\r\n    handleBack = (event) =>{\r\n        this.setState({showWorkTime: true,modalSize:'lg'});\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        this.setState({\r\n            selectedStartDate:date,\r\n        });\r\n\r\n        if(date>this.state.selectedEndDate){\r\n            this.setState({\r\n                selectedEndDate:date,\r\n            }); \r\n        }\r\n    }\r\n\r\n\r\n    handleEndDateChange = (date) => {\r\n        this.setState({selectedEndDate:date});\r\n    }\r\n\r\n    handleTimeFromChange= (event) => {\r\n        if(event.target.value < 1){\r\n            this.setState({timeFrom:1});\r\n        }\r\n        else if(event.target.value > 23){\r\n            this.setState({timeFrom:23});\r\n        }\r\n        \r\n        if(event.target.value >= this.state.timeTo){\r\n            this.setState({\r\n                timeFrom:event.target.value,\r\n                timeTo: event.target.value++\r\n            });\r\n        }else{\r\n            this.setState({timeFrom:event.target.value});\r\n        }\r\n    }\r\n\r\n    handleTimeToChange = (event) => {\r\n        \r\n        if(event.target.value < 2){\r\n            this.setState({timeTo:2});\r\n        }\r\n       else  if(event.target.value > 24){\r\n        this.setState({timeTo:24});\r\n        }\r\n            \r\n        if(event.target.value <= this.state.timeFrom){\r\n            this.setState({\r\n                timeTo:event.target.value,\r\n                timeFrom: event.target.value--\r\n            });\r\n        }else{\r\n            this.setState({timeTo:event.target.value});\r\n        }\r\n    }\r\n\r\n    handleCloseSuccessAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n    };\r\n    \r\n    handleCloseUnsuccessAlert = () => {\r\n\t\tthis.setState({ hiddenUnsuccessAlert: true });\r\n\t};\r\n\r\n\trender() {\r\n        \r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tsize={this.state.modalSize}\r\n\t\t\t\tcentered\r\n                hidden={this.state.showAnotherModal}\r\n                \r\n\t\t\t>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Modal.Title style={{ marginLeft: \"38%\" }} >\r\n\t\t\t\t\t\t{this.props.header}\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\r\n                <SuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseSuccessAlert}\r\n                        />\r\n                        <UnsuccessAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseUnsuccessAlert}\r\n                        />\r\n\t\t\t\t\t<div hidden={!this.state.showWorkTime}>\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<table border=\"1\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Pharmacy</th>\r\n\t\t\t\t\t\t\t\t<th>StartDate</th>\r\n\t\t\t\t\t\t\t\t<th>EndDate</th>\r\n\t\t\t\t\t\t\t\t<th>StartTime</th>\r\n\t\t\t\t\t\t\t\t<th>EndTime</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{this.props.workTimes.map((workTime) => (\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>{workTime.EntityDTO.pharmacyName}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{new Date(workTime.EntityDTO.startDate).toDateString()}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{new Date(workTime.EntityDTO.endDate).toDateString()}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{workTime.EntityDTO.startTime}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{workTime.EntityDTO.endTime}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</table>\r\n\r\n                       \r\n\r\n                        \r\n                        \r\n\t\t\t\t\t</div>\r\n                    <div hidden={this.state.showWorkTime}>\r\n                                <form >\r\n                                    <div  className=\"control-group\" >\r\n                                        <div className=\"form-row\">\r\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link btn-xl\" type=\"button\">\r\n                                              \r\n                                                Back\r\n                                            </button>                   \r\n                                        </div>\r\n                                        <table style={{width:'100%'},{marginLeft:'15%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label >Date from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"14em\"}} minDate={new Date()} onChange={date => this.handleStartDateChange(date)} selected={this.state.selectedStartDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Date to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker  className=\"form-control\" style={{width: \"14em\"}}  minDate={this.state.selectedStartDate} onChange={date => this.handleEndDateChange(date)} selected={this.state.selectedEndDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time from\" className=\"form-control ml-2\" style={{width: \"12em\"}} type=\"number\" min=\"1\" max=\"23\" onChange={this.handleTimeFromChange} value={this.state.timeFrom} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time to\" className=\"form-control ml-2 \" style={{width: \"12em\"}} type=\"number\" min=\"2\" max=\"24\" onChange={this.handleTimeToChange} value={this.state.timeTo} />\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Add Work Time</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n\t\t\t\r\n                    <div class=\"modal-footer \" style={{float: 'right'}}>\r\n\r\n                    \r\n                    </div>\r\n              \r\n                    <RemovePharmacistModal show={this.state.hiddenConfirmModal}  handleCloseAlert={this.handleCloseConfirmModal} updatePharmacists={this.handleUpdatePharmacists} pharmacyId={this.props.pharmacyId} pharmacistId={this.props.employee} header=\"Removing pharmacist\" />\r\n                </Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n                <button hidden={!this.state.showWorkTime} type=\"button\" class=\"btn btn-secondary mr-auto\" type=\"button\"  onClick={() => this.handleOpenConfirmModal()}>Remove Pharmacist</button>\r\n                <Button hidden={!this.state.showWorkTime} onClick={() => this.handleShowWorkTime()} className=\"float-right\" style={{float: 'right'}} >\r\n\t\t\t\t\t\t\tAdd worktime\r\n\t\t\t\t\t\t</Button>\r\n                    <Button onClick={() => this.handleClickOnClose()}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ScheduleModalPharmacist;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\RemovePharmacistModal.js",["595","596","597"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass RemovePharmacistModal extends Component {\r\n    state = {\r\n        hiddenSuccessAlert: true,\r\n        hiddenUnsuccessAlert:true,\r\n       \r\n       \r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n \r\n    handleRemovePharamcist = () =>{\r\n        console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\r\n           console.log(this.props.pharmacistId);        \r\n       \r\n\r\n                    let removeDTO = {\r\n                        employeeId: this.props.pharmacistId,\r\n                        pharmacyId: this.props.pharmacyId,\r\n                    };\r\n                    \r\n                    Axios.put(API_URL + \"/users/removePharmacistFromPharmacy\",removeDTO, {\r\n                      \r\n                        validateStatus: () => true,\r\n                        headers: { Authorization:  GetAuthorisation() },\r\n                    }).then((res) =>{\r\n                        if (res.status === 200) {\r\n                        this.setState({\r\n                            hiddenSuccessAlert: false,\r\n                            hiddenUnsuccessAlert:true,\r\n                            successHeader: \"Success\",\r\n                            successMessage: \"You successfully remove dermatologist.\"\r\n                        });\r\n                    }else if (res.status === 400){\r\n                        this.setState({ \r\n                            hiddenSuccessAlert: true,\r\n                            hiddenUnsuccessAlert: false, \r\n                            failHeader: \"Unsuccess\", \r\n                            failMessage: \"Pharmacist has scheduled appointments.\"});\r\n                    \r\n                    }\r\n                    }).catch((err) => {\r\n                       \r\n                        console.log(err);\r\n                        this.setState({ \r\n                            hiddenSuccessAlert: true,\r\n                            hiddenUnsuccessAlert: false, \r\n                            failHeader: \"Unsuccess\", \r\n                            failMessage: \"It is not possible to remove the pharmacist\"});\r\n                    });\r\n            \r\n       \r\n    };\r\n\r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n        this.props.handleCloseAlert();\r\n        this.props.updatePharmacists();\r\n    };\r\n    \r\n    handleCloseUnsuccessAlert = () => {\r\n\t\tthis.setState({ hiddenFailAlert: true });\r\n        this.props.handleCloseAlert();\r\n\t};\r\n\r\n    render() { \r\n        console.log(this.props.show);\r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                centered\r\n               \r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title style={{marginLeft:'19%'}} >\r\n                        {this.props.header}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                <div className=\"container\">      \r\n                <SuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                        <UnsuccessAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseUnsuccessAlert}\r\n                        />\r\n                   <p>Are you sure to remove dermatologist?</p>\r\n                </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.handleRemovePharamcist()}>Yes</button> \r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.props.handleCloseAlert()}>No</button> \r\n\t\t\t\t\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default RemovePharmacistModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddPharmacistModal.js",["598","599","600"],"import Header from \"../../Components/Header\";\r\nimport React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nclass AddPharmacistModal extends Component {\r\n\r\n    state = {\r\n        selectedStartDate: new Date(),\r\n\t\tselectedEndDate: new Date(),\r\n\t\ttimeFrom: 1,\r\n\t\ttimeTo: 2,\r\n        errorHeader: \"\",\r\n        errorMessage: \"\",\r\n        hiddenErrorAlert: true,\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        userRegister: \"\",\r\n        surname: \"\",\r\n        address: \"\",\r\n        openModalData: false,\r\n        phoneNumber: \"\",\r\n        emailError: \"none\",\r\n        passwordError: \"none\",\r\n        nameError: \"none\",\r\n        surnameError: \"none\",\r\n        addressError: \"none\",\r\n        phoneError: \"none\",\r\n        employeeError: \"none\",\r\n        emailNotValid: \"none\",\r\n        openModal: false,\r\n        \r\n        pharmacy: \"\",\r\n       \r\n        selectValue: \"\",\r\n     \r\n        showWorkTime:true\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.addressInput = React.createRef();\r\n    }\r\n\r\n    handleShowWorkTime = () => {\r\n        \r\n        let userDTO = {\r\n            email: this.state.email,\r\n            name: this.state.name,\r\n            surname: this.state.surname,\r\n            address: this.state.address,\r\n            phoneNumber: this.state.phoneNumber,\r\n            password: this.state.password,\r\n        };\r\n        if (this.validateForm(userDTO)) {\r\n\t\tthis.setState({ showWorkTime: false });\r\n        }\r\n\t};\r\n\r\n\r\n    handleModalEmailClose = () => {\r\n        this.setState({\r\n            openModalEmail: false,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n\r\n  \r\n\r\n    }\r\n\r\n\r\n    handleEmailChange = (event) => {\r\n        this.setState({ email: event.target.value });\r\n    };\r\n    handlePharmacyChange = (event) => {\r\n        this.setState({ pharmacy: event.target.value });\r\n    };\r\n\r\n    handlePasswordChange = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    };\r\n\r\n    handleNameChange = (event) => {\r\n        this.setState({ name: event.target.value });\r\n    };\r\n\r\n    handleSurnameChange = (event) => {\r\n        this.setState({ surname: event.target.value });\r\n    };\r\n\r\n    handleAddressChange = (event) => {\r\n        this.setState({ address: event.target.value });\r\n    };\r\n\r\n    handlePhoneNumberChange = (event) => {\r\n        this.setState({ phoneNumber: event.target.value });\r\n    };\r\n\r\n\r\n\r\n    validateForm = (userDTO) => {\r\n\r\n        this.setState({\r\n            emailError: \"none\",\r\n            emailNotValid: \"none\",\r\n            nameError: \"none\",\r\n            surnameError: \"none\",\r\n            addressError: \"none\",\r\n            phoneError: \"none\",\r\n\r\n        });\r\n\r\n        if (userDTO.email === \"\") {\r\n            this.setState({ emailError: \"initial\" });\r\n            return false;\r\n        } else if (!userDTO.email.includes(\"@\")) {\r\n            this.setState({ emailNotValid: \"initial\" });\r\n            return false;\r\n        } else if (userDTO.name === \"\") {\r\n            this.setState({ nameError: \"initial\" });\r\n            return false;\r\n        } else if (userDTO.surname === \"\") {\r\n            this.setState({ surnameError: \"initial\" });\r\n            return false;\r\n        } else if (userDTO.address === \"\") {\r\n            this.setState({ addressError: \"initial\" });\r\n            return false;\r\n        } else if (userDTO.phoneNumber === \"\") {\r\n            this.setState({ phoneError: \"initial\" });\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n\r\n\r\n\thandleClickOnClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowWorkTime: true,\r\n\t\t\tselectedStartDate: new Date(),\r\n\t\t\tselectedEndDate: new Date(),\r\n\t\t\ttimeFrom: 1,\r\n\t\t\ttimeTo: 2,\r\n\t\t\t\r\n\t\t});\r\n\t\tthis.props.onCloseModal();\r\n\t};\r\n\r\n    validateEmployee = (employee) => {\r\n\r\n        this.setState({\r\n            employeeError: \"none\"\r\n        });\r\n\r\n        if (employee === \"\") {\r\n            this.setState({ employeeError: \"initial\" });\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    handleSignUp = () => {\r\n\r\n\r\n        let userDTO = {\r\n            email: this.state.email,\r\n            name: this.state.name,\r\n            surname: this.state.surname,\r\n            address: this.state.address,\r\n            phoneNumber: this.state.phoneNumber,\r\n            password: this.state.password,\r\n        };\r\n        if (this.validateForm(userDTO)) {\r\n                Axios.post(\"http://localhost:8080/reg/signup-pharmacist/\"+this.props.pharmacyId, userDTO, { headers: { Authorization: GetAuthorisation() } })\r\n                    .then((res) => {\r\n                        if (res.status === 400) {\r\n                            alert(\"Email already exists\");\r\n                        } else if (res.status === 500) {\r\n                            console.log(\"USO\")\r\n                            alert(\"Error\");\r\n                        } else {\r\n                            console.log(res.data);\r\n                            console.log(\"Success\");\r\n                            let workTimeDTO = {\r\n                                pharmacyId : this.props.pharmacyId,\r\n                                employee: res.data, \r\n                                startDate: this.state.selectedStartDate, \r\n                                endDate:this.state.selectedEndDate,\r\n                                startTime: this.state.timeFrom, \r\n                                endTime:this.state.timeTo\r\n                            };\r\n                            console.log(workTimeDTO);\r\n                            Axios\r\n                            .put(\"http://localhost:8080/users/addWorkTime\", workTimeDTO, {\r\n                                validateStatus: () => true,\r\n                                headers: { Authorization:  GetAuthorisation() },\r\n                            }).then((res) =>{\r\n                              console.log(res.data);                            \r\n                            \r\n                            }).catch((err) => {\r\n                                console.log(err);\r\n                            });\r\n\r\n                            alert(\"You have successfully registered pharmacist with password \"+ res.data);\r\n                            this.handleClickOnClose();\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }\r\n\r\n        \r\n         \r\n    };\r\n    handleCloseAlert = () => {\r\n        this.setState({ hiddenErrorAlert: true });\r\n    };\r\n    handleSelectChange = (event) => {\r\n        this.setState({ selectValue: event.target.value });\r\n    };\r\n\r\n    handleBack = (event) =>{\r\n\r\n        this.setState({showWorkTime: true});\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        this.setState({\r\n            selectedStartDate:date,\r\n        });\r\n\r\n        if(date>this.state.selectedEndDate){\r\n            this.setState({\r\n                selectedEndDate:date,\r\n            }); \r\n        }\r\n    }\r\n\r\n\r\n    handleEndDateChange = (date) => {\r\n        this.setState({selectedEndDate:date});\r\n    }\r\n\r\n    handleTimeFromChange= (event) => {\r\n        if(event.target.value < 1){\r\n            this.setState({timeFrom:1});\r\n        }\r\n        else if(event.target.value > 23){\r\n            this.setState({timeFrom:23});\r\n        }\r\n        \r\n        if(event.target.value >= this.state.timeTo){\r\n            this.setState({\r\n                timeFrom:event.target.value,\r\n                timeTo: event.target.value++\r\n            });\r\n        }else{\r\n            this.setState({timeFrom:event.target.value});\r\n        }\r\n    }\r\n\r\n    handleTimeToChange = (event) => {\r\n        \r\n        if(event.target.value < 2){\r\n            this.setState({timeTo:2});\r\n        }\r\n       else  if(event.target.value > 24){\r\n        this.setState({timeTo:24});\r\n        }\r\n            \r\n        if(event.target.value <= this.state.timeFrom){\r\n            this.setState({\r\n                timeTo:event.target.value,\r\n                timeFrom: event.target.value--\r\n            });\r\n        }else{\r\n            this.setState({timeTo:event.target.value});\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <Modal show={this.props.show} centered size={\"lg\"}>\r\n                \r\n        \r\n                <Modal.Header >\r\n                    <Modal.Title style={{ marginLeft: '36%' }} >\r\n                        Register Pharmacist\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div className=\"container\"  hidden={!this.state.showWorkTime}>\r\n                        <div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\r\n\r\n\r\n\r\n                        \r\n\r\n\r\n\r\n                            <div className=\"row section-design\">\r\n                                <div className=\"col-lg-8 mx-auto\">\r\n                                    <br />\r\n                                    <form id=\"contactForm\" name=\"sentMessage\" novalidate=\"novalidate\">\r\n                                        <div className=\"control-group\">\r\n                                            <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                                                <label>Name:</label>\r\n                                                <input\r\n                                                    placeholder=\"Name\"\r\n                                                    class=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    id=\"name\"\r\n                                                    onChange={this.handleNameChange}\r\n                                                    value={this.state.name}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                                                Name must be entered.\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"control-group\">\r\n                                            <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                                                <label>Surname:</label>\r\n                                                <input\r\n                                                    placeholder=\"Surname\"\r\n                                                    class=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    id=\"surname\"\r\n                                                    onChange={this.handleSurnameChange}\r\n                                                    value={this.state.surname}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"text-danger\" style={{ display: this.state.surnameError }}>\r\n                                                Surname must be entered.\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"control-group\">\r\n                                            <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                                                <label>Address:</label>\r\n                                                <input\r\n                                                    placeholder=\"Address\"\r\n                                                    class=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    id=\"address\"\r\n                                                    onChange={this.handleAddressChange}\r\n                                                    value={this.state.address}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"text-danger\" style={{ display: this.state.addressError }}>\r\n                                                Address must be entered.\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"control-group\">\r\n                                            <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                                                <label>Email address:</label>\r\n                                                <input\r\n                                                    placeholder=\"Email address\"\r\n                                                    className=\"form-control\"\r\n                                                    id=\"email\"\r\n                                                    type=\"text\"\r\n                                                    onChange={this.handleEmailChange}\r\n                                                    value={this.state.email}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"text-danger\" style={{ display: this.state.emailError }}>\r\n                                                Email address must be entered.\r\n                                            </div>\r\n                                            <div className=\"text-danger\" style={{ display: this.state.emailNotValid }}>\r\n                                                Email address is not valid.\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"control-group\">\r\n                                            <div className=\"form-group controls mb-0 pb-2\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n                                                <label>Phone number:</label>\r\n                                                <input\r\n                                                    placeholder=\"Phone number\"\r\n                                                    class=\"form-control\"\r\n                                                    id=\"phone\"\r\n                                                    type=\"text\"\r\n                                                    onChange={this.handlePhoneNumberChange}\r\n                                                    value={this.state.phoneNumber}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"text-danger\" style={{ display: this.state.phoneError }}>\r\n                                                Phone number must be entered.\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group\">\r\n                                            <button\r\n                                                style={{\r\n                                                    background: \"#1977cc\",\r\n                                                    marginTop: \"15px\",\r\n                                                    marginLeft: \"40%\",\r\n                                                    width: \"20%\",\r\n                                                }}\r\n                                                onClick={this.handleShowWorkTime}\r\n                                                className=\"btn btn-primary btn-xl\"\r\n                                                id=\"sendMessageButton\"\r\n                                                type=\"button\"\r\n                                            >\r\n                                                Next\r\n                                            </button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                       </div> \r\n\r\n                       <div hidden={this.state.showWorkTime}>\r\n                                <form >\r\n                                <h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n                                Add Work Time\r\n                            </h5>\r\n                                    <div  className=\"control-group\" >\r\n                                        <div className=\"form-row\">\r\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link btn-xl\" type=\"button\">\r\n                                              \r\n                                                Back\r\n                                            </button>                   \r\n                                        </div>\r\n                                        <table style={{width:'100%'},{marginLeft:'25%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label >Date from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"14em\"}} minDate={new Date()} onChange={date => this.handleStartDateChange(date)} selected={this.state.selectedStartDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Date to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker  className=\"form-control\" style={{width: \"14em\"}}  minDate={this.state.selectedStartDate} onChange={date => this.handleEndDateChange(date)} selected={this.state.selectedEndDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time from\" className=\"form-control ml-2\" style={{width: \"12em\"}} type=\"number\" min=\"1\" max=\"23\" onChange={this.handleTimeFromChange} value={this.state.timeFrom} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Time to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Time to\" className=\"form-control ml-2 \" style={{width: \"12em\"}} type=\"number\" min=\"2\" max=\"24\" onChange={this.handleTimeToChange} value={this.state.timeTo} />\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleSignUp()} >Sign Up</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n\t\t\t\r\n                </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={() => this.handleClickOnClose()}>Close</Button>\r\n                    </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\nexport default AddPharmacistModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\DrugsForPharmacyAdmin.js",["601","602","603","604","605","606","607","608"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport MedicamentPicture from \"../Images/medicament.jpg\";\r\nimport DrugSpecificationModal from \"./DrugSpecification\";\r\nimport GetAuthorisation from \"../../src/Funciton/GetAuthorisation\"\r\nimport PharmaciesWithDrugAndPrice from '../Components/Pharmacies/PharmaciesWithDrugAndPrice';\r\nimport ReservationDrugModal from \"./Modal/ReservationDrugsModal\";\r\nimport FirstGradeModal from \"../Components/Modal/FirstGradeModal\";\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport AddDrugModal from \"./Modal/AddDrugModal\";\r\nimport EditDrugPriceModal from \"./Modal/EditDrugPriceModal\";\r\nimport AddActionPromotionModal from \"./Modal/AddActionPromotionModal\";\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; \r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport EditStorage from \"./Modal/EditStorageModal\";\r\nimport AddOrderModal from \"./Modal/AddOrder\";\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\nclass DrugsForPharmacyAdmin extends Component {\r\n\r\n\r\n\r\n\tstate = {\r\n\t\tdrugs: [],\r\n\t\tdrugs1: [],\r\n\t\tdrugAmount: \"\",\r\n\t\tdrugQuantity: \"\",\r\n\t\tdrugManufacturer: \"\",\r\n\t\tdrugName: \"\",\r\n\t    drugFormat: \"\",\r\n\t\t\r\n\r\n\t\tsearchName: \"\",\r\n\t\tsearchGradeFrom: \"\",\r\n\t\tsearchGradeTo: \"\",\r\n\r\n\t\tgrade: 1,\r\n\t\r\n\r\n\t\tpharmacyId: \"\",\r\n\t\tmaxCount: \"\",\r\n\t\tprice: 0,\r\n\t\tdrugId: \"\",\r\n\t\t\r\n\r\n\t\thiddenSuccessfulAlert: true,\r\n\t\tsuccessfulHeader: \"\",\r\n\t\tsuccessfulMessage: \"\",\r\n\t\thiddenUnsuccessfulAlert: true,\r\n\t\tunsuccessfulHeader: \"\",\r\n\t\tunsuccessfulMessage: \"\",\r\n\t\tshowEditStorage:false,\r\n\t\tshowAddDrug: false ,\r\n\t\tshowEditDrugPrice: false ,\r\n\t\tsearchMan: \"\",\r\n\t\t\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet pharmacyId = localStorage.getItem(\"keyPharmacyId\")\r\n        this.setState({\r\n            pharmacyId: pharmacyId\r\n        })\r\n\t\tAxios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ drugs: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t}\r\n\r\n\r\n\thandleManChange = (event) => {\r\n\t\tthis.setState({ searchMan: event.target.value });\r\n\t};\r\n\r\n\thandleFormToogle = () => {\r\n\t\tthis.setState({ formShowed: !this.state.formShowed });\r\n\t};\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ searchName: event.target.value });\r\n\t};\r\n\r\n\thandleGradeFromChange = (event) => {\r\n\t\tthis.setState({ searchGradeFrom: event.target.value });\r\n\t};\r\n\r\n\thandleGradeToChange = (event) => {\r\n\t\tthis.setState({ searchGradeTo: event.target.value });\r\n\t};\r\n\r\n\thandleResetSearch = () => {\r\n\t\tAxios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdrugs: res.data,\r\n\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\tshowingSearched: false,\r\n\t\t\t\t\tsearchName: \"\",\r\n\t\t\t\t\tsearchGradeFrom: \"\",\r\n\t\t\t\t\tsearchGradeTo: \"\",\r\n\t\t\t\t\tsearchMan:\"\"\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\t};\r\n\r\n\r\n\thandleSearchClick = () => {\r\n\t\t{\r\n\t\t\tlet gradeFrom = this.state.searchGradeFrom;\r\n\t\t\tlet gradeTo = this.state.searchGradeTo;\r\n\t\t\tlet name = this.state.searchName;\r\n\t\t\tlet searchMan = this.state.searchMan;\r\n\r\n\t\t\tif (gradeFrom === \"\") gradeFrom = -1;\r\n\t\t\tif (gradeTo === \"\") gradeTo = -1;\r\n\t\t\tif (name === \"\") name = \"\";\r\n\t\t\tif (searchMan === \"\") searchMan = \"\";\r\n\r\n\t\t\tAxios.get(\"http://localhost:8080/drug/searchDrugsInPharmacy\", {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tgradeFrom: gradeFrom,\r\n\t\t\t\t\tgradeTo: gradeTo,\r\n\t\t\t\t\tmanufacturer: searchMan,\r\n\t\t\t\t\tpharmacyId: localStorage.getItem(\"keyPharmacyId\")\r\n\t\t\t\t},\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdrugs: res.data,\r\n\t\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\t\tshowingSearched: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ specificationModalShow: false });\r\n\t};\r\n\r\n\r\n\thandleOpenAddOrder = () => {\r\n\t\tthis.setState({ showAddOrder: true });\r\n\t};\r\n\r\n\thandleOpenEditStorage = (id) => {\r\n\t\tthis.setState({ showEditStorage: true , drugId:id});\r\n\t};\r\n\thandleOpenEditDrugPrice = (id) => {\r\n\t\tthis.setState({ showEditDrugPrice: true , drugId:id});\r\n\t};\r\n\r\n\thandleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\thandleAddDrug = () => {\r\n\t\tAxios.get(API_URL + \"/drug/drugsWhichArentInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        }).then((res) => {\r\n            this.setState({ drugs1: res.data });\r\n            console.log(res.data);\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n\t\tthis.setState({ showAddDrug: true });\r\n    }\r\n\r\n\thandleAddDrugClose = () => {\r\n        Axios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ drugs: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        this.setState({ showAddDrug: false });\r\n    }\r\n\r\n\thandleEditPriceClose = () => {\r\n        Axios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ drugs: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        this.setState({ showEditDrugPrice: false ,showEditStorage:false,showAddOrder:false});\r\n    }\r\n\r\n\thandleUpdateDrugsWhicharentInPharmacy = () => {\r\n        Axios.get(API_URL + \"/drug/drugsWhichArentInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        }).then((res) => {\r\n            this.setState({ drugs1: res.data });\r\n            console.log(res.data);\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }\r\n\r\n\thandleRemoveDrug = (id) =>{\r\n\r\n        confirmAlert({\r\n            message: 'Are you sure to remove drug from pharmacy.',\r\n            buttons: [\r\n              {\r\n                label: 'Yes',\r\n                onClick: () => {\r\n                    let removeDrugDTO = {\r\n                        pharmacyId : this.state.pharmacyId,\r\n                        drugId: id,\r\n                    };\r\n\t\t\t\t\tconsole.log(removeDrugDTO);\r\n                    Axios\r\n                    .put(API_URL + \"/drug/removeDrugFromPharmacy\", removeDrugDTO, {\r\n                        headers: { Authorization: GetAuthorisation() },\r\n                    }).then((res) =>{\r\n                        console.log(res.data);\r\n\t\t\t\t\t\tif(res.status==200){\r\n                        this.setState({\r\n                            hiddenSuccessfulAlert: false,\r\n                            hiddenUnsuccessfulAlert:true,\r\n                            successfulHeader: \"Success\",\r\n                            successfulMessage: \"Drug is successfully removed.\",\r\n                        })\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\t\thiddenSuccessfulAlert: true,\r\n\t\t\t\t\t\t\t\thiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\t\t\t\tunsuccessfulHeader: \"Unsuccess\", \r\n\t\t\t\t\t\t\t\tunsuccessfulMessage: \"It is not possible to remove the drug\"});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.handleAddDrugClose();\r\n                        \r\n                    }).catch((err) => {\r\n                        this.setState({ \r\n                            hiddenSuccessfulAlert: true,\r\n                            hiddenUnsuccessfulAlert: false, \r\n                            unsuccessfulHeader: \"Unsuccess\", \r\n                            unsuccessfulMessage: \"It is not possible to remove the drug\"});\r\n                    });\r\n                }\r\n              },\r\n              {\r\n                label: 'No',\r\n                onClick: () => {\r\n                    \r\n                }\r\n              }\r\n            ]\r\n        });\r\n       \r\n    }\r\n\trender() {\r\n\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<React.Fragment>\r\n\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div id=\"allDrugs\" >\r\n\r\n\t\t\t\t\t<div className=\"container\" style={{ marginTop: \"1em\" }} >\r\n\t\t\t\t\t\t<h2 className=\" text-center  mt-2 text-uppercase\">Drugs</h2>\r\n\t\t\t\t\t\t<SuccessfulAlert\r\n\t\t\t\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\t\t\t\theader={this.state.unsuccessfulHeader}\r\n\t\t\t\t\t\t\tmessage={this.state.unsuccessfulMessage}\r\n\t\t\t\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div style={{ width: \"70%\", marginTop: \"3em\", marginLeft: \"auto\", marginRight: \"auto\" }} width=\"100%\">\r\n\r\n\r\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary btn-xl\" type=\"button\" onClick={this.handleFormToogle}>\r\n\r\n\t\t\t\t\t\t\tSearch drugs\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button className=\"btn btn-primary btn-xl\" type=\"button\" onClick={this.handleAddDrug} style={{ marginLeft: \"2%\" }}>\r\n\r\n\t\t\t\t\t\t\tAdd drug\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button className=\"btn btn-primary btn-xl\" type=\"button\" onClick={this.handleOpenAddOrder} style={{ marginLeft: \"2%\" }}>\r\n\r\n\t\t\t\t\t\t\tCreate order\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<form className={this.state.formShowed ? \"form-inline mt-3\" : \"form-inline mt-3 collapse\"} width=\"100%\" id=\"formCollapse\">\r\n\t\t\t\t\t\t\t<div className=\"form-group mb-2\" width=\"100%\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchName}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Manufacturer\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleManChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchMan}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Grade from\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"5\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleGradeFromChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchGradeFrom}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Grade to\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"5\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleGradeToChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchGradeTo}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleSearchClick}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-x2\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"icofont-search mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t<div className={this.state.showingSearched ? \"form-group mt-2\" : \"form-group mt-2 collapse\"}>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-secondary\" onClick={this.handleResetSearch}>\r\n\t\t\t\t\t\t\t\t<i className=\"icofont-close-line mr-1\"></i>Reset\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t<table className={\"table\"} style={{ width: \"75%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.drugs.map((drug) => (\r\n\t\t\t\t\t\t\t\t\t<tr id={drug.Id} key={drug.Id} >\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"130em\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: \"40%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td >\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Drug Name:</b> {drug.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Name:</b> {drug.EntityDTO.fabricCode}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Price:</b> {drug.EntityDTO.price}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Manufacturer:</b> {drug.EntityDTO.producerName}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Quantity:</b> {drug.EntityDTO.quantity} <b> mg</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Format:</b> {drug.EntityDTO.drugFormat}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Count:</b> {drug.EntityDTO.count}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Grade:</b> {drug.EntityDTO.avgGrade}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\" }}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"25%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleOpenEditStorage(drug.Id)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit Storage\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleOpenEditDrugPrice(drug.Id)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit Drug Price\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleRemoveDrug(drug.Id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemove Drug\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<AddDrugModal show={this.state.showAddDrug} closeModal={this.handleAddDrugClose} drugs={this.state.drugs1} pharmacyId={this.state.pharmacyId} updateDrugsWhicharentInPharmacy={this.handleUpdateDrugsWhicharentInPharmacy} />\r\n\t\t\t\t\t<EditDrugPriceModal show={this.state.showEditDrugPrice}  closeModal={this.handleEditPriceClose} drugId={this.state.drugId} pharmacyId={this.state.pharmacyId}/> \r\n\t\t\t\t\t<EditStorage show={this.state.showEditStorage} closeModal={this.handleEditPriceClose} drugId={this.state.drugId} pharmacyId={this.state.pharmacyId}/>\r\n\t\t\t\t\t<AddOrderModal show={this.state.showAddOrder} pharmacyId={this.state.pharmacyId } closeModal={this.handleEditPriceClose}/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</React.Fragment>\r\n\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DrugsForPharmacyAdmin;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddDrugModal.js",["609","610","611"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Axios from 'axios';\r\nimport MedicamentPicture from \"../../Images/medicament.jpg\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport HeadingSuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport HeadingAlert from \"../Alerts/UnsuccessfulAlert\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass AddDrugModal extends Component {\r\n    state = {\r\n        \r\n        drugId:'',  \r\n        pharmacyId:'',\r\n        hiddenSuccessAlert: true,\r\n\t\tsuccessHeader: \"\",\r\n\t\tsuccessMessage: \"\",\r\n\t\thiddenUnsuccessAlert: true,\r\n\t\tunsuccessHeader: \"\",\r\n\t\tunsuccessMessage: \"\",\r\n        showadd:false,\r\n        price:1,\r\n        count:1\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n    }\r\n\r\n    onAddClick = (id) =>{\r\n        console.log(this.props.pharmacyId);\r\n        this.setState({\r\n            showadd: true,\r\n            drugId:id\r\n          \r\n        });\r\n    }\r\n\r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n    };\r\n    \r\n    handleCloseAlertUnuccess = () => {\r\n\t\tthis.setState({ hiddenUnsuccessAlert: true });\r\n\t};\r\n\r\n   \r\n    handleAdd = () => {\r\n        let addDTO = {\r\n            drugId: this.state.drugId, \r\n            pharmacyId : this.props.pharmacyId, \r\n            count:this.state.count, \r\n            price: this.state.price \r\n           \r\n         \r\n        };\r\n        console.log(addDTO);\r\n        if(this.state.price>=1 && this.state.count>=1){\r\n        Axios\r\n        .put(API_URL + \"/drug/addDrugInPharmacy\", addDTO, {\r\n            validateStatus: () => true,\r\n            headers: { Authorization:  GetAuthorisation() },\r\n        }).then((res) =>{\r\n            console.log(res.status);\r\n            console.log(res.data);\r\n            if (res.status === 201) {\r\n                this.setState({\r\n                    hiddenSuccessAlert: false,\r\n                    hiddenUnsuccessAlert:true,\r\n                    successHeader: \"Success\",\r\n                    successMessage: \"You successfully add drug in pharmacy.\",\r\n                })\r\n                \r\n           \r\n                \r\n            }else {\r\n    \r\n                this.setState({ \r\n                    hiddenSuccessAlert: true,\r\n                    hiddenUnsuccessAlert: false, \r\n                    unsuccessHeader: \"Unsuccess\", \r\n                    unsuccessMessage: \"Error on server.\"\r\n                });\r\n            }\r\n            \r\n        }).catch((err) => {\r\n            console.log(err);\r\n            this.setState({ \r\n                hiddenSuccessAlert: true,\r\n                hiddenUnsuccessAlert: false, \r\n                unsuccessHeader: \"Unsuccess\", \r\n                unsuccessMessage: \"Error,please try later\"\r\n            });\r\n        });}\r\n        else{\r\n            alert(\"Data is not valid.\")\r\n\r\n        }\r\n    }\r\n\r\n    handleBack = (event) =>{\r\n        this.setState({showadd: false});\r\n    }\r\n\r\n\r\n    handlePriceChange= (event) => {\r\n        \r\n            this.setState({price:event.target.value});\r\n        \r\n    }\r\n\r\n    handleCountChange = (event) => {\r\n            this.setState({count:event.target.value});\r\n    }\r\n\r\n    handleCloseAlertSuccess = () =>{\r\n        this.setState({\r\n            hiddenSuccessAlert: true,\r\n            hiddenUnsuccessAlert: true,\r\n            showadd: false, \r\n           \r\n        });\r\n        this.props.updateDrugsWhicharentInPharmacy();\r\n        this.handleBack();\r\n      \r\n    }\r\n\r\n    \r\n\r\n    handleCloseModal = () => {\r\n        this.setState({\r\n            hiddenSuccessAlert: true,\r\n            hiddenUnsuccessAlert: true,\r\n            showadd: false, \r\n            price: 1,\r\n            count: 1\r\n           \r\n        });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                size = \"lg\"\r\n                dialogClassName=\"modal-180w-180h\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n                >\r\n               <Modal.Header >\r\n                    <Modal.Title  >\r\n                        Add Drug\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                <HeadingSuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                        <HeadingAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.unsuccessHeader}\r\n                                message={this.state.unsuccessMessage}\r\n                                handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                <div className=\"container\" >      \r\n                <table className={\"table\"} style={{ width: \"100%\", marginTop: \"3rem\" }} hidden={this.state.showadd}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.props.drugs.map((drug) => (\r\n\t\t\t\t\t\t\t\t\t<tr id={drug.Id} key={drug.Id} >\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"130em\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: \"40%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td onClick={() => this.handleOnDrugSelect(drug.Id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Drug Name:</b> {drug.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Name:</b> {drug.EntityDTO.fabricCode}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Manufacturer:</b> {drug.EntityDTO.producerName}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Quantity:</b> {drug.EntityDTO.quantity} <b> mg</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Format:</b> {drug.EntityDTO.drugFormat}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"40%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onAddClick(drug.Id)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n                    <div hidden={!this.state.showadd}>\r\n                                <form >\r\n                                    <div  className=\"control-group\" >\r\n                                        <div className=\"form-row\">\r\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link \" type=\"button\">\r\n                                              \r\n                                                Back\r\n                                            </button>                   \r\n                                        </div>\r\n                                        <table style={{width:'100%'},{marginLeft:'15%'}}>\r\n                                           \r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Number of drug units:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input  className=\"form-control \" style={{width: \"12em\"}} type=\"number\" min=\"1\" onChange={this.handleCountChange} value={this.state.count} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Price:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input  className=\"form-control  \" style={{width: \"12em\"}} type=\"number\" min=\"1\" onChange={this.handlePriceChange} value={this.state.price} />\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Add drug in pharmacy</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n                                     \r\n                   \r\n                </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => this.handleCloseModal()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default AddDrugModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\AppointmentReport.js",["612","613","614","615","616"],"import React, { Component } from \"react\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport DrugModal from \"../../Components/DrugModal\";\r\nimport AvailableDrugModal from \"../../Components/AvailableDrugModal\";\r\nimport { withRouter } from \"react-router\";\r\nimport GetAuthorisation from '../../Funciton/GetAuthorisation';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ModalDialog from \"../../Components/ModalDialog\";\r\nimport PrescriptionDrug from \"../../Components/PrescriptionDrug\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass AppointmentReport extends Component {\r\n\tstate = {\r\n        anamnesis: \"\",\r\n        diagnosis: \"\",\r\n        drugs: [],\r\n        openDrugsModal: false,\r\n        openDrugDetailsModal: false,\r\n\t\tdrug: {},\r\n\t\tdrugId: \"\",\r\n        name: \"\",\r\n\t\tquantity: \"\",\r\n\t\topenModalSuccess: false,\r\n\t\tappointment: {},\r\n\t\tid: \"\",\r\n\t\tpatientId: \"\",\r\n\t\tredirect: false,\r\n\t\tredirectUrl: '',\r\n\t\tdrugsPatientIsNotAllergicTo: [],\r\n\t\talternativeDrugs: [],\r\n\t\topenAlternativeDrugsModal: false,\r\n\t};\r\n\r\n\thandleModalSuccessClose = () => {\r\n\t\tthis.setState({ openModalSuccess: false, redirectUrl: \"/patient-profile/\" + this.state.patientId, redirect: true });\r\n\t};\r\n\r\n\tfetchDrugsPatientIsNotAllergicTo = () => {\r\n\t\tAxios.get(API_URL + \"/drug/not-allergic/\" + this.state.patientId, {validateStatus: () => true, headers: { Authorization: GetAuthorisation() }})\r\n        .then((res) => {\r\n            this.setState({ drugsPatientIsNotAllergicTo: res.data });\r\n            console.log(res.data);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst id = this.props.match.params.id;\r\n\t\tthis.setState({\r\n\t\t\tid:id\r\n\t\t});\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/\" + id, \r\n\t\t\t{validateStatus: () => true, headers: { Authorization: GetAuthorisation() }}\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tredirect: true,\r\n\t\t\t\t\t\tredirectUrl: \"/unauthorized\"\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\tthis.setState({ appointment: res.data, patientId: res.data.EntityDTO.patient.Id});\r\n\t\t\t\t\tthis.fetchDrugsPatientIsNotAllergicTo();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\t}\r\n\r\n    handleAnamnesisChange = (event) => {\r\n\t\tthis.setState({ anamnesis: event.target.value });\r\n\t};\r\n\r\n\thandleDiagnosisChange = (event) => {\r\n\t\tthis.setState({ diagnosis: event.target.value });\r\n    };\r\n\r\n    handleDrugsModalClose = () => {\r\n\t\tthis.setState({ openDrugsModal: false });\r\n    };\r\n\r\n    handleDrugsModalOpen = () => {\r\n\r\n\t\tthis.setState({ openDrugsModal: true });\r\n    };\r\n    \r\n    handleDrugDetailsModalClose = () => {\r\n\t\tthis.setState({ openDrugDetailsModal: false });\r\n    };\r\n\r\n    handleDrugDetailsModalOpen = () => {\r\n\t\tthis.setState({ openDrugDetailsModal: true });\r\n\t};\r\n\r\n\thandleAlternativeDrugsModalClose = () => {\r\n\t\tthis.setState({ openAlternativeDrugsModal: false });\r\n    };\r\n\r\n    handleAlternativeDrugsModalOpen = () => {\r\n\r\n\t\tthis.setState({ openAlternativeDrugsModal: true });\r\n    };\r\n    \r\n    handleSubmit = (event) => {\r\n\t\tlet therapy = \"drug : number of days\" + \"\\n\";\r\n\t\tthis.state.drugs.forEach((value, index) => {\r\n\t\t\ttherapy +=  value.drug.EntityDTO.name + \" : \" + value.amount + \"\\n\";\r\n\t\t});\r\n\t\tconsole.log(therapy);\r\n\r\n\t\tAxios.post(API_URL + \"/appointment-report\",\r\n\t\t\t{anamnesis: this.state.anamnesis, diagnosis: this.state.diagnosis, therapy: therapy, appointmentId: this.state.id},\r\n\t\t\t{headers: { Authorization: GetAuthorisation() }}\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ openModalSuccess: true});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\r\n\t\tAxios.put(API_URL + \"/appointment/finish\",\r\n\t\t\t{id: this.state.id},\r\n\t\t\t{headers: { Authorization: GetAuthorisation() }}\r\n\t\t)\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t})\r\n\t\t\r\n\t\t/*this.state.drugs.forEach((value, index) => {\r\n\t\t\tAxios.post(API_URL + \"/drug/reserve-drug-as-employee\",\r\n\t\t\t\t{ patientId: this.state.patientId, drugInstanceId: value.drug.Id, amount: value.amount},\r\n\t\t\t\t{headers: { Authorization: GetAuthorisation() }}\r\n\t\t\t)\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\r\n\t\t});*/\r\n    };\r\n\r\n    handleDrugDetails = (drug) => {\r\n        console.log(drug); \r\n        this.setState({\r\n\t\t\tdrugId: drug.Id,\r\n            drug: drug,\r\n            name: drug.EntityDTO.drugInstanceName,\r\n            quantity: drug.EntityDTO.quantity\r\n\t\t});\r\n\t\tthis.handleAlternativeDrugsModalClose(); \r\n        this.handleDrugsModalClose(); \r\n        this.handleDrugDetailsModalOpen();\r\n    };\r\n\r\n    handleAddDrug = (drugAmount) => {\r\n        console.log(this.state.drug); \r\n\t\tthis.handleDrugDetailsModalClose();\r\n\t\tAxios.get(API_URL + \"/drug/available/\" + this.state.drug.Id + \"/\" + drugAmount, \r\n\t\t\t{validateStatus: () => true, headers: { Authorization: GetAuthorisation() }}\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tthis.state.drugs.push({drug: this.state.drug, amount: drugAmount});\r\n\t\t\t\t\tthis.state.drugsPatientIsNotAllergicTo = this.state.drugsPatientIsNotAllergicTo.filter(drug => this.state.drug.Id != drug.Id);\r\n\t\t\t\t\tthis.setState(this.state);\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tthis.setState({alternativeDrugs: []});\r\n\t\t\t\t\tthis.state.drug.EntityDTO.replacingDrugs.forEach( x => this.addAlternativeDrug(x));\r\n\t\t\t\t\tthis.setState(this.state);\r\n\t\t\t\t\tconsole.log(this.state.alternativeDrugs);\r\n\t\t\t\t\tthis.handleAlternativeDrugsModalOpen();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\t};\r\n\r\n\taddAlternativeDrug = (x) => {\r\n\t\tlet alternative = this.state.drugsPatientIsNotAllergicTo.filter(drug => x.Id == drug.Id);\r\n\t\talternative.forEach(x => this.state.alternativeDrugs.push(x));\r\n\t};\r\n\t\r\n\thandleRemoveTherapyDrug = (e, drug, index) => {\r\n\t\tconsole.log(index)\r\n\t\tthis.state.drugs.splice(index, 1);\r\n\t\tthis.state.drugsPatientIsNotAllergicTo.push(drug)\r\n\t\tthis.setState(this.state);\r\n\t};\r\n\r\n\trender() {\r\n\r\n\t\tif (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n            <React.Fragment>\r\n\t\t\t<div hidden={this.props.hidden}>\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"10%\" }}>\r\n\t\t\t\t\t<h4 className=\" text-center mb-0 mt-2 text-uppercase\">Treatment report</h4>\r\n\r\n                    <form>\r\n                        <div class=\"form-group\">\r\n                            <h5>Anamnesis</h5>\r\n                            <textarea class=\"form-control\" value={this.state.anamnesis} onChange={this.handleAnamnesisChange} rows=\"5\"></textarea>\t\t\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <h5>Diagnosis</h5>\r\n                            <textarea class=\"form-control\" value={this.state.diagnosis} onChange={this.handleDiagnosisChange} rows=\"3\"></textarea>\r\n                        </div>\r\n                    </form>\r\n\t\t\t\t\t<div className=\"form-group text-left\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\" }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleDrugsModalOpen}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-1x\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tAdd therapy drug\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t    </div>\r\n\t\t\t\t\t<form style={{minHeight: \"50px\"}} className=\"border border-secondary\">\r\n\t\t\t\t\t<table\r\n\t\t\t\t\t\tclassName=\"table table-hover m-0\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.drugs.map((drug, index) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={drug.Id}\r\n\t\t\t\t\t\t\t\t\tkey={drug.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name:</b> {drug.drug.EntityDTO.drugInstanceName}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Quantity:</b> {drug.drug.EntityDTO.quantity} <b>mg</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Number of days:</b> {drug.amount}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleRemoveTherapyDrug(e, drug.drug, index)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger btn-1x\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{float: \"right\"}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tRemove therapy drug\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t</form>\r\n                    <div className=\"form-group text-center\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\", marginTop: \"50px\" }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleSubmit}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-lg\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tSubmit treatment report\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t    </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <DrugModal           \r\n            show={this.state.openDrugsModal}\r\n            onCloseModal={this.handleDrugsModalClose}\r\n            header=\"Pick drug you want to prescribe as therapy\"\r\n            subheader=\"You can only choose between drugs patient is not allergic to\"\r\n\t\t\thandleDrugDetails={this.handleDrugDetails}\r\n\t\t\tdrugsPatientIsNotAllergicTo={this.state.drugsPatientIsNotAllergicTo}\r\n            />\r\n\t\t\t<AvailableDrugModal            \r\n            show={this.state.openAlternativeDrugsModal}\r\n            onCloseModal={this.handleAlternativeDrugsModalClose}\r\n            header=\"No selected drug in stock, here are some alternatives\"\r\n            subheader=\"You can choose between alternative drugs\"\r\n\t\t\thandleDrugDetails={this.handleDrugDetails}\r\n\t\t\talternativeDrugs={this.state.alternativeDrugs}\r\n            />\r\n            <PrescriptionDrug \r\n            name={this.state.name}\r\n            quantity={this.state.quantity}\r\n            drug={this.state.drug}         \r\n            show={this.state.openDrugDetailsModal}\r\n            onCloseModal={this.handleDrugDetailsModalClose}\r\n            header=\"Add drug to patients therapy\"\r\n            subheader=\"\"\r\n            handleAddDrug={this.handleAddDrug}\r\n            />\r\n\t\t\t<ModalDialog\r\n\t\t\t\t\tshow={this.state.openModalSuccess}\r\n\t\t\t\t\tonCloseModal={this.handleModalSuccessClose}\r\n\t\t\t\t\theader=\"Successfully submitted treatment report for patient\"\r\n\t\t\t\t\ttext=\"You can schedule another appointment for this patient.\"\r\n\t\t\t\t/>\r\n            </React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AppointmentReport;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\PatientProfile.js",["617","618","619","620","621","622","623","624","625","626"],"import React, { Component } from \"react\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from '../../Funciton/GetAuthorisation';\r\nimport { withRouter } from \"react-router\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ModalDialog from \"../../Components/ModalDialog\";\r\nimport PatientIcon from '../../Images/patient-icon.jpg'\r\nconst API_URL=\"http://localhost:8080\";\r\nconst TIME_INTERVAL= 24 * 60 * 60 * 1000;\r\n\r\n\r\n\r\nclass PatientProfile extends Component {\r\n\tstate = {\r\n\t\tid: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tname: \"\",\r\n\t\tsurname: \"\",\r\n\t\taddress: \"\",\r\n\t\tphoneNumber: \"\",\r\n\t\tappointments: [],\r\n\t\tredirect: false,\r\n\t\tredirectUrl: '',\r\n\t\topenModalSuccess: false,\r\n\t\tpatientsHistory: false,\r\n\t};\r\n\r\n\thasRole = (reqRole) => {\r\n\t\tlet roles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n\t\tif (roles === null) return false;\r\n\r\n\t\tif (reqRole === \"*\") return true;\r\n\r\n\t\tfor (let role of roles) {\r\n\t\t\tif (role === reqRole) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tfetchAppointments = () => {\r\n\t\tconst id = this.props.match.params.id;\r\n\t\tAxios.get(API_URL + \"/appointment/patient/\" + id, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tredirect: true,\r\n\t\t\t\t\t\tredirectUrl: \"/unauthorized\"\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status == 200 || res.status == 201) {\r\n\t\t\t\t\tlet patientsHistory = false;\r\n\t\t\t\t\tif (res.status == 201)\r\n\t\t\t\t\t\tpatientsHistory = true;\r\n\t\t\t\t\tthis.setState({ appointments: res.data, patientsHistory: patientsHistory }, () => this.handleSortByDate());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst id = this.props.match.params.id;\r\n\t\tthis.setState({\r\n\t\t\tid: id\r\n\t\t});\r\n\r\n\t\tAxios.get(API_URL + \"/users/patient/\" + id, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tredirect: true,\r\n\t\t\t\t\t\tredirectUrl: \"/unauthorized\"\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status == 200) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tid: res.data.id,\r\n\t\t\t\t\t\temail: res.data.EntityDTO.email,\r\n\t\t\t\t\t\tname: res.data.EntityDTO.name,\r\n\t\t\t\t\t\tsurname: res.data.EntityDTO.surname,\r\n\t\t\t\t\t\taddress: res.data.EntityDTO.address,\r\n\t\t\t\t\t\tphoneNumber: res.data.EntityDTO.phoneNumber\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(this.state)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tthis.fetchAppointments();\r\n\t}\r\n\r\n\thandleExamine = (appointmentId) => {\r\n\t\tthis.setState({\r\n\t\t\tredirect: true,\r\n\t\t\tredirectUrl: \"/appointment-report/\" + appointmentId\r\n\t\t});\r\n\t};\r\n\r\n\thandleDidNotShowUp = (appointmentId) => {\r\n\t\tconsole.log(appointmentId)\r\n\t\tAxios.put(API_URL + \"/appointment/patient-did-not-come\",\r\n\t\t\t{ id: appointmentId },\r\n\t\t\t{ headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ openModalSuccess: true });\r\n\t\t\t\tthis.fetchAppointments();\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleSchedule = () => {\r\n\t\tif (this.hasRole(\"ROLE_DERMATHOLOGIST\")) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tredirect: true,\r\n\t\t\t\tredirectUrl: \"/dermathologist-schedule-appointment/\" + this.props.match.params.id\r\n\t\t\t});\r\n\t\t} else if (this.hasRole(\"ROLE_PHARMACIST\")) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tredirect: true,\r\n\t\t\t\tredirectUrl: \"/new-appointment/\" + this.props.match.params.id\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleCreateAndSchedule = () => {\r\n\t\tthis.setState({\r\n\t\t\tredirect: true,\r\n\t\t\tredirectUrl: \"/create-and-schedule-appointment/\" + this.props.match.params.id\r\n\t\t});\r\n\t};\r\n\r\n\tisCurrentDate = (appointmentDate) => {\r\n\t\tappointmentDate = new Date(appointmentDate);\r\n\t\tappointmentDate.setHours(0, 0, 0, 0);\r\n\t\tlet currentDate = new Date();\r\n\t\tcurrentDate.setHours(0, 0, 0, 0);\r\n\t\treturn appointmentDate.getTime() === currentDate.getTime();\r\n\t};\r\n\r\n\tcanInteractWithAppointment = (startDateTime) => {\r\n\t\tlet currentDateTime = new Date();\r\n\t\tstartDateTime = new Date(startDateTime);\r\n\t\tif (currentDateTime.getTime() + TIME_INTERVAL < startDateTime.getTime())\r\n\t\t\treturn false;\r\n\t\telse if (currentDateTime.getTime() > startDateTime.getTime())\r\n\t\t\treturn false;\r\n\t\telse\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\thandleModalSuccessClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenModalSuccess: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleSortByDate = () => {\r\n\t\tconsole.log(this.state.appointments);\r\n\t\tthis.state.appointments.sort(this.compareDates);\r\n\t\tthis.setState(this.state);\r\n\t\tconsole.log(this.state.appointments);\r\n\t};\r\n\r\n\tcompareDates = (a, b) => {\r\n\t\tif (a.EntityDTO.startDateTime < b.EntityDTO.startDateTime) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (a.EntityDTO.startDateTime > b.EntityDTO.startDateTime) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tif (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"8%\" }}>\r\n\t\t\t\t\t<h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tPatient information\r\n\t\t\t\t\t</h5>\r\n\r\n\t\t\t\t\t<div className=\"row section-design\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8 mx-auto\">\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<form id=\"contactForm\" name=\"sentMessage\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tstyle={{ float: \"left\" }}\r\n\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\tsrc={PatientIcon}\r\n\t\t\t\t\t\t\t\t\twidth=\"150em\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name: </b> {this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Surname: </b> {this.state.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Email address: </b> {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Phone number: </b> {this.state.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Address: </b> {this.state.address}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"80%\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.handleSchedule()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSchedule\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\thidden={!this.hasRole(\"ROLE_DERMATHOLOGIST\")}\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"80%\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.handleCreateAndSchedule()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCreate and schedule appointment\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"control-group mt-4\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\tstyle={{ color: \"#6c757d\", opacity: 1 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h3 hidden={this.state.patientsHistory}>You can't observe patient's appointment history because you did not have appointment for this patient already.</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<br />\r\n\r\n\r\n\t\t\t\t\t\t<table className=\"table\" style={{ width: \"70%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"190em\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.startDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Time from: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.startDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Time to: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.endDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div hidden={appointment.EntityDTO.appointmentStatus != \"FINISHED\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.appointmentStatus == \"FINISHED\" && appointment.EntityDTO.appointmentReportDTO != undefined && appointment.EntityDTO.appointmentReportDTO != null ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{whiteSpace: \"pre\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Anamensis</b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.appointmentReportDTO.anamnesis}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Diagnosis</b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.appointmentReportDTO.diagnosis}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Therapy</b><br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.appointmentReportDTO.therapy}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"align-right\" style={{ width: \"35%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div hidden={!this.canInteractWithAppointment(appointment.EntityDTO.startDateTime)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"60%\", float: \"right\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.appointmentStatus != \"SCHEDULED\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleExamine(appointment.Id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStart examination\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"60%\", float: \"right\", verticalAlign: \"bottom\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.appointmentStatus != \"SCHEDULED\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleDidNotShowUp(appointment.Id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPatient did not come\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ModalDialog\r\n\t\t\t\t\t\r\n\t\t\t\t\tshow={this.state.openModalSuccess}\r\n\t\t\t\t\tonCloseModal={this.handleModalSuccessClose}\r\n\t\t\t\t\theader=\"Successfully added penalty to patient\"\r\n\t\t\t\t\ttext=\"You can start examination for another patient.\"\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(PatientProfile);\r\n\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\CalendarForAppointments.js",["627","628"],"import React, { Component } from \"react\";\r\nimport Header from '../../Components/Header';\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from '../../Funciton/GetAuthorisation';\r\nimport { Calendar, momentLocalizer, Views } from 'react-big-calendar'\r\nimport moment from 'moment'\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport AppoinmentDetails from \"../../Components/AppoinmentDetails\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ModalDialog from \"../../Components/ModalDialog\";\r\nconst API_URL=\"http://localhost:8080\";\r\nconst localizer = momentLocalizer(moment)\r\n\r\nclass CalendarForAppointments extends Component {\r\n    state = {\r\n        pharmacies: [],\r\n        events: [],\r\n        appointments: [],\r\n        openModalInfo: false,\r\n        name: \"\",\r\n        surname: \"\",\r\n        startDateTime: \"\",\r\n        endDateTime: \"\",\r\n        price: \"\",\r\n        pharmacy: {},\r\n        pharmacyName : \"\",\r\n        redirect: false,\r\n        redirectUrl: '',\r\n        id: '',\r\n        openModalSuccess: false,\r\n        appointmentStatus: \"\"\r\n    };\r\n\r\n    hasRole = (reqRole) => {\r\n\t\tlet roles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n\t\tif (roles === null) return false;\r\n\r\n\t\tif (reqRole === \"*\") return true;\r\n\r\n\t\tfor (let role of roles) {\r\n\t\t\tif (role === reqRole) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n    handleModalInfoClose = () => {\r\n        this.setState({ openModalInfo: false });\r\n    };\r\n\r\n    handleEventClick = (appointment) => {\r\n        console.log(appointment);\r\n        let name = appointment.EntityDTO.patient == undefined || null ? \"\" : appointment.EntityDTO.patient.EntityDTO.name;\r\n        let surname = appointment.EntityDTO.patient == undefined || null ? \"\" : appointment.EntityDTO.patient.EntityDTO.surname;\r\n\r\n        this.setState({\r\n            name: name,\r\n            surname: surname,\r\n            startDateTime: appointment.EntityDTO.startDateTime,\r\n            endDateTime: appointment.EntityDTO.endDateTime,\r\n            price: appointment.EntityDTO.price,\r\n            openModalInfo: true,\r\n            id: appointment.Id,\r\n            appointmentStatus: appointment.EntityDTO.appointmentStatus\r\n        });\r\n    };\r\n\r\n    generateEventTitle = (appointment) => {\r\n        let name = appointment.EntityDTO.patient == null ? \"\" : appointment.EntityDTO.patient.EntityDTO.name;\r\n        let surname = appointment.EntityDTO.patient == null ? \"\" : appointment.EntityDTO.patient.EntityDTO.surname;\r\n        if (name === \"\" && surname === \"\")\r\n            return \"Free appointment\"\r\n        else\r\n            return name + \" \" + surname;\r\n    };\r\n\r\n    mapAppointmentsToEvents = () => {\r\n        this.setState({ events: this.state.appointments.map(appointment => ({ start: new Date(appointment.EntityDTO.startDateTime), end: new Date(appointment.EntityDTO.endDateTime), title: this.generateEventTitle(appointment), allDay: false, resource: appointment })) });\r\n        console.log(this.state.events);\r\n    };\r\n\r\n    fetchDermatologistCalendar = () => {\r\n        Axios.get(API_URL + \"/users/dermatologist/pharmacies\", { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n        .then((res) => {\r\n\r\n            if (res.status === 401) {\r\n                this.setState({\r\n                    redirect: true,\r\n                    redirectUrl: \"/unauthorized\"\r\n                });\r\n            } else {\r\n\r\n                this.setState({ pharmacies: res.data, pharmacy: res.data[0], pharmacyName: res.data[0].EntityDTO.name });\r\n                console.log(res.data);\r\n\r\n                Axios.get(API_URL + \"/appointment/dermatologist/calendar-for-pharmacy/\" + this.state.pharmacy.Id, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n                    .then((res) => {\r\n                        this.setState({ appointments: res.data });\r\n                        console.log(res.data);\r\n                        this.mapAppointmentsToEvents();\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    fetchFarmacistCalendar = () => {\r\n        Axios.get(API_URL + \"/users/pharmacist/pharmacy\", { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n        .then((res) => {\r\n\r\n            if (res.status === 401) {\r\n                this.setState({\r\n                    redirect: true,\r\n                    redirectUrl: \"/unauthorized\"\r\n                });\r\n            } else {\r\n\r\n                this.setState({ pharmacy: res.data, pharmacyName: res.data.EntityDTO.name });\r\n                console.log(res.data);\r\n\r\n                Axios.get(API_URL + \"/appointment/pharmacist/calendar/\" + this.state.pharmacy.Id, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n                    .then((res) => {\r\n                        this.setState({ appointments: res.data });\r\n                        console.log(res.data);\r\n                        this.mapAppointmentsToEvents();\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        if(this.hasRole(\"ROLE_DERMATHOLOGIST\"))\r\n            this.fetchDermatologistCalendar();\r\n        else\r\n            this.fetchFarmacistCalendar();\r\n    }\r\n\r\n    handlePharmacyChange = (event) => {\r\n        this.setState({ pharmacy: event.target.value }, () => {\r\n            Axios.get(API_URL + \"/appointment/dermatologist/calendar-for-pharmacy/\" + this.state.pharmacy, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n            .then((res) => {\r\n                this.setState({ appointments: res.data });\r\n                console.log(res.data);\r\n                this.mapAppointmentsToEvents();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    };\r\n\r\n    handleExamine = () => {\r\n\t\tthis.setState({\r\n\t\t\tredirect: true,\r\n\t\t\tredirectUrl: \"/appointment-report/\" + this.state.id\r\n\t\t});\r\n\t};\r\n\r\n\thandleDidNotShowUp = () => {\r\n\t\tAxios.put(API_URL + \"/appointment/patient-did-not-come\",\r\n\t\t\t{ id: this.state.id },\r\n\t\t\t{ headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n                this.handleModalInfoClose();\r\n\t\t\t\tif(this.hasRole(\"ROLE_DERMATHOLOGIST\"))\r\n                    this.fetchDermatologistCalendar();\r\n                else\r\n                    this.fetchFarmacistCalendar();\r\n                console.log(res.data);\r\n                this.setState({ openModalSuccess: true});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n    };\r\n    \r\n    handleModalSuccessClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenModalSuccess: false,\r\n\t\t});\r\n\t};\r\n\r\n    render() {\r\n\r\n        if (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                \r\n                <Header />\r\n                <div className=\"container\" style={{ marginTop: \"10%\" }}>\r\n                    <h4 className=\"text-center mb-5 mt-2 text-uppercase\">Calendar</h4>\r\n                    <div hidden={!this.hasRole(\"ROLE_DERMATHOLOGIST\")}>\r\n                        <h5 className=\"text-left mt-2\">Working calendar for selected pharmacy</h5>\r\n                        <div className=\"mb-5 mt-2\">\r\n                            <select onChange={this.handlePharmacyChange} className=\"form-control\" >\r\n                                {this.state.pharmacies.map((pharmacy) => <option key={pharmacy.Id} value={pharmacy.Id}>Dr {pharmacy.EntityDTO.name}</option>)}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div hidden={!this.hasRole(\"ROLE_PHARMACIST\")}>\r\n                    <h5 className=\"text-left mb-5 mt-2\">{\"Working calendar for \" + this.state.pharmacyName}</h5>\r\n                    </div>\r\n                    \r\n                    <Calendar\r\n                        selectable\r\n                        onSelectEvent={event => this.handleEventClick(event.resource)}\r\n                        popup\r\n                        defaultView={Views.DAY}\r\n                        localizer={localizer}\r\n                        events={this.state.events}\r\n                        startAccessor=\"start\"\r\n                        endAccessor=\"end\"\r\n                        style={{ height: 500 }}\r\n                    />\r\n                </div>\r\n                <AppoinmentDetails\r\n                    header=\"Appointment information\"\r\n                    show={this.state.openModalInfo}\r\n                    onCloseModal={this.handleModalInfoClose}\r\n                    name={this.state.name}\r\n                    surname={this.state.surname}\r\n                    startDateTime={this.state.startDateTime}\r\n                    endDateTime={this.state.endDateTime}\r\n                    price={this.state.price}\r\n                    handleExamine={this.handleExamine}\r\n                    handleDidNotShowUp={this.handleDidNotShowUp}\r\n                    appointmentStatus={this.state.appointmentStatus}\r\n                />\r\n                \r\n                <ModalDialog\r\n\t\t\t\t\tshow={this.state.openModalSuccess}\r\n\t\t\t\t\tonCloseModal={this.handleModalSuccessClose}\r\n\t\t\t\t\theader=\"Successfully added penalty to patient\"\r\n\t\t\t\t\ttext=\"You can start examination for another patient.\"\r\n\t\t\t\t/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CalendarForAppointments;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AppoinmentDetails.js",["629"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nconst TIME_INTERVAL= 24 * 60 * 60 * 1000;\r\n\r\nclass AppointmentDetails extends Component {\r\n\t\r\n\tisCurrentDate = (appointmentDate) => {\r\n\t\tappointmentDate = new Date(appointmentDate);\r\n\t\tappointmentDate.setHours(0, 0, 0, 0);\r\n\t\tlet currentDate = new Date();\r\n\t\tcurrentDate.setHours(0, 0, 0, 0);\r\n\t\treturn appointmentDate.getTime() === currentDate.getTime();\r\n\t};\r\n\r\n\tcanInteractWithAppointment = (startDateTime) => {\r\n\t\tlet currentDateTime = new Date();\r\n\t\tstartDateTime = new Date(startDateTime);\r\n\t\tif (currentDateTime.getTime() + TIME_INTERVAL < startDateTime.getTime())\r\n\t\t\treturn false;\r\n\t\telse if(currentDateTime.getTime() > startDateTime.getTime())\r\n\t\t\treturn false;\r\n\t\telse \r\n\t\t\treturn true;\t\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tdialogClassName=\"modal-80w-100h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">{this.props.header}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<form className=\"ml-3\">\r\n\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t<div className=\"form-group controls\" style={{ color: \"#6c757d\", opacity: 1 }}>\r\n\t\t\t\t\t\t\t\t<div className=\"form-row\" width=\"160em\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-col ml-3\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(this.props.startDateTime).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Time from: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(this.props.startDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Time to: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(this.props.endDateTime).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price: </b> {(Math.round(this.props.price * 100) / 100).toFixed(2)} <b>din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Patient: </b> {this.props.name + \" \" + this.props.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div hidden={this.props.name !== \"\" && this.props.surname !== \"\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-secondary\">Appointment has not been scheduled by patient</h4>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row align-items-end m-4\" hidden={!this.canInteractWithAppointment(this.props.startDateTime) && this.props.appointmentStatus != \"SCHEDULED\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.handleExamine()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary w-100 m-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tStart examination\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.handleDidNotShowUp()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger w-100 mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPatient did not show up\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button onClick={this.props.onCloseModal}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AppointmentDetails;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\PrescriptionDrug.js",["630"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport MedicamentPicture from \"../Images/medicament.jpg\" ;\r\n\r\nclass PrescriptionDrug extends Component {\r\n    state = {\r\n        numberOfDays:1,\r\n    }\r\n\r\n    handlenumberOfDaysChange = (event) => {\r\n        this.setState({numberOfDays: event.target.value});\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                dialogClassName=\"modal-80w-100h\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n                onHide={this.props.onCloseModal}\r\n                >\r\n                <Modal.Header closeButton >\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                    {this.props.header}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <form className=\"ml-3\">\r\n                            <div className=\"control-group\">\r\n                                    <div className=\"form-group controls\" style={{color: \"#6c757d\",opacity: 1}}>\r\n                                        <div className=\"form-row\" width=\"130em\">                        \r\n                                            <div className=\"form-col\" >\r\n                                                <img className=\"img-fluid\" src={MedicamentPicture} width=\"90em\"/>\r\n                                            </div>\r\n                                            <div className=\"form-col\">\r\n                                                <div><b>Name:</b> {this.props.className}</div>\r\n                                               \r\n                                                <div><b>Quantity:</b> {this.props.quantity} <b>mg</b></div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-row\">\r\n                                        <div className=\"form-col\">\r\n                                                <label>Number of days:</label>\r\n                                                <input placeholder=\"Drug amount\" className=\"form-control mr-3\" style={{width: \"9em\"}} type=\"number\" min=\"1\" max={this.props.maxnumberOfDays} onChange={this.handlenumberOfDaysChange} value={this.state.numberOfDays} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div  className=\"form-group text-center\">\r\n                                        <Button className=\"mt-3\"  onClick = {() => this.props.handleAddDrug(this.state.numberOfDays)} >Prescribe drug</Button>\r\n                                    </div>\r\n                                </div>\r\n                   </form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <Button onClick={this.props.onCloseModal}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default PrescriptionDrug;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\AvailableDrugModal.js",["631"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport MedicamentPicture from \"../Images/medicament.jpg\" ;\r\n\r\n\r\nclass AvailableDrugModal extends Component {\r\n  render() {\r\n    return (\r\n      <Modal\r\n        show={this.props.show}\r\n        size=\"lg\"\r\n        dialogClassName=\"modal-80w-80h\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        scrollable\r\n        onHide={this.props.onCloseModal}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            {this.props.header}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <h5>{this.props.subheader}</h5>\r\n          <table className=\"table table-hover\" style={{ width: \"100%\" }}>\r\n            <tbody>\r\n              {this.props.alternativeDrugs.map((drug) => (\r\n                <tr id={drug.Id} key={drug.Id} style={{ cursor: \"pointer\"}} onClick={() => this.props.handleDrugDetails(drug)}>\r\n                    <td width=\"130em\">\r\n\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\" />\r\n\t\t\t\t    </td>\r\n                    <td>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<b>Namee:</b> {drug.EntityDTO.drugInstanceName}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<b>Quantity:</b> {drug.EntityDTO.quantity} <b>mg</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\t\t\t\t\t\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={this.props.onCloseModal}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AvailableDrugModal;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\DrugModal.js",["632"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport MedicamentPicture from \"../Images/medicament.jpg\" ;\r\n\r\nclass DrugModal extends Component {\r\n  render() {\r\n    return (\r\n      <Modal\r\n        show={this.props.show}\r\n        size=\"lg\"\r\n        dialogClassName=\"modal-80w-80h\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        scrollable\r\n        onHide={this.props.onCloseModal}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            {this.props.header}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <h5>{this.props.subheader}</h5>\r\n          <table className=\"table table-hover\" style={{ width: \"100%\" }}>\r\n            <tbody>\r\n              {this.props.drugsPatientIsNotAllergicTo.map((drug) => (\r\n                <tr id={drug.Id} key={drug.Id} style={{ cursor: \"pointer\"}} onClick={() => this.props.handleDrugDetails(drug)}>\r\n                    <td width=\"130em\">\r\n\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\" />\r\n\t\t\t\t    </td>\r\n                    <td>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<b>Name:</b> {drug.EntityDTO.drugInstanceName}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<b>Quantity:</b> {drug.EntityDTO.quantity} <b>mg</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\t\t\t\t\t\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={this.props.onCloseModal}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DrugModal;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EditDrugPriceModal.js",["633","634"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Axios from 'axios';\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\nclass EditDrugPriceModal extends Component {\r\n    state = {\r\n        newPrice:1, \r\n        selectedStartDate:new Date(),\r\n        selectedEndDate:new Date(),\r\n     \r\n        \r\n\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        this.setState({\r\n            selectedStartDate:date,\r\n        });\r\n\r\n        if(date>this.state.selectedEndDate){\r\n            this.setState({\r\n                selectedEndDate:date,\r\n            }); \r\n        }\r\n    }\r\n\r\n    handleEndDateChange = (date) => {\r\n        this.setState({\r\n            selectedEndDate:date,\r\n        });\r\n    }\r\n\r\n\r\n    handleNewPriceChange= (event) => {\r\n        this.setState({newPrice:event.target.value});\r\n    }\r\n\r\n    handleAdd = () => {\r\n        let editPriceDTO = {\r\n            pharmacyId: this.props.pharmacyId,\r\n            drugInstanceId: this.props.drugId, \r\n            startDate:this.state.selectedStartDate,\r\n            endDate:this.state.selectedEndDate,\r\n            price:this.state.newPrice,\r\n            \r\n        };\r\n        console.log(editPriceDTO);\r\n        if((editPriceDTO.startDate<=editPriceDTO.endDate) && editPriceDTO.price>=1){\r\n            Axios\r\n            .put(API_URL + \"/drug/editDrugPriceInPharmacy\", editPriceDTO, {\r\n                validateStatus: () => true,\r\n                headers: { Authorization:  GetAuthorisation() },\r\n            }).then((res) =>{\r\n                if(res.status==401)\r\n                {\r\n                    alert(\"Unauthorised\")\r\n                }\r\n               alert(\"Successfully changed drug price\");\r\n                console.log(res.data);\r\n                this.handleClickOnClose();\r\n            }).catch((err) => {\r\n                alert(\"Server error\");\r\n            });\r\n        }else{\r\n          alert(\"Data is not valid.\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    handleClickOnClose = () => {\r\n        this.setState({\r\n            newPrice:1, \r\n            selectedStartDate:new Date(),\r\n            selectedEndDate:new Date(),\r\n        });\r\n        this.props.closeModal();\r\n    }\r\n\r\n \r\n    render() { \r\n      \r\n\r\n        return ( \r\n            \r\n            <Modal\r\n                show = {this.props.show}     \r\n                centered\r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title >\r\n                        Edit Drug Price\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                \r\n                        <form >\r\n                            <div  className=\"control-group\" >\r\n                                        <table style={{marginLeft:'18%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label >Date from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"15em\"}} minDate={new Date()} onChange={date => this.handleStartDateChange(date)} selected={this.state.selectedStartDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label >Date to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"15em\"}} minDate={new Date()} onChange={date => this.handleEndDateChange(date)} selected={this.state.selectedEndDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>New price:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"New price\" className=\"form-control\" style={{width: \"12em\"}} type=\"number\" min=\"1\" onChange={this.handleNewPriceChange} value={this.state.newPrice} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-2\"  onClick = {() => this.handleAdd()} >Edit price</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => this.handleClickOnClose()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default EditDrugPriceModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddActionPromotionModal.js",["635","636","637","638"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Axios from 'axios';\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\nclass AddActionPromotionModal extends Component {\r\n    state = {\r\n        selectedStartDate:new Date(),\r\n        selectedEndDate:new Date(),\r\n        discount:'',\r\n        type:'DRUGDISCOUNT',   \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.selectedStartDate.setDate(this.state.selectedStartDate.getDate()+1)\r\n        this.state.selectedEndDate.setDate(this.state.selectedStartDate.getDate()+1)\r\n        \r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        this.setState({\r\n            selectedStartDate:date,\r\n        });\r\n\r\n        if(date>this.state.selectedEndDate){\r\n            this.setState({\r\n                selectedEndDate:date,\r\n            }); \r\n        }\r\n    }\r\n\r\n\r\n    handleEndDateChange = (date) => {\r\n        this.setState({selectedEndDate:date});\r\n    }\r\n\r\n    handleDiscountChange= (event) => {\r\n        this.setState({discount:event.target.value});\r\n        \r\n    }\r\n\r\n    handleAdd = () => {\r\n        let actionPromotionDTO = {\r\n            dateFrom: this.state.selectedStartDate, \r\n            dateTo:this.state.selectedEndDate,\r\n            discount:this.state.discount,\r\n            actionType: this.state.type, \r\n        };\r\n        console.log(actionPromotionDTO);\r\n        Axios\r\n        .post(API_URL + \"/pharmacy/addNewActionPromotion/\"+this.props.pharmacyId , actionPromotionDTO, {\r\n            headers: { Authorization:  GetAuthorisation() },\r\n        }).then((res) =>{\r\n           if(res.status==201){\r\n               alert(\"New Action is created.\")\r\n               this.props.handleClickOnClose();\r\n           }else if(res.status==400){\r\n               alert(\"Date range is occupied\")\r\n           }else{\r\n               alert(\"Server error.\")\r\n           }\r\n\r\n\r\n            this.props.handleClickOnClose();\r\n\r\n        }).catch((err) => {\r\n         \r\n        });\r\n    }\r\n\r\n    handleClickOnClose = () => {\r\n        this.setState({\r\n            selectedStartDate:new Date(),\r\n            selectedEndDate:new Date(),\r\n            discount:'',\r\n            \r\n        });\r\n        this.props.onCloseModal();\r\n    }\r\n\r\n   \r\n\r\n    handleTypeChange = (event) => {\r\n\t\tthis.setState({ type: event.target.value });\r\n\t};\r\n\r\n    render() { \r\n   \r\n\r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                centered\r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title >\r\n                    Add Action and Promotion\r\n                    </Modal.Title>\r\n\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                 \r\n                \r\n                             <form >\r\n                                    <div  className=\"control-group\" >\r\n                                        <table style={{width:'100%'},{marginLeft:'27%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label >Date from:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker className=\"form-control\"  style={{width: \"15em\"}} minDate={this.state.minDate} onChange={date => this.handleStartDateChange(date)} selected={this.state.selectedStartDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Date to:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker  className=\"form-control\" style={{width: \"15em\"}}  minDate={this.state.selectedStartDate} onChange={date => this.handleEndDateChange(date)} selected={this.state.selectedEndDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Percent of discount:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input placeholder=\"Discount (1-99)\" className=\"form-control\" style={{width: \"12em\"}} type=\"number\" min=\"1\" max=\"99\" onChange={this.handleDiscountChange} value={this.state.discount} />\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Discount for</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                <select onChange={this.handleTypeChange} value={this.state.type} style={{ width: \"11em\" }} className=\"form-control mr-3\">\r\n\t\t\t\t\t\t\t\t                    <option key=\"1\" value=\"DRUGDISCOUNT\">Drugs</option>\r\n                                                    <option key=\"2\" value=\"EXAMINATIONDISCOUNT\">Examinations</option>\r\n\t\t\t\t\t\t\t\t                    <option key=\"3\" value=\"CONSULTATIONDISCOUNT\">Consultations</option>\r\n\t\t\t\t\t\t\t                    </select>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Add action and promotion</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => this.handleClickOnClose()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default AddActionPromotionModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\ActionPromotionPageForPhAdmin.js",["639"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Header';\r\nimport MedicamentPicture from \"../../Images/discount.jpg\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\nimport AddActionPromotionModal from \"../Modal/AddActionPromotionModal\";\r\n\r\n\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\nclass ActionPromotionPageForPhAdmin extends Component {\r\n\r\n\r\n\r\n\tstate = {\r\n\t\tactions: [],\r\n\t\tpharmacyId:'',\r\n\t\tshowAddAction:false,\r\n\r\n\t\t\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet pharmacyId = localStorage.getItem(\"keyPharmacyId\")\r\n        this.setState({\r\n            pharmacyId: pharmacyId\r\n        })\r\n\t\tAxios.get(API_URL + \"/pharmacy/getAllActionsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ actions: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t}\r\n\r\n    handleOpenAddAction = () => {\r\n\t\tthis.setState({ showAddAction: true});\r\n\t};\r\n\thandleActionClose = () => {\r\n        Axios.get(API_URL + \"/pharmacy/getAllActionsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ actions: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        this.setState({ showAddAction: false });\r\n    }\r\n\r\n\trender() {\r\n\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<React.Fragment>\r\n\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div id=\"allActions\" >\r\n\r\n\t\t\t\t\t<div className=\"container\" style={{ marginTop: \"2em\" }} >\r\n\t\t\t\t\t<h2 className=\" text-center mb-0 mt-2 text-uppercase\">Action and Promotion</h2>\r\n                    <button className=\"btn btn-primary btn-xl\" onClick={() => this.handleOpenAddAction()}>Add Action and Promotion</button>\r\n\t\t\t\t\t\t<table className={\"table\"} style={{ width: \"75%\", marginTop: \"3rem\"  ,marginLeft:\"16%\"}}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.actions.map((action) => (\r\n\t\t\t\t\t\t\t\t\t<tr id={action.Id} key={action.Id} >\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"130em\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: \"5%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n                                    <td>\r\n\t\t\t\t\t\t\t\t\t\t<div hidden={action.EntityDTO.actionType!==\"DRUGDISCOUNT\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b >Action for drug buying</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div hidden={action.EntityDTO.actionType!==\"EXAMINATIONDISCOUNT\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b >Action for examination</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div hidden={action.EntityDTO.actionType!==\"CONSULTATIONDISCOUNT\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b >Action for consultation</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date from: </b> {new Date(action.EntityDTO.dateFrom).toDateString()}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date to: </b> {new Date(action.EntityDTO.dateTo).toDateString()}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Discount: </b> {action.EntityDTO.discount} <b> % </b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<AddActionPromotionModal show={this.state.showAddAction} pharmacyId={this.state.pharmacyId} onCloseModal={this.handleActionClose}/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</React.Fragment>\r\n\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ActionPromotionPageForPhAdmin;\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EditStorageModal.js",["640"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Axios from 'axios';\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nconst API_URL=\"http://localhost:8080\";\r\nclass EditStorage extends Component {\r\n    state = {\r\n        count:1, \r\n    }\r\n\r\n    handleCountChange= (event) => {\r\n        this.setState({count:event.target.value});\r\n    }\r\n\r\n    handleAdd = () => {\r\n        let editStorageDTO = {\r\n            pharmacyId: this.props.pharmacyId,\r\n            drugInstanceId: this.props.drugId, \r\n            count:this.state.count\r\n        };\r\n        console.log(editStorageDTO);\r\n            Axios\r\n            .put(API_URL + \"/drug/editPharmacyStorage\", editStorageDTO, {\r\n                validateStatus: () => true,\r\n                headers: { Authorization: GetAuthorisation() },\r\n            }).then((res) =>{\r\n                if (res.status === 200) {\r\n                   alert(\"Number of drugs is successfully edited.\");\r\n                    this.handleClose();\r\n                }else if(res.status===400){\r\n                   alert(\"It is not possible to change number of drugs.\");\r\n                }\r\n                else{\r\n                    alert(\"Error.\");\r\n                }\r\n                console.log(res.data);\r\n            }).catch((err) => {\r\n                alert(\"Error.\");\r\n            });\r\n        }\r\n    \r\n\r\n    handleClose = () => {\r\n     \r\n        this.props.closeModal();\r\n    }\r\n\r\n   \r\n\r\n    render() { \r\n       \r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}   \r\n                centered\r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title >\r\n                        Edit number of drugs in storage\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                        <form >\r\n                            <div  className=\"control-group\" >\r\n                                        <table style={{width:'100%'},{marginLeft:'17%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>New count:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input className=\"form-control\" style={{width: \"12.8em\"}} type=\"number\" min=\"1\" onChange={this.handleCountChange} value={this.state.count} />\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Modify storage</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => this.handleClose()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default EditStorage;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\AddOrder.js",["641","642","643","644","645","646","647"],"import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport Axios from 'axios';\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport MedicamentPicture from \"../../Images/medicament.jpg\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst API_URL=\"http://localhost:8080\";\r\nclass AddOrderModal extends Component {\r\n    state = {\r\n        drugsToAdd: [] ,\r\n        drugs:[],\r\n        page: 1,\r\n        modalSize:'lg',    \r\n        selectedDate:new Date(),\r\n        pharmacyId:'',\r\n        drugForAdd:'',\r\n        drugRemove:'',\r\n        selectedCount:'',\r\n        showDate:false,\r\n  \r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\t\tlet pharmacyId = localStorage.getItem(\"keyPharmacyId\")\r\n        this.setState({\r\n            pharmacyId: pharmacyId\r\n        })\r\n\t\tAxios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ drugs: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n    }\r\n\r\n    addItem = item => {\r\n        this.setState({\r\n            drugsToAdd: [\r\n            ...this.state.drugsToAdd,\r\n            item \r\n          ]\r\n        })\r\n    }\r\n\r\n    removeItem(e) {\r\n        var array = [...this.state.drugs];\r\n        var index = array.indexOf(e)\r\n        if (index !== -1) {\r\n          array.splice(index, 1);\r\n          this.setState({drugs: array});\r\n        }\r\n      }\r\n  \r\n      addItem1 = item => {\r\n        this.setState({\r\n            drugs: [\r\n            ...this.state.drugs,\r\n            item \r\n          ]\r\n        })\r\n    }\r\n\r\n    removeItem1(e) {\r\n        var array = [...this.state.drugsToAdd];\r\n        var index = array.indexOf(e)\r\n        if (index !== -1) {\r\n          array.splice(index, 1);\r\n          this.setState({drugsToAdd: array});\r\n        }\r\n      }\r\n  \r\n\r\n    handleAdd = () => {\r\n\r\n        if(this.state.selectedCount<1){\r\n           alert(\"Count is must be more than 0.\");         }\r\n        else{\r\n            let drugDTO = {\r\n                drugInstanceId: this.state.drugForAdd.Id,\r\n                drugName: this.state.drugForAdd.EntityDTO.name,\r\n                fabricCode: this.state.drugForAdd.EntityDTO.fabricCode,\r\n                producerName: this.state.drugForAdd.EntityDTO.producerName,\r\n                quantity:this.state.drugForAdd.EntityDTO.quantity,\r\n                amount:this.state.selectedCount\r\n            }\r\n            console.log(\"Bidibou\");\r\n            console.log(this.state.drugForAdd);\r\n            this.removeItem(this.state.drugForAdd);\r\n            console.log('res.data');\r\n            console.log(this.state.drugForAdd);\r\n            this.addItem(drugDTO);\r\n    \r\n            this.setState({\r\n                page:1,\r\n                selectedCount:'',\r\n                drugForAdd:''\r\n            })   \r\n        }\r\n    }\r\n\r\n    handleRemove = (drugRemove) => {\r\n           \r\n            console.log(drugRemove)\r\n    \r\n            let drugDTO = {\r\n                Id: drugRemove.drugInstanceId,\r\n                EntityDTO:{\r\n               \r\n                name: drugRemove.drugName,\r\n                fabricCode: drugRemove.fabricCode,\r\n                producerName: drugRemove.producerName,\r\n                quantity:drugRemove.quantity\r\n                }\r\n            }\r\n\r\n            console.log(\"Bidibou\");\r\n            console.log(drugDTO);\r\n            this.removeItem1(drugRemove);\r\n            console.log('res.data');\r\n            console.log(this.state.drugForAdd);\r\n            this.addItem1(drugDTO);\r\n    \r\n            this.setState({\r\n                page:1,\r\n                selectedCount:'',\r\n            })   \r\n        }\r\n    \r\n\r\n    handleCreateOrder = () =>{\r\n        let createOrderDTO = {\r\n            pharmacyId:this.props.pharmacyId,\r\n            listOfDrugs: this.state.drugsToAdd,\r\n            dateTo:this.state.selectedDate\r\n        }\r\n      console.log(createOrderDTO)\r\n        Axios\r\n        .post(API_URL + \"/order/addNewOrder\", createOrderDTO, {\r\n            validateStatus: () => true,\r\n            headers: { Authorization: GetAuthorisation() },})\r\n        .then((res) =>{\r\n            console.log(res.status)\r\n            if (res.status === 201) {\r\n                alert(\"New Oreder is succesfully created\");\r\n                this.handleClickOnClose();\r\n            }else {\r\n                alert(\"It is not possibe to create new order\");\r\n            }\r\n        }).catch((err) => {\r\n        });\r\n    }\r\n\r\n    isValidData = (addDrugToPharmacyDTO) =>{\r\n        if(addDrugToPharmacyDTO.drugId===''){\r\n            return false\r\n        }\r\n\r\n        if(addDrugToPharmacyDTO.dateTo===new Date()){\r\n            return false\r\n        }\r\n\r\n        if(addDrugToPharmacyDTO.amount<1){\r\n            return false\r\n        }\r\n\r\n        if(addDrugToPharmacyDTO.price<1){\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }\r\n\r\n    handleSelectedDateChange = (date) => {\r\n        this.setState({\r\n            selectedDate:date,\r\n        });\r\n\r\n    }\r\n\r\n\r\n    handleSelectedCountChange = (event) => {\r\n        this.setState({selectedCount:event.target.value});\r\n    }\r\n\r\n    handleClickOnCreateOrder = () =>{\r\n        if(this.state.drugsToAdd.length<1){\r\n          alert(\"Drug list is empty\");       \r\n        }else{\r\n            this.setState({\r\n                page:3,\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClickOnClose = () => {\r\n        this.setState({\r\n            drugsToAdd: [] ,\r\n            drugs:[],\r\n            page: 1,    \r\n            selectedDate:new Date(),\r\n            pharmacyId:'',\r\n            drugForAdd:'',\r\n            selectedCount:'',\r\n        });\r\n        this.handleUpdte();\r\n        this.props.closeModal();\r\n    }\r\n\r\n    handleUpdte = () => {\r\n        Axios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ drugs: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n    }\r\n\r\n    onAddClick = (id) =>{\r\n        this.setState({page : 2,drugForAdd:id});\r\n  \r\n\r\n    }\r\n\r\n \r\n\r\n     handleBack = (event) =>{\r\n        this.setState({page: 1,selectedCount:''});\r\n    \r\n\r\n    }\r\n\r\n\r\n\r\n    render() { \r\n      \r\n\r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                size='lg'\r\n                centered\r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title style={{marginLeft:'37%'}} >\r\n                        Create Order\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n           \r\n                <div className=\"container\">  \r\n\r\n                    <table hidden={this.state.page!== 1}  style={{width:'100%'}} className=\"table\">\r\n                                \r\n                                {this.state.drugs.map((drug) => (\r\n                                \r\n                                <tr id={drug.Id} key={drug.Id}>\r\n                                <td width=\"130em\">\r\n                                    <img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\"/>\r\n                                </td>\r\n                                <td>\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Drug Name:</b> {drug.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Name:</b> {drug.EntityDTO.fabricCode}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Manufacturer:</b> {drug.EntityDTO.producerName}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Quantity:</b> {drug.EntityDTO.quantity} <b> mg</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                </td>\r\n                                <td >\r\n                                    <div>\r\n                                        <button style={{height:'30px'},{verticalAlign:'center'}} className=\"btn btn-primary btn-xl mt-2\" onClick={() => this.onAddClick(drug)} type=\"button\"><i className=\"icofont-subscribe mr-1\"></i>Add</button>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            ))}\r\n                </table> \r\n                <div className=\"container\" style={{ marginTop: \"5%\"}} hidden={this.state.page!== 1}> \r\n                <h5>Selected drugs</h5>\r\n                    <table hidden={this.state.page!== 1} className=\"table\" style={{ width: \"100%\", marginTop: \"2rem\" }}>\r\n                    \r\n                        <tbody>\r\n                            {this.state.drugsToAdd.map((drug) => (\r\n                                <tr id={drug.Id} key={drug.Id}>\r\n                                    <td width=\"130em\">\r\n                                        <img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\"/>\r\n                                    </td>\r\n                                    <td>\r\n                                            <div><b>Drug:</b> {drug.drugName}</div>\r\n                                            <div><b>Name:</b> {drug.fabricCode}</div>\r\n                                            <div><b>Manufacturer:</b> {drug.producerName}</div>\r\n                                            <div><b>Amount:</b> {drug.amount}</div>\r\n                                    </td>\r\n                                    <td >\r\n                                        <div>\r\n                                            <button style={{height:'30px'},{verticalAlign:'center'}} className=\"btn btn-outline-primary mt-2\" onClick={() => this.handleRemove(drug)} type=\"button\">Remove</button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    </div>\r\n                    <div hidden={this.state.page!==2}>\r\n                                <form >\r\n                                    <div  className=\"control-group\" >\r\n                                        <div className=\"form-row\">\r\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link btn-xl\" type=\"button\">\r\n                                                Back\r\n                                            </button>                   \r\n                                        </div>\r\n                                        <table style={{width:'100%'},{marginLeft:'32%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Amount of drug:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input  className=\"form-control\" style={{width: \"12em\"}} type=\"number\" min=\"1\" onChange={this.handleSelectedCountChange} value={this.state.selectedCount} />\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Add drug to order list</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n                    <div hidden={this.state.page!==3}>\r\n                                <form >\r\n                                    <div  className=\"control-group\" >\r\n                                        <div className=\"form-row\">\r\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link btn-xl\" type=\"button\">\r\n                                              \r\n                                                Back\r\n                                            </button>                   \r\n                                        </div>\r\n                                        <table style={{width:'100%'},{marginLeft:'32%'}}>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label>Date:</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <DatePicker  className=\"form-control\" style={{width: \"15em\"}}  minDate={new Date()} onChange={date => this.handleSelectedDateChange(date)} selected={this.state.selectedDate}/>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                        <div  className=\"form-group text-center\">\r\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleCreateOrder()} >Create order</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                    </div>\r\n                </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button  hidden={this.state.page===3} onClick={() => this.handleClickOnCreateOrder()}>Create order</Button>\r\n                    <Button onClick={() => this.handleClickOnClose()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default AddOrderModal;","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\SupplierPages\\OrdersPageForPhAdmin.js",["648","649","650"],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\EditOrderModal.js",["651","652","653","654","655","656","657"],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Modal\\OffersforOrderModal.js",["658"],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\DermatologistScheduleAppointment.js",["659"],"import React, { Component } from \"react\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport ModalDialog from \"../../Components/ModalDialog\";\r\nimport GetAuthorisation from '../../Funciton/GetAuthorisation';\r\nimport { withRouter } from \"react-router\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass DermatologistScheduleAppointment extends Component {\r\n\tstate = {\r\n\t\tid: \"\",\r\n\t\tappointments: [],\r\n\t\topenModalSuccess: false,\r\n\t\tredirect: false,\r\n        redirectUrl: ''\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst id = this.props.match.params.id;\r\n\t\tthis.setState({\r\n\t\t\tid:id\r\n\t\t});\r\n\r\n\t\tAxios.get(API_URL + \"/appointment/dermatologist-created-appointment\", { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tredirect: true,\r\n\t\t\t\t\t\tredirectUrl: \"/unauthorized\"\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status == 200) {\r\n\t\t\t\t\tthis.setState({ appointments: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\thandleAppointmentClick = (appointmentId) => {\r\n\t\tAxios.post(API_URL + \"/appointment/schedule-appointment\",\r\n\t\t\t{ appointmentId: appointmentId, patientId: this.props.match.params.id },\r\n\t\t\t{ headers: { Authorization: GetAuthorisation() } }\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ openModalSuccess: true });\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\talert(\"Appointment can't be scheduled\");\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleModalSuccessClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenModalSuccess: false,\r\n\t\t\tredirect: true,\r\n\t\t\tredirectUrl: \"/patient-profile/\" + this.state.id\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\r\n\t\tif (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"10%\" }}>\r\n\t\t\t\t\t<h3 className=\" text-center mb-0 mt-2 text-uppercase\">Schedule Appointment</h3>\r\n\r\n\t\t\t\t\t<h5 className=\"mb-0 mt-5\">\r\n\t\t\t\t\t\tClick on appointment to schedule\r\n\t\t\t\t\t</h5>\r\n\r\n\t\t\t\t\t<table\r\n\t\t\t\t\t\tclassName=\"table table-hover\"\r\n\t\t\t\t\t\tstyle={{ width: \"70%\", marginTop: \"3rem\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.handleAppointmentClick(appointment.Id)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"rounded\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<td width=\"190em\">\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.startDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Time from: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.startDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Time to: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.endDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price: </b> {appointment.EntityDTO.price} <b>din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ModalDialog\r\n\t\t\t\t\tshow={this.state.openModalSuccess}\r\n\t\t\t\t\tonCloseModal={this.handleModalSuccessClose}\r\n\t\t\t\t\theader=\"Successfully scheduled appointment for patient\"\r\n\t\t\t\t\ttext=\"Start examination for scheduled appointment.\"\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(DermatologistScheduleAppointment);\r\n","E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\DermatologistCreateAndScheduleAppointment.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\PharmacistScheduleAppointment.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Pages\\Appointment\\DermatologistSchedule.js",[],"E:\\aca\\isa\\nasa-isa\\ISA-projekat\\ISA-front\\src\\Components\\Pharmacies\\PharmacyPage.js",["660","661","662","663"],"import React, { Component } from \"react\";\r\nimport Header from '../Header';\r\nimport Axios from \"axios\";\r\nimport { YMaps, Map,Placemark } from \"react-yandex-maps\";\r\n\r\nimport { Button, Modal } from \"react-bootstrap\";\r\n\r\n\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\n\r\nclass PharmacyPage extends Component {\r\n\tstate = {\r\n\t\tpharmacy: \"\",\r\n\t\tphId: \"\",\r\n\t\tnameOfPharmacy: \"Benu\",\r\n\t\tdescription: \"\",\r\n        grade: \"\",\r\n        adress:'',\r\n\t\t\r\n\t\tlat: \"\",\r\n\t\tlong: \"\",\r\n        isEditable: false,\r\n\t\tconsultationPrice:0,\r\n\t\tnameError: \"none\",\r\n\t\tdescriptionError: \"none\",\r\n\t\taddressError: \"none\",\r\n\t\tconsultationPriceError: \"none\",\r\n\t\tshowModal : false,\r\n\t\tshowModalErr   : false\r\n\r\n    };\r\n    \r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.addressInput = React.createRef();\r\n\t}\r\n\r\n\thandleChangeInfo = () => {\r\n\r\n\t\r\n\t\tlet street;\r\n\t\tlet city;\r\n\t\tlet country;\r\n\t\tlet latitude;\r\n\t\tlet longitude;\r\n\t\tlet address1;\r\n\t\tlet postCode ='10000';\r\n\r\n        address1= this.addressInput.current.value;\r\n\t\tvar com=address1.split(\",\");\r\n\t\tconsole.log(com[0]);\r\n\t\tthis.ymaps\r\n\t\t\t.geocode(this.addressInput.current.value)\r\n\t\t\t.then(function (res) {\r\n\t\t\t\tvar addressObject = res.geoObjects.get(0),\r\n\t\t\t\t\tcoords = addressObject.geometry.getCoordinates();\r\n\t\t\t\tlatitude = coords[0];\r\n\t\t\t\tlongitude = coords[1];\r\n\t\t\t\tcountry = addressObject.getCountry();\r\n\t\t\t\tstreet = addressObject.getThoroughfare();\r\n\t\t\t\tcity = addressObject.getLocalities().join(\", \");\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet phId = this.state.phId;\r\n\t\t\t\tlet pharmacyDTO = {\r\n\t\t\t\t\tname: this.state.nameOfPharmacy,\r\n\t\t\t\t\taddress: { city, street, country,postCode, latitude, longitude },\r\n\t\t\t\t\tdescription: this.state.description,\r\n\t\t\t\t\tconsultationPrice: this.state.consultationPrice,\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tif (this.validateForm(pharmacyDTO)) {\r\n\t\t\t\t\tAxios.put(API_URL + \"/pharmacy/editPharmacy/\"+phId,pharmacyDTO ,{\r\n\r\n\t\t\t\t\t\tvalidateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\t\t\tthis.setState({ showModalErr : true });\r\n\t\t\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tshowModal : true\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tvalidateForm = (pharmacyDTO) => {\r\n\t\tthis.setState({\r\n\t\t\tnameError: \"none\",\r\n\t\t\tdescriptionError: \"none\",\r\n\t\t\taddressError: \"none\",\r\n\t\t\tconsultationPriceError: \"none\",\r\n\t\t});\r\n\r\n\t\tif (pharmacyDTO.name === \"\") {\r\n\t\t\tthis.setState({ nameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (pharmacyDTO.description === \"\") {\r\n\t\t\tthis.setState({ descriptionError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (this.addressInput.current.value === \"\") {\r\n\t\t\tthis.setState({ addressError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (pharmacyDTO.consultationPrice === \"\") {\r\n\t\t\tthis.setState({ consultationPriceError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tisEditableInfoFields = () => {\r\n\t\tthis.setState({isEditable: true });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n        this.addressInput = React.createRef();\r\n\r\n\t\tAxios.get(API_URL + \"/pharmacy/pharmacyInfo/\"+localStorage.getItem(\"keyPharmacyId\"),{\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpharmacy: response.data,\r\n\t\t\t\t\tphId: response.data.Id,\r\n\t\t\t\t\tnameOfPharmacy: response.data.EntityDTO.name,\r\n\t\t\t\t\tdescription: response.data.EntityDTO.description,\r\n                    \r\n                    address: response.data.EntityDTO.address,\r\n\t\t\t\t\r\n\t\t\t\t\tlat: response.data.EntityDTO.address.latitude,\r\n\t\t\t\t\tlong: response.data.EntityDTO.address.longitude,\r\n                    grade: response.data.EntityDTO.grade,\r\n                    consultationPrice: response.data.EntityDTO.price\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(this.state.address.latitude);\r\n\t\t\t\tconsole.log(this.state.address.longitude        );\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\r\n    }\r\n    \r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ nameOfPharmacy: event.target.value });\r\n\t};\r\n\r\n\thandleDescriptionChange= (event) => {\r\n\t\tthis.setState({ description: event.target.value });\r\n\t};\r\n\r\n\thandleConsultationPriceChange = (event) => {\r\n\t\tthis.setState({ consultationPrice: event.target.value });\r\n\t};\r\n\r\n\t\r\n\thandleCloseModal = () => {\r\n\t\tthis.setState({ showModal: false ,showModalErr: false});\r\n\t};\r\n\r\n\r\n\t\r\n\t\r\n\r\n\taddressSuggestView = (ymaps) => {\r\n\t\tthis.ymaps = ymaps;\r\n\r\n\t\tif (this.state.address !== \"\") {\r\n\t\t\tthis.ymaps\r\n\t\t\t\t.geocode([this.state.address.latitude, this.state.address.longitude])\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tvar firstGeoObject = res.geoObjects.get(0);\r\n\t\t\t\t\tdocument.getElementById(\"suggest\").setAttribute(\"value\", firstGeoObject.getAddressLine());\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tconst suggestView = new ymaps.SuggestView(\"suggest\");\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\t\t\r\n\trender() {\r\n\t\t\r\n\t\t\r\n\t\tconst nameOfPharmacy=this.state.nameOfPharmacy;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-xs-8\" style={{marginLeft:'3%'}}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<YMaps query={{load: \"package.full\",lang: \"en_US\",apikey: \"b0ea2fa3-aba0-4e44-a38e-4e890158ece2\"}}>\r\n        \t\t\t\t\t\t\t\t<Map width=\"33em\" height=\"470px\"\r\n          \t\t\t\t\t\t\t\tonLoad={this.addressSuggestView}\r\n          \t\t\t\t\t\t\t\tdefaultState={{ center: [this.state.lat, this.state.long], zoom: 15 }}\r\n         \t\t\t\t\t\t\t\t modules={[\"SuggestView\"]}\r\n        \t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Placemark geometry={[this.state.lat, this.state.long]}  properties={{ balloonContent: this.state.nameOfPharmacy }}/>\r\n\t\t\t\t\t\t\t\t\t\t</Map>\r\n     \t\t\t\t\t\t\t\t\t </YMaps>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PharmacyPage;\r\n",{"ruleId":"664","severity":1,"message":"665","line":10,"column":8,"nodeType":"666","messageId":"667","endLine":10,"endColumn":9},{"ruleId":"664","severity":1,"message":"668","line":11,"column":8,"nodeType":"666","messageId":"667","endLine":11,"endColumn":14},{"ruleId":"669","replacedBy":"670"},{"ruleId":"671","replacedBy":"672"},{"ruleId":"664","severity":1,"message":"673","line":41,"column":8,"nodeType":"666","messageId":"667","endLine":41,"endColumn":40},{"ruleId":"664","severity":1,"message":"674","line":43,"column":8,"nodeType":"666","messageId":"667","endLine":43,"endColumn":49},{"ruleId":"664","severity":1,"message":"675","line":49,"column":3,"nodeType":"666","messageId":"667","endLine":49,"endColumn":7},{"ruleId":"676","severity":1,"message":"677","line":206,"column":90,"nodeType":"678","messageId":"679","endLine":206,"endColumn":92},{"ruleId":"680","severity":1,"message":"681","line":261,"column":11,"nodeType":"682","endLine":261,"endColumn":72},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"664","severity":1,"message":"684","line":2,"column":18,"nodeType":"666","messageId":"667","endLine":2,"endColumn":23},{"ruleId":"664","severity":1,"message":"685","line":8,"column":9,"nodeType":"666","messageId":"667","endLine":8,"endColumn":16},{"ruleId":"664","severity":1,"message":"686","line":8,"column":18,"nodeType":"666","messageId":"667","endLine":8,"endColumn":26},{"ruleId":"664","severity":1,"message":"687","line":9,"column":8,"nodeType":"666","messageId":"667","endLine":9,"endColumn":37},{"ruleId":"688","severity":1,"message":"689","line":39,"column":5,"nodeType":"690","messageId":"691","endLine":41,"endColumn":6},{"ruleId":"680","severity":1,"message":"681","line":300,"column":22,"nodeType":"682","endLine":300,"endColumn":91},{"ruleId":"664","severity":1,"message":"692","line":2,"column":13,"nodeType":"666","messageId":"667","endLine":2,"endColumn":27},{"ruleId":"664","severity":1,"message":"693","line":4,"column":8,"nodeType":"666","messageId":"667","endLine":4,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":128,"column":11,"nodeType":"682","endLine":128,"endColumn":71},{"ruleId":"694","severity":1,"message":"695","line":76,"column":3,"nodeType":"696","messageId":"679","endLine":76,"endColumn":11},{"ruleId":"697","severity":1,"message":"698","line":92,"column":3,"nodeType":"699","messageId":"700","endLine":92,"endColumn":13},{"ruleId":"701","severity":1,"message":"702","line":184,"column":3,"nodeType":"703","messageId":"704","endLine":213,"endColumn":4},{"ruleId":"680","severity":1,"message":"681","line":708,"column":11,"nodeType":"682","endLine":708,"endColumn":77},{"ruleId":"680","severity":1,"message":"681","line":139,"column":11,"nodeType":"682","endLine":139,"endColumn":71},{"ruleId":"694","severity":1,"message":"705","line":43,"column":9,"nodeType":"696","messageId":"679","endLine":43,"endColumn":21},{"ruleId":"664","severity":1,"message":"706","line":335,"column":22,"nodeType":"666","messageId":"667","endLine":335,"endColumn":27},{"ruleId":"707","severity":1,"message":"708","line":807,"column":19,"nodeType":"699","messageId":"709","endLine":807,"endColumn":54,"fix":"710"},{"ruleId":"680","severity":1,"message":"681","line":878,"column":41,"nodeType":"682","endLine":878,"endColumn":85},{"ruleId":"707","severity":1,"message":"708","line":271,"column":19,"nodeType":"699","messageId":"709","endLine":271,"endColumn":54,"fix":"711"},{"ruleId":"680","severity":1,"message":"681","line":308,"column":41,"nodeType":"682","endLine":308,"endColumn":85},{"ruleId":"664","severity":1,"message":"712","line":5,"column":8,"nodeType":"666","messageId":"667","endLine":5,"endColumn":27},{"ruleId":"688","severity":1,"message":"689","line":68,"column":2,"nodeType":"690","messageId":"691","endLine":70,"endColumn":3},{"ruleId":"713","severity":1,"message":"714","line":598,"column":44,"nodeType":"715","messageId":"716","endLine":598,"endColumn":45,"suggestions":"717"},{"ruleId":"713","severity":1,"message":"714","line":598,"column":63,"nodeType":"715","messageId":"716","endLine":598,"endColumn":64,"suggestions":"718"},{"ruleId":"719","severity":1,"message":"720","line":858,"column":56,"nodeType":"721","messageId":"722","endLine":858,"endColumn":138},{"ruleId":"719","severity":1,"message":"720","line":1013,"column":70,"nodeType":"721","messageId":"722","endLine":1013,"endColumn":151},{"ruleId":"664","severity":1,"message":"686","line":5,"column":10,"nodeType":"666","messageId":"667","endLine":5,"endColumn":18},{"ruleId":"664","severity":1,"message":"723","line":6,"column":8,"nodeType":"666","messageId":"667","endLine":6,"endColumn":24},{"ruleId":"688","severity":1,"message":"689","line":30,"column":3,"nodeType":"690","messageId":"691","endLine":32,"endColumn":2},{"ruleId":"707","severity":1,"message":"708","line":276,"column":19,"nodeType":"699","messageId":"709","endLine":276,"endColumn":54,"fix":"724"},{"ruleId":"680","severity":1,"message":"681","line":321,"column":41,"nodeType":"682","endLine":321,"endColumn":85},{"ruleId":"664","severity":1,"message":"686","line":5,"column":10,"nodeType":"666","messageId":"667","endLine":5,"endColumn":18},{"ruleId":"680","severity":1,"message":"681","line":304,"column":22,"nodeType":"682","endLine":304,"endColumn":115},{"ruleId":"664","severity":1,"message":"685","line":8,"column":9,"nodeType":"666","messageId":"667","endLine":8,"endColumn":16},{"ruleId":"664","severity":1,"message":"686","line":8,"column":18,"nodeType":"666","messageId":"667","endLine":8,"endColumn":26},{"ruleId":"688","severity":1,"message":"689","line":49,"column":5,"nodeType":"690","messageId":"691","endLine":51,"endColumn":6},{"ruleId":"680","severity":1,"message":"681","line":616,"column":22,"nodeType":"682","endLine":616,"endColumn":108},{"ruleId":"664","severity":1,"message":"725","line":6,"column":8,"nodeType":"666","messageId":"667","endLine":6,"endColumn":25},{"ruleId":"664","severity":1,"message":"726","line":7,"column":8,"nodeType":"666","messageId":"667","endLine":7,"endColumn":23},{"ruleId":"664","severity":1,"message":"685","line":8,"column":9,"nodeType":"666","messageId":"667","endLine":8,"endColumn":16},{"ruleId":"664","severity":1,"message":"686","line":8,"column":18,"nodeType":"666","messageId":"667","endLine":8,"endColumn":26},{"ruleId":"664","severity":1,"message":"687","line":9,"column":8,"nodeType":"666","messageId":"667","endLine":9,"endColumn":37},{"ruleId":"680","severity":1,"message":"681","line":177,"column":11,"nodeType":"682","endLine":177,"endColumn":71},{"ruleId":"664","severity":1,"message":"725","line":6,"column":8,"nodeType":"666","messageId":"667","endLine":6,"endColumn":25},{"ruleId":"664","severity":1,"message":"726","line":7,"column":8,"nodeType":"666","messageId":"667","endLine":7,"endColumn":23},{"ruleId":"664","severity":1,"message":"685","line":8,"column":9,"nodeType":"666","messageId":"667","endLine":8,"endColumn":16},{"ruleId":"664","severity":1,"message":"686","line":8,"column":18,"nodeType":"666","messageId":"667","endLine":8,"endColumn":26},{"ruleId":"680","severity":1,"message":"681","line":319,"column":11,"nodeType":"682","endLine":319,"endColumn":76},{"ruleId":"664","severity":1,"message":"727","line":5,"column":8,"nodeType":"666","messageId":"667","endLine":5,"endColumn":39},{"ruleId":"664","severity":1,"message":"726","line":7,"column":8,"nodeType":"666","messageId":"667","endLine":7,"endColumn":23},{"ruleId":"664","severity":1,"message":"685","line":8,"column":9,"nodeType":"666","messageId":"667","endLine":8,"endColumn":16},{"ruleId":"664","severity":1,"message":"686","line":8,"column":18,"nodeType":"666","messageId":"667","endLine":8,"endColumn":26},{"ruleId":"688","severity":1,"message":"689","line":46,"column":5,"nodeType":"690","messageId":"691","endLine":48,"endColumn":6},{"ruleId":"664","severity":1,"message":"728","line":121,"column":7,"nodeType":"666","messageId":"667","endLine":121,"endColumn":21},{"ruleId":"664","severity":1,"message":"685","line":8,"column":9,"nodeType":"666","messageId":"667","endLine":8,"endColumn":16},{"ruleId":"664","severity":1,"message":"686","line":8,"column":18,"nodeType":"666","messageId":"667","endLine":8,"endColumn":26},{"ruleId":"688","severity":1,"message":"689","line":50,"column":5,"nodeType":"690","messageId":"691","endLine":52,"endColumn":6},{"ruleId":"680","severity":1,"message":"681","line":567,"column":22,"nodeType":"682","endLine":567,"endColumn":111},{"ruleId":"697","severity":1,"message":"698","line":108,"column":5,"nodeType":"699","messageId":"700","endLine":108,"endColumn":15},{"ruleId":"688","severity":1,"message":"689","line":120,"column":5,"nodeType":"690","messageId":"691","endLine":122,"endColumn":3},{"ruleId":"697","severity":1,"message":"698","line":125,"column":3,"nodeType":"699","messageId":"700","endLine":125,"endColumn":13},{"ruleId":"664","severity":1,"message":"706","line":189,"column":22,"nodeType":"666","messageId":"667","endLine":189,"endColumn":27},{"ruleId":"664","severity":1,"message":"706","line":324,"column":24,"nodeType":"666","messageId":"667","endLine":324,"endColumn":29},{"ruleId":"664","severity":1,"message":"706","line":357,"column":24,"nodeType":"666","messageId":"667","endLine":357,"endColumn":29},{"ruleId":"664","severity":1,"message":"685","line":8,"column":9,"nodeType":"666","messageId":"667","endLine":8,"endColumn":16},{"ruleId":"664","severity":1,"message":"686","line":8,"column":18,"nodeType":"666","messageId":"667","endLine":8,"endColumn":26},{"ruleId":"688","severity":1,"message":"689","line":31,"column":5,"nodeType":"690","messageId":"691","endLine":33,"endColumn":6},{"ruleId":"680","severity":1,"message":"681","line":224,"column":22,"nodeType":"682","endLine":224,"endColumn":111},{"ruleId":"697","severity":1,"message":"698","line":162,"column":3,"nodeType":"699","messageId":"700","endLine":162,"endColumn":13},{"ruleId":"676","severity":1,"message":"677","line":193,"column":32,"nodeType":"678","messageId":"679","endLine":193,"endColumn":34},{"ruleId":"676","severity":1,"message":"677","line":219,"column":32,"nodeType":"678","messageId":"679","endLine":219,"endColumn":34},{"ruleId":"676","severity":1,"message":"677","line":235,"column":32,"nodeType":"678","messageId":"679","endLine":235,"endColumn":34},{"ruleId":"676","severity":1,"message":"677","line":250,"column":32,"nodeType":"678","messageId":"679","endLine":250,"endColumn":34},{"ruleId":"729","severity":1,"message":"730","line":306,"column":37,"nodeType":"682","endLine":306,"endColumn":112},{"ruleId":"729","severity":1,"message":"730","line":307,"column":37,"nodeType":"682","endLine":307,"endColumn":112},{"ruleId":"729","severity":1,"message":"730","line":308,"column":37,"nodeType":"682","endLine":308,"endColumn":118},{"ruleId":"729","severity":1,"message":"730","line":309,"column":37,"nodeType":"682","endLine":309,"endColumn":117},{"ruleId":"676","severity":1,"message":"677","line":313,"column":91,"nodeType":"678","messageId":"679","endLine":313,"endColumn":93},{"ruleId":"664","severity":1,"message":"731","line":7,"column":10,"nodeType":"666","messageId":"667","endLine":7,"endColumn":18},{"ruleId":"664","severity":1,"message":"732","line":8,"column":8,"nodeType":"666","messageId":"667","endLine":8,"endColumn":18},{"ruleId":"680","severity":1,"message":"681","line":271,"column":12,"nodeType":"682","endLine":271,"endColumn":72},{"ruleId":"719","severity":1,"message":"720","line":320,"column":6,"nodeType":"721","messageId":"722","endLine":320,"endColumn":28},{"ruleId":"680","severity":1,"message":"681","line":194,"column":11,"nodeType":"682","endLine":194,"endColumn":72},{"ruleId":"664","severity":1,"message":"733","line":4,"column":22,"nodeType":"666","messageId":"667","endLine":4,"endColumn":28},{"ruleId":"664","severity":1,"message":"734","line":7,"column":7,"nodeType":"666","messageId":"667","endLine":7,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":49,"column":41,"nodeType":"682","endLine":49,"endColumn":85},{"ruleId":"664","severity":1,"message":"735","line":2,"column":8,"nodeType":"666","messageId":"667","endLine":2,"endColumn":14},{"ruleId":"664","severity":1,"message":"734","line":5,"column":7,"nodeType":"666","messageId":"667","endLine":5,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":70,"column":22,"nodeType":"682","endLine":70,"endColumn":91},{"ruleId":"664","severity":1,"message":"692","line":2,"column":13,"nodeType":"666","messageId":"667","endLine":2,"endColumn":27},{"ruleId":"664","severity":1,"message":"736","line":26,"column":15,"nodeType":"666","messageId":"667","endLine":26,"endColumn":22},{"ruleId":"680","severity":1,"message":"681","line":36,"column":11,"nodeType":"682","endLine":36,"endColumn":77},{"ruleId":"664","severity":1,"message":"734","line":11,"column":7,"nodeType":"666","messageId":"667","endLine":11,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":136,"column":22,"nodeType":"682","endLine":136,"endColumn":97},{"ruleId":"664","severity":1,"message":"737","line":4,"column":8,"nodeType":"666","messageId":"667","endLine":4,"endColumn":18},{"ruleId":"680","severity":1,"message":"681","line":65,"column":33,"nodeType":"682","endLine":73,"endColumn":14},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"664","severity":1,"message":"725","line":3,"column":8,"nodeType":"666","messageId":"667","endLine":3,"endColumn":25},{"ruleId":"680","severity":1,"message":"681","line":32,"column":11,"nodeType":"682","endLine":32,"endColumn":76},{"ruleId":"664","severity":1,"message":"738","line":3,"column":8,"nodeType":"666","messageId":"667","endLine":3,"endColumn":13},{"ruleId":"664","severity":1,"message":"723","line":4,"column":8,"nodeType":"666","messageId":"667","endLine":4,"endColumn":24},{"ruleId":"664","severity":1,"message":"734","line":8,"column":7,"nodeType":"666","messageId":"667","endLine":8,"endColumn":14},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"664","severity":1,"message":"725","line":3,"column":8,"nodeType":"666","messageId":"667","endLine":3,"endColumn":25},{"ruleId":"680","severity":1,"message":"681","line":30,"column":11,"nodeType":"682","endLine":30,"endColumn":71},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"664","severity":1,"message":"725","line":3,"column":8,"nodeType":"666","messageId":"667","endLine":3,"endColumn":25},{"ruleId":"664","severity":1,"message":"738","line":3,"column":8,"nodeType":"666","messageId":"667","endLine":3,"endColumn":13},{"ruleId":"664","severity":1,"message":"723","line":4,"column":8,"nodeType":"666","messageId":"667","endLine":4,"endColumn":24},{"ruleId":"664","severity":1,"message":"734","line":9,"column":7,"nodeType":"666","messageId":"667","endLine":9,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":61,"column":45,"nodeType":"682","endLine":61,"endColumn":101},{"ruleId":"664","severity":1,"message":"738","line":3,"column":8,"nodeType":"666","messageId":"667","endLine":3,"endColumn":13},{"ruleId":"664","severity":1,"message":"723","line":4,"column":8,"nodeType":"666","messageId":"667","endLine":4,"endColumn":24},{"ruleId":"664","severity":1,"message":"734","line":9,"column":7,"nodeType":"666","messageId":"667","endLine":9,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":64,"column":45,"nodeType":"682","endLine":64,"endColumn":122},{"ruleId":"664","severity":1,"message":"739","line":189,"column":11,"nodeType":"666","messageId":"667","endLine":189,"endColumn":22},{"ruleId":"664","severity":1,"message":"684","line":2,"column":8,"nodeType":"666","messageId":"667","endLine":2,"endColumn":13},{"ruleId":"664","severity":1,"message":"735","line":6,"column":8,"nodeType":"666","messageId":"667","endLine":6,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":93,"column":9,"nodeType":"682","endLine":93,"endColumn":53},{"ruleId":"664","severity":1,"message":"740","line":2,"column":18,"nodeType":"666","messageId":"667","endLine":2,"endColumn":29},{"ruleId":"664","severity":1,"message":"686","line":8,"column":10,"nodeType":"666","messageId":"667","endLine":8,"endColumn":18},{"ruleId":"664","severity":1,"message":"741","line":9,"column":10,"nodeType":"666","messageId":"667","endLine":9,"endColumn":22},{"ruleId":"742","severity":1,"message":"743","line":273,"column":69,"nodeType":"744","messageId":"745","endLine":273,"endColumn":70},{"ruleId":"719","severity":1,"message":"720","line":326,"column":107,"nodeType":"721","messageId":"722","endLine":326,"endColumn":120},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"719","severity":1,"message":"720","line":105,"column":65,"nodeType":"721","messageId":"722","endLine":105,"endColumn":78},{"ruleId":"719","severity":1,"message":"720","line":106,"column":65,"nodeType":"721","messageId":"722","endLine":106,"endColumn":78},{"ruleId":"680","severity":1,"message":"681","line":194,"column":37,"nodeType":"682","endLine":198,"endColumn":43},{"ruleId":"680","severity":1,"message":"681","line":223,"column":37,"nodeType":"682","endLine":227,"endColumn":43},{"ruleId":"742","severity":1,"message":"743","line":245,"column":75,"nodeType":"744","messageId":"745","endLine":245,"endColumn":76},{"ruleId":"742","severity":1,"message":"743","line":261,"column":69,"nodeType":"744","messageId":"745","endLine":261,"endColumn":70},{"ruleId":"742","severity":1,"message":"743","line":223,"column":69,"nodeType":"744","messageId":"745","endLine":223,"endColumn":70},{"ruleId":"664","severity":1,"message":"738","line":2,"column":8,"nodeType":"666","messageId":"667","endLine":2,"endColumn":13},{"ruleId":"664","severity":1,"message":"723","line":5,"column":8,"nodeType":"666","messageId":"667","endLine":5,"endColumn":24},{"ruleId":"664","severity":1,"message":"734","line":9,"column":7,"nodeType":"666","messageId":"667","endLine":9,"endColumn":14},{"ruleId":"680","severity":1,"message":"681","line":34,"column":25,"nodeType":"682","endLine":34,"endColumn":69},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"664","severity":1,"message":"684","line":2,"column":18,"nodeType":"666","messageId":"667","endLine":2,"endColumn":23},{"ruleId":"664","severity":1,"message":"746","line":6,"column":8,"nodeType":"666","messageId":"667","endLine":6,"endColumn":16},{"ruleId":"664","severity":1,"message":"747","line":7,"column":8,"nodeType":"666","messageId":"667","endLine":7,"endColumn":29},{"ruleId":"664","severity":1,"message":"748","line":3,"column":8,"nodeType":"666","messageId":"667","endLine":3,"endColumn":12},{"ruleId":"664","severity":1,"message":"684","line":2,"column":8,"nodeType":"666","messageId":"667","endLine":2,"endColumn":13},{"ruleId":"680","severity":1,"message":"681","line":91,"column":9,"nodeType":"682","endLine":91,"endColumn":53},{"ruleId":"664","severity":1,"message":"740","line":2,"column":18,"nodeType":"666","messageId":"667","endLine":2,"endColumn":29},{"ruleId":"664","severity":1,"message":"686","line":8,"column":10,"nodeType":"666","messageId":"667","endLine":8,"endColumn":18},{"ruleId":"664","severity":1,"message":"741","line":9,"column":10,"nodeType":"666","messageId":"667","endLine":9,"endColumn":22},{"ruleId":"664","severity":1,"message":"749","line":11,"column":8,"nodeType":"666","messageId":"667","endLine":11,"endColumn":20},{"ruleId":"664","severity":1,"message":"750","line":12,"column":8,"nodeType":"666","messageId":"667","endLine":12,"endColumn":27},{"ruleId":"664","severity":1,"message":"751","line":13,"column":8,"nodeType":"666","messageId":"667","endLine":13,"endColumn":29},{"ruleId":"742","severity":1,"message":"743","line":261,"column":69,"nodeType":"744","messageId":"745","endLine":261,"endColumn":70},{"ruleId":"719","severity":1,"message":"720","line":311,"column":107,"nodeType":"721","messageId":"722","endLine":311,"endColumn":120},{"ruleId":"664","severity":1,"message":"683","line":2,"column":10,"nodeType":"666","messageId":"667","endLine":2,"endColumn":16},{"ruleId":"719","severity":1,"message":"720","line":106,"column":65,"nodeType":"721","messageId":"722","endLine":106,"endColumn":78},{"ruleId":"719","severity":1,"message":"720","line":107,"column":65,"nodeType":"721","messageId":"722","endLine":107,"endColumn":78},{"ruleId":"664","severity":1,"message":"735","line":1,"column":8,"nodeType":"666","messageId":"667","endLine":1,"endColumn":14},{"ruleId":"664","severity":1,"message":"686","line":4,"column":10,"nodeType":"666","messageId":"667","endLine":4,"endColumn":18},{"ruleId":"742","severity":1,"message":"743","line":439,"column":69,"nodeType":"744","messageId":"745","endLine":439,"endColumn":70},{"ruleId":"664","severity":1,"message":"752","line":5,"column":8,"nodeType":"666","messageId":"667","endLine":5,"endColumn":30},{"ruleId":"664","severity":1,"message":"753","line":7,"column":8,"nodeType":"666","messageId":"667","endLine":7,"endColumn":34},{"ruleId":"664","severity":1,"message":"754","line":8,"column":8,"nodeType":"666","messageId":"667","endLine":8,"endColumn":28},{"ruleId":"664","severity":1,"message":"755","line":9,"column":8,"nodeType":"666","messageId":"667","endLine":9,"endColumn":23},{"ruleId":"664","severity":1,"message":"756","line":14,"column":8,"nodeType":"666","messageId":"667","endLine":14,"endColumn":31},{"ruleId":"701","severity":1,"message":"702","line":127,"column":3,"nodeType":"703","messageId":"704","endLine":160,"endColumn":4},{"ruleId":"676","severity":1,"message":"677","line":266,"column":20,"nodeType":"678","messageId":"679","endLine":266,"endColumn":22},{"ruleId":"680","severity":1,"message":"681","line":416,"column":13,"nodeType":"682","endLine":416,"endColumn":79},{"ruleId":"664","severity":1,"message":"757","line":5,"column":8,"nodeType":"666","messageId":"667","endLine":5,"endColumn":18},{"ruleId":"680","severity":1,"message":"681","line":178,"column":13,"nodeType":"682","endLine":178,"endColumn":79},{"ruleId":"742","severity":1,"message":"743","line":227,"column":69,"nodeType":"744","messageId":"745","endLine":227,"endColumn":70},{"ruleId":"664","severity":1,"message":"758","line":6,"column":10,"nodeType":"666","messageId":"667","endLine":6,"endColumn":20},{"ruleId":"759","severity":1,"message":"760","line":111,"column":41,"nodeType":"678","messageId":"761","endLine":111,"endColumn":42},{"ruleId":"697","severity":1,"message":"698","line":170,"column":6,"nodeType":"699","messageId":"700","endLine":170,"endColumn":16},{"ruleId":"676","severity":1,"message":"762","line":170,"column":120,"nodeType":"678","messageId":"679","endLine":170,"endColumn":122},{"ruleId":"676","severity":1,"message":"677","line":187,"column":80,"nodeType":"678","messageId":"679","endLine":187,"endColumn":82},{"ruleId":"676","severity":1,"message":"677","line":53,"column":27,"nodeType":"678","messageId":"679","endLine":53,"endColumn":29},{"ruleId":"676","severity":1,"message":"677","line":53,"column":48,"nodeType":"678","messageId":"679","endLine":53,"endColumn":50},{"ruleId":"676","severity":1,"message":"677","line":55,"column":21,"nodeType":"678","messageId":"679","endLine":55,"endColumn":23},{"ruleId":"676","severity":1,"message":"677","line":82,"column":27,"nodeType":"678","messageId":"679","endLine":82,"endColumn":29},{"ruleId":"680","severity":1,"message":"681","line":205,"column":8,"nodeType":"682","endLine":210,"endColumn":11},{"ruleId":"676","severity":1,"message":"762","line":337,"column":65,"nodeType":"678","messageId":"679","endLine":337,"endColumn":67},{"ruleId":"676","severity":1,"message":"677","line":338,"column":54,"nodeType":"678","messageId":"679","endLine":338,"endColumn":56},{"ruleId":"676","severity":1,"message":"762","line":338,"column":114,"nodeType":"678","messageId":"679","endLine":338,"endColumn":116},{"ruleId":"676","severity":1,"message":"762","line":367,"column":55,"nodeType":"678","messageId":"679","endLine":367,"endColumn":57},{"ruleId":"676","severity":1,"message":"762","line":382,"column":55,"nodeType":"678","messageId":"679","endLine":382,"endColumn":57},{"ruleId":"676","severity":1,"message":"677","line":53,"column":50,"nodeType":"678","messageId":"679","endLine":53,"endColumn":52},{"ruleId":"676","severity":1,"message":"677","line":54,"column":53,"nodeType":"678","messageId":"679","endLine":54,"endColumn":55},{"ruleId":"676","severity":1,"message":"762","line":81,"column":149,"nodeType":"678","messageId":"679","endLine":81,"endColumn":151},{"ruleId":"680","severity":1,"message":"681","line":34,"column":49,"nodeType":"682","endLine":34,"endColumn":114},{"ruleId":"680","severity":1,"message":"681","line":30,"column":7,"nodeType":"682","endLine":30,"endColumn":73},{"ruleId":"680","severity":1,"message":"681","line":29,"column":7,"nodeType":"682","endLine":29,"endColumn":73},{"ruleId":"664","severity":1,"message":"686","line":7,"column":10,"nodeType":"666","messageId":"667","endLine":7,"endColumn":18},{"ruleId":"676","severity":1,"message":"677","line":59,"column":30,"nodeType":"678","messageId":"679","endLine":59,"endColumn":32},{"ruleId":"664","severity":1,"message":"686","line":7,"column":10,"nodeType":"666","messageId":"667","endLine":7,"endColumn":18},{"ruleId":"676","severity":1,"message":"677","line":58,"column":25,"nodeType":"678","messageId":"679","endLine":58,"endColumn":27},{"ruleId":"676","severity":1,"message":"677","line":61,"column":31,"nodeType":"678","messageId":"679","endLine":61,"endColumn":33},{"ruleId":"742","severity":1,"message":"743","line":110,"column":69,"nodeType":"744","messageId":"745","endLine":110,"endColumn":70},{"ruleId":"680","severity":1,"message":"681","line":83,"column":13,"nodeType":"682","endLine":83,"endColumn":79},{"ruleId":"742","severity":1,"message":"743","line":65,"column":69,"nodeType":"744","messageId":"745","endLine":65,"endColumn":70},{"ruleId":"664","severity":1,"message":"686","line":8,"column":10,"nodeType":"666","messageId":"667","endLine":8,"endColumn":18},{"ruleId":"680","severity":1,"message":"681","line":273,"column":37,"nodeType":"682","endLine":273,"endColumn":102},{"ruleId":"742","severity":1,"message":"743","line":291,"column":71,"nodeType":"744","messageId":"745","endLine":291,"endColumn":72},{"ruleId":"680","severity":1,"message":"681","line":305,"column":41,"nodeType":"682","endLine":305,"endColumn":106},{"ruleId":"742","severity":1,"message":"743","line":315,"column":75,"nodeType":"744","messageId":"745","endLine":315,"endColumn":76},{"ruleId":"742","severity":1,"message":"743","line":331,"column":69,"nodeType":"744","messageId":"745","endLine":331,"endColumn":70},{"ruleId":"742","severity":1,"message":"743","line":356,"column":69,"nodeType":"744","messageId":"745","endLine":356,"endColumn":70},{"ruleId":"680","severity":1,"message":"681","line":309,"column":11,"nodeType":"682","endLine":309,"endColumn":72},{"ruleId":"676","severity":1,"message":"677","line":355,"column":98,"nodeType":"678","messageId":"679","endLine":355,"endColumn":100},{"ruleId":"676","severity":1,"message":"677","line":355,"column":132,"nodeType":"678","messageId":"679","endLine":355,"endColumn":134},{"ruleId":"664","severity":1,"message":"686","line":8,"column":10,"nodeType":"666","messageId":"667","endLine":8,"endColumn":18},{"ruleId":"680","severity":1,"message":"681","line":201,"column":37,"nodeType":"682","endLine":201,"endColumn":102},{"ruleId":"742","severity":1,"message":"743","line":219,"column":71,"nodeType":"744","messageId":"745","endLine":219,"endColumn":72},{"ruleId":"680","severity":1,"message":"681","line":233,"column":41,"nodeType":"682","endLine":233,"endColumn":106},{"ruleId":"742","severity":1,"message":"743","line":243,"column":75,"nodeType":"744","messageId":"745","endLine":243,"endColumn":76},{"ruleId":"742","severity":1,"message":"743","line":259,"column":69,"nodeType":"744","messageId":"745","endLine":259,"endColumn":70},{"ruleId":"742","severity":1,"message":"743","line":284,"column":69,"nodeType":"744","messageId":"745","endLine":284,"endColumn":70},{"ruleId":"680","severity":1,"message":"681","line":75,"column":12,"nodeType":"682","endLine":75,"endColumn":72},{"ruleId":"676","severity":1,"message":"677","line":32,"column":27,"nodeType":"678","messageId":"679","endLine":32,"endColumn":29},{"ruleId":"664","severity":1,"message":"683","line":6,"column":10,"nodeType":"666","messageId":"667","endLine":6,"endColumn":16},{"ruleId":"664","severity":1,"message":"684","line":6,"column":18,"nodeType":"666","messageId":"667","endLine":6,"endColumn":23},{"ruleId":"664","severity":1,"message":"739","line":189,"column":11,"nodeType":"666","messageId":"667","endLine":189,"endColumn":22},{"ruleId":"664","severity":1,"message":"763","line":197,"column":9,"nodeType":"666","messageId":"667","endLine":197,"endColumn":23},"no-unused-vars","'$' is defined but never used.","Identifier","unusedVar","'Popper' is defined but never used.","no-native-reassign",["764"],"no-negated-in-lhs",["765"],"'DermatologistScheduleAppointment' is defined but never used.","'DermatologistCreateAndScheduleAppointment' is defined but never used.","'Link' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Button' is defined but never used.","'Modal' is defined but never used.","'NavLink' is defined but never used.","'Redirect' is defined but never used.","'HistoryPharmacistConsultation' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'ReactBootStrap' is defined but never used.","'TopBar' is defined but never used.","no-dupe-keys","Duplicate key 'drugName'.","ObjectExpression","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","noDirectMutation","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","Duplicate key 'pharmacyName'.","'value' is assigned a value but never used.","no-whitespace-before-property","Unexpected whitespace before property handleSearchCountryNameChange.","unexpectedWhitespace",{"range":"766","text":"767"},{"range":"768","text":"767"},"'PharmacyLogoPicture' is defined but never used.","no-useless-escape","Unnecessary escape character: \\/.","Literal","unnecessaryEscape",["769","770"],["771","772"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","noDuplicateProps","'GetAuthorisation' is defined but never used.",{"range":"773","text":"767"},"'UnsuccessfulAlert' is defined but never used.","'SuccessfulAlert' is defined but never used.","'DermatologistAppointmentPicture' is defined but never used.","'acceptableDate' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'getRoles' is defined but never used.","'OfferModal' is defined but never used.","'Router' is defined but never used.","'API_URL' is assigned a value but never used.","'Header' is defined but never used.","'myStyle' is assigned a value but never used.","'datepicker' is defined but never used.","'Axios' is defined but never used.","'suggestView' is assigned a value but never used.","'CloseButton' is defined but never used.","'confirmAlert' is defined but never used.","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","'CardList' is defined but never used.","'AddDermatologistModal' is defined but never used.","'Card' is defined but never used.","'ConfirmModal' is defined but never used.","'AddAppointmentModal' is defined but never used.","'PharmaciesForEmployee' is defined but never used.","'DrugSpecificationModal' is defined but never used.","'PharmaciesWithDrugAndPrice' is defined but never used.","'ReservationDrugModal' is defined but never used.","'FirstGradeModal' is defined but never used.","'AddActionPromotionModal' is defined but never used.","'DatePicker' is defined but never used.","'withRouter' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","unexpectedConcat","Expected '!==' and instead saw '!='.","'nameOfPharmacy' is assigned a value but never used.","no-global-assign","no-unsafe-negation",[19672,19674],".",[6282,6284],{"messageId":"774","fix":"775","desc":"776"},{"messageId":"777","fix":"778","desc":"779"},{"messageId":"774","fix":"780","desc":"776"},{"messageId":"777","fix":"781","desc":"779"},[6284,6286],"removeEscape",{"range":"782","text":"783"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"784","text":"785"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"786","text":"783"},{"range":"787","text":"785"},[15866,15867],"",[15866,15866],"\\",[15885,15886],[15885,15885]]