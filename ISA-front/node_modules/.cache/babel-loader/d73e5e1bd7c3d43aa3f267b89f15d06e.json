{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\neman\\\\OneDrive\\\\Radna povr\\u0161ina\\\\isa projekat\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\AdminPharmacyComplains.js\";\nimport React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport Header from './Header';\nimport ReportImage from \"../Images/report.png\";\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\nimport CreateComplaintModal from \"../Components/CreateComplaintModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AdminPharmacyComplains extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      complaints: [],\n      date: new Date(),\n      text: \"\",\n      staffName: \"\",\n      staffSurname: \"\",\n      profession: \"\",\n      reply: \"\",\n      email: \"\",\n      complaintId: \"\",\n      showComplaintModal: false\n    };\n\n    this.handleReplyClick = complaint => {\n      console.log(complaint);\n      this.setState({\n        date: complaint.EntityDTO.date,\n        text: complaint.EntityDTO.text,\n        staffName: complaint.EntityDTO.staffName,\n        staffSurname: complaint.EntityDTO.staffSurname,\n        profession: complaint.EntityDTO.profession,\n        reply: complaint.EntityDTO.reply,\n        email: complaint.EntityDTO.email,\n        complaintId: complaint.Id,\n        showComplaintModal: true\n      });\n    };\n\n    this.handleComplaintChange = event => {\n      this.setState({\n        reply: event.target.value\n      });\n    };\n\n    this.handleComplaintModalClose = () => {\n      this.setState({\n        showComplaintModal: false\n      });\n    };\n\n    this.handleReplyComaplaint = () => {\n      let ComplaintStaffDTO = {\n        reply: this.state.reply,\n        pharmacyId: this.state.complaintId\n      };\n      Axios.post(\"http://localhost:8080/complaint/replyToPharmacyComplaint\", ComplaintStaffDTO, {\n        validateStatus: () => true,\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(resp => {\n        if (resp.status === 500) {\n          this.setState({\n            hiddenFailAlert: false,\n            failHeader: \"Internal server error\",\n            failMessage: \"Server error.\"\n          });\n        } else if (resp.status === 201) {\n          Axios.get(\"http://localhost:8080/complaint/getPharmacyComplaints\", {\n            validateStatus: () => true,\n            headers: {\n              Authorization: GetAuthorisation()\n            }\n          }).then(res => {\n            if (res.status === 401) {\n              this.props.history.push('/login');\n            } else {\n              this.setState({\n                complaints: res.data\n              });\n              console.log(res.data);\n            }\n          }).catch(err => {\n            console.log(err);\n          });\n        }\n\n        this.setState({\n          showComplaintModal: false\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    Axios.get(\"http://localhost:8080/complaint/getPharmacyComplaints\", {\n      validateStatus: () => true,\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      if (res.status === 401) {\n        this.props.history.push('/login');\n      } else {\n        this.setState({\n          complaints: res.data\n        });\n        console.log(res.data);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \" text-center  mb-0 text-uppercase\",\n        style: {\n          marginTop: \"2rem\"\n        },\n        children: \"Pharmacy complaints\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        style: {\n          width: \"50%\",\n          marginTop: \"5em\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.complaints.map(complaint => /*#__PURE__*/_jsxDEV(\"tr\", {\n            id: complaint.Id,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              width: \"130em\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"img-fluid\",\n                src: ReportImage,\n                width: \"70em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Patient's email: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 41\n                }, this), complaint.EntityDTO.patientEmail]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Pharmacy name: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 41\n                }, this), complaint.EntityDTO.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Complaint: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 41\n                }, this), complaint.EntityDTO.text]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"align-middle\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginLeft: \"55%\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => this.handleReplyClick(complaint),\n                  className: \"btn btn-outline-secondary btn-block\",\n                  children: \"Reply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 39\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 39\n            }, this)]\n          }, complaint.Id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CreateComplaintModal, {\n        buttonName: \"Send reply\",\n        header: \"Reply to complaint\",\n        handleComplaintChange: this.handleComplaintChange,\n        show: this.state.showComplaintModal,\n        onCloseModal: this.handleComplaintModalClose,\n        giveFeedback: this.handleReplyComaplaint,\n        name: this.state.staffName + \" \" + this.state.staffSurname,\n        forWho: \"consultant\",\n        handleClickIcon: this.handleClickIcon,\n        complaint: this.state.complaint\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AdminPharmacyComplains;","map":{"version":3,"sources":["C:/Users/neman/OneDrive/Radna povrÅ¡ina/isa projekat/ISA-projekat/ISA-front/src/Components/AdminPharmacyComplains.js"],"names":["React","Component","Axios","Header","ReportImage","GetAuthorisation","CreateComplaintModal","AdminPharmacyComplains","state","complaints","date","Date","text","staffName","staffSurname","profession","reply","email","complaintId","showComplaintModal","handleReplyClick","complaint","console","log","setState","EntityDTO","Id","handleComplaintChange","event","target","value","handleComplaintModalClose","handleReplyComaplaint","ComplaintStaffDTO","pharmacyId","post","validateStatus","headers","Authorization","then","resp","status","hiddenFailAlert","failHeader","failMessage","get","res","props","history","push","data","catch","err","componentDidMount","render","marginTop","width","marginLeft","marginRight","map","patientEmail","name","handleClickIcon"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport ReportImage from \"../Images/report.png\" ;\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport CreateComplaintModal from \"../Components/CreateComplaintModal\";\r\n\r\n\r\n\r\nclass AdminPharmacyComplains extends Component {\r\n\r\n\r\n\r\n    state = {\r\n        complaints : [],\r\n        date : new Date(),\r\n        text : \"\",\r\n        staffName : \"\",\r\n        staffSurname : \"\",\r\n        profession : \"\",\r\n        reply : \"\",\r\n        email : \"\",\r\n        complaintId : \"\",\r\n        showComplaintModal : false,\r\n      \r\n    \r\n    \r\n    };\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        Axios.get(\"http://localhost:8080/complaint/getPharmacyComplaints\", {\r\n                validateStatus: () => true,\r\n                headers: { Authorization: GetAuthorisation() },\r\n            })\r\n                .then((res) => {\r\n                    if (res.status === 401) {\r\n              this.props.history.push('/login');\r\n                    } else {\r\n                        this.setState({ complaints: res.data });\r\n                        console.log(res.data);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n    \r\n    \r\n    \r\n      }\r\n\r\n      handleReplyClick = (complaint) => {\r\n\t\tconsole.log(complaint);\r\n\t\tthis.setState({\r\n\t\t\tdate : complaint.EntityDTO.date,\r\n      text : complaint.EntityDTO.text,\r\n      staffName : complaint.EntityDTO.staffName,\r\n      staffSurname : complaint.EntityDTO.staffSurname,\r\n      profession : complaint.EntityDTO.profession,\r\n      reply : complaint.EntityDTO.reply,\r\n      email : complaint.EntityDTO.email,\r\n      complaintId : complaint.Id,\r\n\t\t\tshowComplaintModal: true,\r\n\t\t});\r\n\t};\r\n\r\n  handleComplaintChange = (event) => {\r\n\t\tthis.setState({ reply: event.target.value });\r\n\t};\r\n  handleComplaintModalClose = () => {\r\n\t\tthis.setState({ showComplaintModal: false });\r\n\t};\r\n\r\n  handleReplyComaplaint = () => {\r\n\t\tlet ComplaintStaffDTO = {\r\n\t\t\treply : this.state.reply,\r\n            pharmacyId : this.state.complaintId\r\n\t\t};\r\n\r\n\t\tAxios.post(\"http://localhost:8080/complaint/replyToPharmacyComplaint\", ComplaintStaffDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n\t\t\t\t\tthis.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\r\n          Axios.get(\"http://localhost:8080/complaint/getPharmacyComplaints\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ complaints: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n    render() {\r\n\t\r\n\r\n\t\treturn (\r\n            <React.Fragment>\r\n                <Header/>\r\n                    <h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tPharmacy complaints\r\n\t\t\t\t    </h5>\r\n\r\n                    <table className=\"table\" style={{ width: \"50%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.complaints.map((complaint) => (\r\n\t\t\t\t\t\t\t\t<tr id={complaint.Id} key={complaint.Id} >\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={ReportImage} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                  <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Patient's email: </b>{complaint.EntityDTO.patientEmail}\r\n                        \r\n                                        </div>\r\n                                        <div>  \r\n                                        <b>Pharmacy name: </b>{complaint.EntityDTO.name}\r\n                        \r\n                                        </div> \r\n                                        <div>  \r\n                                        <b>Complaint: </b>{complaint.EntityDTO.text}\r\n                        \r\n                                        </div>  \r\n\r\n                                        \r\n\r\n                                      </td>\r\n\r\n                                      <td className=\"align-middle\">\r\n                                      <div style={{ marginLeft: \"55%\" }}>\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          onClick={() => this.handleReplyClick(complaint)}\r\n                                          className=\"btn btn-outline-secondary btn-block\"\r\n                                        >\r\n                                          Reply\r\n                                        </button>\r\n                                      </div>\r\n                                      \r\n                                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n                    <CreateComplaintModal\r\n\t\t\t\t\tbuttonName=\"Send reply\"\r\n\t\t\t\t\theader=\"Reply to complaint\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleReplyComaplaint}\r\n\t\t\t\t\tname={this.state.staffName + \" \" + this.state.staffSurname}\r\n\t\t\t\t\tforWho=\"consultant\"\r\n\t\t\t\t\thandleClickIcon={this.handleClickIcon}\r\n\t\t\t\t\tcomplaint={this.state.complaint}\r\n\t\t\t\t/>\r\n\r\n            </React.Fragment>\r\n\r\n    );\r\n}\r\n\r\n}\r\nexport default AdminPharmacyComplains;"]},"metadata":{},"sourceType":"module"}