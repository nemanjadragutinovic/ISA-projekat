{"ast":null,"code":"var _jsxFileName = \"E:\\\\aca\\\\isa\\\\nasa-isa\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\Pharmacies\\\\DermatologistsForPhAdmin.js\";\nimport React, { Component } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport Header from '../Header';\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport CardList from \"../card-components/CardList\";\nimport AddDermatologistModal from \"../Modal/AddDermatologistModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass DermatologistsForPhAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dermatologists: [],\n      dermatologists1: [],\n      workTimes: [],\n      forStaff: '',\n      showSearchForm: false,\n      showAddDermatologist: false\n    };\n\n    this.handleCloseAlertSuccess = () => {\n      this.setState({\n        hiddenSuccessAlert: true\n      });\n    };\n\n    this.handleCloseAlertFail = () => {\n      this.setState({\n        hiddenFailAlert: true\n      });\n    };\n\n    this.handleAddDermatologist = () => {\n      Axios.get(API_URL + \"/users/dermatologistsNotInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists1: res.data,\n          showAddDermatologist: true\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleUpdateDermatologistsWhoarentInPharmacy = () => {\n      Axios.get(API_URL + \"/users/dermatologistsNotInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists1: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        showWorkTimesModal: false\n      });\n    };\n\n    this.handleFormShow = () => {\n      this.setState({\n        showSearchForm: !this.state.showSearchForm\n      });\n    };\n\n    this.handleNameChange = event => {\n      this.setState({\n        searchName: event.target.value\n      });\n    };\n\n    this.handleSurnameChange = event => {\n      this.setState({\n        searchSurname: event.target.value\n      });\n    };\n\n    this.handleGradeFromChange = event => {\n      this.setState({\n        searchGradeFrom: event.target.value\n      });\n    };\n\n    this.handleGradeToChange = event => {\n      this.setState({\n        searchGradeTo: event.target.value\n      });\n    };\n\n    this.handleSortByGradeAscending = () => {};\n\n    this.handleSortByGradeDescending = () => {};\n\n    this.handleSearchClick = () => {\n      if (this.state.showingSorted === true) {\n        this.setState({\n          showingSearched: true\n        }, () => {\n          if (this.state.sortIndicator === 1) this.handleSortByGradeAscending();else if (this.state.sortIndicator === 2) this.handleSortByGradeDescending();\n        });\n      } else {\n        if (!(this.state.searchGradeFrom === \"\" && this.state.searchGradeTo === \"\" && this.state.searchName === \"\" && this.state.searchSurname === \"\")) {\n          let gradeFrom = this.state.searchGradeFrom;\n          let gradeTo = this.state.searchGradeTo;\n          let name = this.state.searchName;\n          let surname = this.state.searchSurname;\n          if (gradeFrom === \"\") gradeFrom = -1;\n          if (gradeTo === \"\") gradeTo = -1;\n          if (name === \"\") name = '';\n          if (surname === \"\") surname = '';\n          const SEARCH_URL = BASE_URL + \"/api/users/search-dermatologist-for-pharmacy?name=\" + name + \"&surname=\" + surname + \"&gradeFrom=\" + gradeFrom + \"&gradeTo=\" + gradeTo + \"&pharmacyId=\" + this.state.pharmacyId;\n          Axios.get(SEARCH_URL, {\n            headers: {\n              Authorization: getAuthHeader()\n            }\n          }).then(res => {\n            this.setState({\n              dermatologists: res.data,\n              formShowed: false,\n              showingSearched: true\n            });\n            console.log(res.data);\n          }).catch(err => {\n            console.log(err);\n          });\n        }\n      }\n    };\n\n    this.handleResetSearch = () => {\n      Axios.get(BASE_URL + \"/api/users/dermatologist-for-pharmacy/\" + this.state.pharmacyId, {\n        headers: {\n          Authorization: getAuthHeader()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists: res.data,\n          formShowed: false,\n          showingSearched: false,\n          searchName: \"\",\n          searchSurname: \"\",\n          searchGradeFrom: \"\",\n          searchGradeTo: \"\"\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleAddDermatologistClose = () => {\n      Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        showAddDermatologist: false\n      });\n    };\n\n    this.handleUpdateDermatologists = () => {\n      Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    let pharmacyId = localStorage.getItem(\"keyPharmacyId\");\n    this.setState({\n      pharmacyId: pharmacyId\n    });\n    Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      this.setState({\n        dermatologists: res.data\n      });\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          marginTop: \"5%\",\n          marginBottom: \"5%\",\n          marginLeft: \"6%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary \",\n          type: \"button\",\n          onClick: this.handleFormShow,\n          children: this.state.showSearchForm ? \"Close search\" : \"Open search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          hidden: !this.state.showSearchForm,\n          type: \"button\",\n          class: \"btn btn-outline-primary btn-xl ml-2\",\n          onClick: this.resetSearch,\n          children: \"Reset search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary btn-xl ml-2\",\n          onClick: this.handleAddDermatologist,\n          children: \"Add dermatologist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-inline mt-3\",\n          hidden: !this.state.showSearchForm,\n          width: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            width: \"100%\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group mb-2\",\n              width: \"100%\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Name\",\n                className: \"form-control mr-2\",\n                style: {\n                  width: \"10em\"\n                },\n                type: \"text\",\n                onChange: this.handleNameChange,\n                value: this.state.searchName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"LastName\",\n                className: \"form-control mr-2\",\n                style: {\n                  width: \"10em\"\n                },\n                type: \"text\",\n                onChange: this.handleSurnameChange,\n                value: this.state.searchSurname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Grade from\",\n                className: \"form-control mr-2\",\n                style: {\n                  width: \"10em\"\n                },\n                type: \"number\",\n                min: \"1\",\n                max: \"5\",\n                onChange: this.handleGradeFromChange,\n                value: this.state.searchGradeFrom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Grade to\",\n                className: \"form-control\",\n                style: {\n                  width: \"10em\"\n                },\n                type: \"number\",\n                min: \"1\",\n                max: \"5\",\n                onChange: this.handleGradeToChange,\n                value: this.state.searchGradeTo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary btn-xl \",\n                type: \"button\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(CardList, {\n          dermatologists: this.state.dermatologists,\n          pharmacyId: this.state.pharmacyId,\n          updateDermatologists: this.handleUpdateDermatologists\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AddDermatologistModal, {\n          show: this.state.showAddDermatologist,\n          closeModal: this.handleAddDermatologistClose,\n          dermatologists: this.state.dermatologists1,\n          pharmacyId: this.state.pharmacyId,\n          updateDermatologistsWhoarentInPharmacy: this.handleUpdateDermatologistsWhoarentInPharmacy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DermatologistsForPhAdmin;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/src/Components/Pharmacies/DermatologistsForPhAdmin.js"],"names":["React","Component","Button","Modal","Header","Axios","GetAuthorisation","CardList","AddDermatologistModal","API_URL","DermatologistsForPhAdmin","state","dermatologists","dermatologists1","workTimes","forStaff","showSearchForm","showAddDermatologist","handleCloseAlertSuccess","setState","hiddenSuccessAlert","handleCloseAlertFail","hiddenFailAlert","handleAddDermatologist","get","localStorage","getItem","headers","Authorization","then","res","data","console","log","catch","err","handleUpdateDermatologistsWhoarentInPharmacy","handleModalClose","showWorkTimesModal","handleFormShow","handleNameChange","event","searchName","target","value","handleSurnameChange","searchSurname","handleGradeFromChange","searchGradeFrom","handleGradeToChange","searchGradeTo","handleSortByGradeAscending","handleSortByGradeDescending","handleSearchClick","showingSorted","showingSearched","sortIndicator","gradeFrom","gradeTo","name","surname","SEARCH_URL","BASE_URL","pharmacyId","getAuthHeader","formShowed","handleResetSearch","handleAddDermatologistClose","handleUpdateDermatologists","componentDidMount","render","marginTop","marginBottom","marginLeft","resetSearch","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport Header from '../Header';\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport CardList from \"../card-components/CardList\";\r\nimport AddDermatologistModal from \"../Modal/AddDermatologistModal\";\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\n\r\nclass DermatologistsForPhAdmin extends Component {\r\n    state = {\r\n        dermatologists: [],\r\n        dermatologists1: [],\r\n\r\n\r\n        workTimes: [],\r\n        forStaff: '',\r\n        showSearchForm: false,\r\n        showAddDermatologist: false\r\n    };\r\n\r\n    handleCloseAlertSuccess = () => {\r\n        this.setState({ hiddenSuccessAlert: true });\r\n    };\r\n\r\n    handleCloseAlertFail = () => {\r\n        this.setState({ hiddenFailAlert: true });\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        let pharmacyId = localStorage.getItem(\"keyPharmacyId\")\r\n        this.setState({\r\n            pharmacyId: pharmacyId\r\n        })\r\n\r\n        Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n\r\n\r\n    handleAddDermatologist = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsNotInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        }).then((res) => {\r\n            this.setState({ dermatologists1: res.data, showAddDermatologist: true });\r\n            console.log(res.data);\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }\r\n\r\n    handleUpdateDermatologistsWhoarentInPharmacy = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsNotInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        }).then((res) => {\r\n            this.setState({ dermatologists1: res.data });\r\n            console.log(res.data);\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({ showWorkTimesModal: false });\r\n    }\r\n\r\n\r\n\r\n    handleFormShow = () => {\r\n        this.setState({ showSearchForm: !this.state.showSearchForm });\r\n    };\r\n\r\n\r\n    handleNameChange = (event) => {\r\n\t\tthis.setState({ searchName: event.target.value });\r\n    };\r\n    \r\n    handleSurnameChange = (event) => {\r\n\t\tthis.setState({ searchSurname: event.target.value });\r\n    };\r\n    \r\n    handleGradeFromChange = (event) => {\r\n\t\tthis.setState({ searchGradeFrom: event.target.value });\r\n\t};\r\n\r\n\thandleGradeToChange = (event) => {\r\n\t\tthis.setState({ searchGradeTo: event.target.value });\r\n    };\r\n\r\n    handleSortByGradeAscending = () =>{\r\n\r\n    }\r\n\r\n    handleSortByGradeDescending = () =>{\r\n\r\n    }\r\n    \r\n    handleSearchClick = () =>{\r\n\r\n\t\tif (this.state.showingSorted === true) {\r\n\t\t\tthis.setState({ showingSearched: true }, () => {\r\n\t\t\t\tif (this.state.sortIndicator === 1) this.handleSortByGradeAscending();\r\n\t\t\t\telse if (this.state.sortIndicator === 2) this.handleSortByGradeDescending();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\t!(\r\n\t\t\t\t\tthis.state.searchGradeFrom === \"\" &&\r\n\t\t\t\t\tthis.state.searchGradeTo === \"\" &&\r\n\t\t\t\t\tthis.state.searchName === \"\" &&\r\n\t\t\t\t\tthis.state.searchSurname === \"\"\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tlet gradeFrom = this.state.searchGradeFrom;\r\n\t\t\t\tlet gradeTo = this.state.searchGradeTo;\r\n\t\t\t\tlet name = this.state.searchName;\r\n\t\t\t\tlet surname = this.state.searchSurname;\r\n\r\n\t\t\t\tif (gradeFrom === \"\") gradeFrom = -1;\r\n\t\t\t\tif (gradeTo === \"\") gradeTo = -1;\r\n\t\t\t\tif (name === \"\") name = '';\r\n\t\t\t\tif (surname === \"\") surname = '';\r\n\r\n\t\t\t\tconst SEARCH_URL =\r\n\t\t\t\t\tBASE_URL +\r\n\t\t\t\t\t\"/api/users/search-dermatologist-for-pharmacy?name=\" +\r\n                    name +\r\n                    \"&surname=\" +\r\n\t\t\t\t\tsurname +\r\n\t\t\t\t\t\"&gradeFrom=\" +\r\n\t\t\t\t\tgradeFrom +\r\n\t\t\t\t\t\"&gradeTo=\" +\r\n\t\t\t\t\tgradeTo +\r\n\t\t\t\t\t\"&pharmacyId=\" +\r\n\t\t\t\t\tthis.state.pharmacyId;\r\n\r\n\t\t\t\tAxios.get(SEARCH_URL, {\r\n                    headers: { Authorization: getAuthHeader() },\r\n                })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tdermatologists: res.data,\r\n\t\t\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\t\t\tshowingSearched: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n        }   \r\n     }\r\n\r\n     handleResetSearch = () => {\r\n\r\n        Axios.get(BASE_URL + \"/api/users/dermatologist-for-pharmacy/\" + this.state.pharmacyId , {\r\n\t\t\theaders: { Authorization: getAuthHeader() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ \r\n                    dermatologists: res.data ,\r\n                    formShowed: false,\r\n\t\t\t\t\tshowingSearched: false,\r\n\t\t\t\t\tsearchName: \"\",\r\n                    searchSurname: \"\",\r\n                    searchGradeFrom: \"\",\r\n\t\t\t\t\tsearchGradeTo: \"\",\r\n\r\n                });\r\n                console.log(res.data);\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n            });\r\n            \r\n\t\r\n    };\r\n    handleAddDermatologistClose = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        this.setState({ showAddDermatologist: false });\r\n    }\r\n\r\n    handleUpdateDermatologists = () => {\r\n        Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    render() {\r\n      \r\n        return (\r\n            <React.Fragment>\r\n\r\n\r\n\r\n                <Header />\r\n\r\n\r\n\r\n\r\n                <div className=\"container\" style={{ marginTop: \"5%\", marginBottom: \"5%\", marginLeft: \"6%\" }} >\r\n\r\n\r\n                    <button className=\"btn btn-primary \" type=\"button\" onClick={this.handleFormShow}>\r\n                        {this.state.showSearchForm ? \"Close search\" : \"Open search\"}\r\n                    </button>\r\n\r\n                    <button hidden={!this.state.showSearchForm} type=\"button\" class=\"btn btn-outline-primary btn-xl ml-2\" onClick={this.resetSearch}>\r\n\r\n                        Reset search\r\n\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-primary btn-xl ml-2\" onClick={this.handleAddDermatologist}>\r\n                     \r\n                        Add dermatologist\r\n                    \r\n                    </button>\r\n                \r\n                    <form className={\"form-inline mt-3\"} hidden={!this.state.showSearchForm} width=\"100%\">\r\n\r\n                        <div className=\"form-group\" width=\"100%\">\r\n\r\n                        <div className=\"form-group mb-2\" width=\"100%\">\r\n                                <input\r\n                                    placeholder=\"Name\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleNameChange}\r\n                                    value={this.state.searchName}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"LastName\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleSurnameChange}\r\n                                    value={this.state.searchSurname}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"Grade from\"\r\n                                    className=\"form-control mr-2\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeFromChange}\r\n                                    value={this.state.searchGradeFrom}\r\n                                />\r\n                                <input\r\n                                    placeholder=\"Grade to\"\r\n                                    className=\"form-control\"\r\n                                    style={{ width: \"10em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeToChange}\r\n                                    value={this.state.searchGradeTo}\r\n                                />\r\n\r\n                            <button\r\n\r\n                                className=\"btn btn-outline-primary btn-xl \"\r\n                                type=\"button\"\r\n\r\n                            >\r\n                                Search\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    </form>\r\n                \r\n                </div>\r\n\r\n\r\n                \r\n                <div className=\"container\">\r\n                    <CardList dermatologists={this.state.dermatologists} pharmacyId={this.state.pharmacyId} updateDermatologists={this.handleUpdateDermatologists} />\r\n                    <AddDermatologistModal show={this.state.showAddDermatologist} closeModal={this.handleAddDermatologistClose} dermatologists={this.state.dermatologists1} pharmacyId={this.state.pharmacyId} updateDermatologistsWhoarentInPharmacy={this.handleUpdateDermatologistsWhoarentInPharmacy} />\r\n                </div>\r\n\r\n\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DermatologistsForPhAdmin"]},"metadata":{},"sourceType":"module"}