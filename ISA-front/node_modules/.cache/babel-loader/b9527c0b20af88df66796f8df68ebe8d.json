{"ast":null,"code":"var _jsxFileName = \"E:\\\\aca\\\\isa\\\\nasa-isa\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\Pharmacies\\\\ActionPromotionPageForPhAdmin.js\";\nimport React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport Header from '../Header';\nimport MedicamentPicture from \"../../Images/medicament.jpg\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport AddActionPromotionModal from \"../Modal/AddActionPromotionModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass ActionPromotionPageForPhAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      actions: [],\n      pharmacyId: '',\n      showAddAction: false\n    };\n\n    this.handleOpenAddAction = () => {\n      this.setState({\n        showAddAction: true\n      });\n    };\n\n    this.handleActionClose = () => {\n      Axios.get(API_URL + \"/pharmacy/getAllActionsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          actions: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        showAddAction: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    let pharmacyId = localStorage.getItem(\"keyPharmacyId\");\n    this.setState({\n      pharmacyId: pharmacyId\n    });\n    Axios.get(API_URL + \"/pharmacy/getAllActionsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n      validateStatus: () => true,\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        actions: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"allActions\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          style: {\n            marginTop: \"1em\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            style: {\n              width: \"75%\",\n              marginTop: \"20rem\",\n              marginLeft: \"16%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.actions.map(action => /*#__PURE__*/_jsxDEV(\"tr\", {\n                id: action.Id,\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  width: \"130em\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: \"40%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"img-fluid\",\n                      src: MedicamentPicture,\n                      width: \"70em\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    hidden: action.EntityDTO.actionType !== \"DRUGDISCOUNT\",\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      style: {\n                        color: 'blue'\n                      },\n                      children: \"Action for drug buying\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    hidden: action.EntityDTO.actionType !== \"EXAMINATIONDISCOUNT\",\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      style: {\n                        color: 'green'\n                      },\n                      children: \"Action for examination\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    hidden: action.EntityDTO.actionType !== \"CONSULTATIONDISCOUNT\",\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      style: {\n                        color: 'red'\n                      },\n                      children: \"Action for consultation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Date from: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 12\n                    }, this), \" \", new Date(action.EntityDTO.dateFrom).toDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Date to: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 12\n                    }, this), \" \", new Date(action.EntityDTO.dateTo).toDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Percent of discount: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 12\n                    }, this), \" \", action.EntityDTO.discount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this)]\n              }, action.Id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 10\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(AddActionPromotionModal, {\n          show: this.state.showAddAction,\n          pharmacyId: this.state.pharmacyId,\n          onCloseModal: this.handleActionClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default ActionPromotionPageForPhAdmin;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/src/Components/Pharmacies/ActionPromotionPageForPhAdmin.js"],"names":["React","Component","Axios","Header","MedicamentPicture","GetAuthorisation","AddActionPromotionModal","API_URL","ActionPromotionPageForPhAdmin","state","actions","pharmacyId","showAddAction","handleOpenAddAction","setState","handleActionClose","get","localStorage","getItem","headers","Authorization","then","res","data","console","log","catch","err","componentDidMount","validateStatus","render","marginTop","width","marginLeft","map","action","Id","EntityDTO","actionType","color","Date","dateFrom","toDateString","dateTo","discount"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Header';\r\nimport MedicamentPicture from \"../../Images/medicament.jpg\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\nimport AddActionPromotionModal from \"../Modal/AddActionPromotionModal\";\r\n\r\n\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\nclass ActionPromotionPageForPhAdmin extends Component {\r\n\r\n\r\n\r\n\tstate = {\r\n\t\tactions: [],\r\n\t\tpharmacyId:'',\r\n\t\tshowAddAction:false,\r\n\r\n\t\t\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet pharmacyId = localStorage.getItem(\"keyPharmacyId\")\r\n        this.setState({\r\n            pharmacyId: pharmacyId\r\n        })\r\n\t\tAxios.get(API_URL + \"/pharmacy/getAllActionsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ actions: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t}\r\n\r\n    handleOpenAddAction = () => {\r\n\t\tthis.setState({ showAddAction: true});\r\n\t};\r\n\thandleActionClose = () => {\r\n        Axios.get(API_URL + \"/pharmacy/getAllActionsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n            headers: { Authorization: GetAuthorisation() },\r\n        })\r\n            .then((res) => {\r\n                this.setState({ actions: res.data });\r\n                console.log(res.data);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        this.setState({ showAddAction: false });\r\n    }\r\n\r\n\trender() {\r\n\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<React.Fragment>\r\n\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div id=\"allActions\" >\r\n\r\n\t\t\t\t\t<div className=\"container\" style={{ marginTop: \"1em\" }} >\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<table className={\"table\"} style={{ width: \"75%\", marginTop: \"20rem\"  ,marginLeft:\"16%\"}}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.actions.map((action) => (\r\n\t\t\t\t\t\t\t\t\t<tr id={action.Id} key={action.Id} >\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"130em\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: \"40%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n                                    <td>\r\n\t\t\t\t\t\t\t\t\t\t<div hidden={action.EntityDTO.actionType!==\"DRUGDISCOUNT\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b style={{color:'blue'}}>Action for drug buying</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div hidden={action.EntityDTO.actionType!==\"EXAMINATIONDISCOUNT\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b style={{color:'green'}}>Action for examination</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div hidden={action.EntityDTO.actionType!==\"CONSULTATIONDISCOUNT\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b style={{color:'red'}}>Action for consultation</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date from: </b> {new Date(action.EntityDTO.dateFrom).toDateString()}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date to: </b> {new Date(action.EntityDTO.dateTo).toDateString()}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Percent of discount: </b> {action.EntityDTO.discount}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<AddActionPromotionModal show={this.state.showAddAction} pharmacyId={this.state.pharmacyId} onCloseModal={this.handleActionClose}/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</React.Fragment>\r\n\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ActionPromotionPageForPhAdmin;\r\n"]},"metadata":{},"sourceType":"module"}