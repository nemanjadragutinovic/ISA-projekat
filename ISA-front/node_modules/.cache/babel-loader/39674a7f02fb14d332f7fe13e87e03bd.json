{"ast":null,"code":"var _jsxFileName = \"E:\\\\aca\\\\isa\\\\nasa-isa\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\Modal\\\\ConfirmModal.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass ConfirmModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      hiddenSuccessAlert: true,\n      hiddenUnsuccessAlert: true,\n      modalSize: 'lg'\n    };\n\n    this.handleRemoveDermatologist = () => {\n      console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\n      console.log(this.props.dermatologistId);\n      {\n        /* Axios.post(API_URL + \"/users/removeDermatologistFromPharmacy\",  {\r\n                       params:{\r\n                           dermatologistId: this.props.dermatologistId,\r\n                           phId:this.props.pharmacyId,\r\n                       },\r\n                       \r\n                       headers: { Authorization:  GetAuthorisation() },\r\n                   }).then((res) =>{\r\n                       console.log(res.data);\r\n                       this.setState({\r\n                           hiddenSuccessAlert: false,\r\n                           hiddenUnsuccessAlert:true,\r\n                           successHeader: \"Success\",\r\n                           successMessage: \"You successfully remove dermatologist.\",\r\n                       })\r\n                       \r\n                       \r\n                   }).catch((err) => {\r\n                       console.log(err);\r\n                       this.setState({ \r\n                           hiddenSuccessAlert: true,\r\n                           hiddenUnsuccessAlert: false, \r\n                           failHeader: \"Unsuccess\", \r\n                           failMessage: \"It is not possible to remove the dermatologist\"});\r\n                     });*/\n      }\n      let workTimeDTO = {\n        pharmacyId: this.props.pharmacyId,\n        employee: this.props.employee,\n        startDate: this.state.selectedStartDate,\n        endDate: this.state.selectedEndDate,\n        startTime: this.state.timeFrom,\n        endTime: this.state.timeTo\n      };\n      Axios.post(API_URL + \"/users/removeDermatologistFromPharmacy\", {\n        params: {\n          dermatologistId: this.props.dermatologistId,\n          phId: this.props.pharmacyId\n        },\n        validateStatus: () => true,\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          this.props.update();\n          this.setState({\n            showWorkTime: true,\n            modalSize: 'lg'\n          });\n          this.setState({\n            hiddenSuccessAlert: false,\n            hiddenUnsuccessAlert: true,\n            successHeader: \"Success\",\n            successMessage: \"You successfully add new work time.\"\n          });\n        } else if (res.status === 400) {\n          this.setState({\n            hiddenSuccessAlert: true,\n            hiddenUnsuccessAlert: false,\n            failHeader: \"Unsuccess\",\n            failMessage: \"Dermatologist works at this date range\"\n          });\n        } else if (res.status === 500) {\n          this.setState({\n            hiddenSuccessAlert: true,\n            hiddenUnsuccessAlert: false,\n            failHeader: \"Unsuccess\",\n            failMessage: \"Server error,please try again later \"\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    console.log(this.props.show);\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: this.props.show,\n      size: this.state.modalSize,\n      dialogClassName: \"modal-80w-100h\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          style: {\n            marginLeft: '37%'\n          },\n          id: \"contained-modal-title-vcenter\",\n          children: this.props.header\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(SuccessAlert, {\n            hidden: this.state.hiddenSuccessAlert,\n            header: this.state.successHeader,\n            message: this.state.successMessage,\n            handleCloseAlert: this.handleCloseSuccessAlert\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(UnsuccessAlert, {\n            hidden: this.state.hiddenUnsuccessAlert,\n            header: this.state.failHeader,\n            message: this.state.failMessage,\n            handleCloseAlert: this.handleCloseUnsuccessAlert\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure to remove dermatologist?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-secondary\",\n          type: \"button\",\n          onClick: () => this.handleRemoveDermatologist(),\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-secondary\",\n          type: \"button\",\n          onClick: () => this.props.handleCloseAlert(),\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ConfirmModal;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/src/Components/Modal/ConfirmModal.js"],"names":["React","Component","Button","Modal","Axios","GetAuthorisation","SuccessAlert","UnsuccessAlert","API_URL","ConfirmModal","state","hiddenSuccessAlert","hiddenUnsuccessAlert","modalSize","handleRemoveDermatologist","console","log","localStorage","getItem","props","dermatologistId","workTimeDTO","pharmacyId","employee","startDate","selectedStartDate","endDate","selectedEndDate","startTime","timeFrom","endTime","timeTo","post","params","phId","validateStatus","headers","Authorization","then","res","status","update","setState","showWorkTime","successHeader","successMessage","failHeader","failMessage","catch","err","componentDidMount","render","show","marginLeft","header","handleCloseSuccessAlert","handleCloseUnsuccessAlert","handleCloseAlert"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass ConfirmModal extends Component {\r\n    state = {\r\n        hiddenSuccessAlert: true,\r\n        hiddenUnsuccessAlert:true,\r\n        modalSize:'lg'\r\n       \r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n \r\n    handleRemoveDermatologist = () =>{\r\n        console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\r\n           console.log(this.props.dermatologistId);        \r\n        {/* Axios.post(API_URL + \"/users/removeDermatologistFromPharmacy\",  {\r\n                        params:{\r\n                            dermatologistId: this.props.dermatologistId,\r\n                            phId:this.props.pharmacyId,\r\n                        },\r\n                        \r\n                        headers: { Authorization:  GetAuthorisation() },\r\n                    }).then((res) =>{\r\n                        console.log(res.data);\r\n                        this.setState({\r\n                            hiddenSuccessAlert: false,\r\n                            hiddenUnsuccessAlert:true,\r\n                            successHeader: \"Success\",\r\n                            successMessage: \"You successfully remove dermatologist.\",\r\n                        })\r\n                        \r\n                        \r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        this.setState({ \r\n                            hiddenSuccessAlert: true,\r\n                            hiddenUnsuccessAlert: false, \r\n                            failHeader: \"Unsuccess\", \r\n                            failMessage: \"It is not possible to remove the dermatologist\"});\r\n\r\n                    });*/}\r\n                    let workTimeDTO = {\r\n                        pharmacyId : this.props.pharmacyId,\r\n                        employee: this.props.employee, \r\n                        startDate: this.state.selectedStartDate, \r\n                        endDate:this.state.selectedEndDate,\r\n                        startTime: this.state.timeFrom, \r\n                        endTime:this.state.timeTo\r\n                    };\r\n                    Axios\r\n                    .post(API_URL + \"/users/removeDermatologistFromPharmacy\",  {\r\n                        params:{\r\n                            dermatologistId: this.props.dermatologistId,\r\n                            phId:this.props.pharmacyId,\r\n                        },\r\n                        validateStatus: () => true,\r\n                        headers: { Authorization:  GetAuthorisation() },\r\n                    }).then((res) =>{\r\n                        if (res.status === 200) {\r\n                            this.props.update();\r\n                            this.setState({showWorkTime: true, modalSize:'lg'});\r\n                            this.setState({\r\n                                \r\n                                hiddenSuccessAlert: false,\r\n                                hiddenUnsuccessAlert:true,\r\n                                successHeader: \"Success\",\r\n                                successMessage: \"You successfully add new work time.\",\r\n                            })\r\n                            \r\n                            \r\n                            \r\n                        }else if(res.status===400){\r\n                            this.setState({ \r\n                                hiddenSuccessAlert: true,\r\n                                hiddenUnsuccessAlert: false, \r\n                                failHeader: \"Unsuccess\", \r\n                                failMessage: \"Dermatologist works at this date range\"\r\n                            });\r\n                        }else if(res.status===500){\r\n                            this.setState({ \r\n                                hiddenSuccessAlert: true,\r\n                                hiddenUnsuccessAlert: false, \r\n                                failHeader: \"Unsuccess\", \r\n                                failMessage: \"Server error,please try again later \"\r\n                            });\r\n                        }\r\n                        \r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            \r\n       \r\n    };\r\n    render() { \r\n        console.log(this.props.show);\r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                size = {this.state.modalSize}\r\n                dialogClassName=\"modal-80w-100h\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n               \r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title style={{marginLeft:'37%'}} id=\"contained-modal-title-vcenter\">\r\n                        {this.props.header}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                <div className=\"container\">      \r\n                <SuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseSuccessAlert}\r\n                        />\r\n                        <UnsuccessAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseUnsuccessAlert}\r\n                        />\r\n                   <p>Are you sure to remove dermatologist?</p>\r\n                </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.handleRemoveDermatologist()}>Yes</button> \r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.props.handleCloseAlert()}>No</button> \r\n\t\t\t\t\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default ConfirmModal;"]},"metadata":{},"sourceType":"module"}