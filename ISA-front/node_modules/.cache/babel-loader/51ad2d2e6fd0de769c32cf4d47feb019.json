{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\neman\\\\OneDrive\\\\Radna povr\\u0161ina\\\\isa projekat\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\qrPharmacieswithDrugs.js\";\nimport React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport Header from './Header';\nimport pharmacyLogo from \"../Images/pharmacyLogo.jpg\";\nimport { withRouter } from \"react-router\";\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\nimport ModalDialog from \"./ModalDialog\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass qrPharmacieswithDrugs extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      eReciptId: \"\",\n      pharmacies: [],\n      formShowed: false,\n      name: \"\",\n      city: \"\",\n      gradeFrom: \"\",\n      gradeTo: \"\",\n      openModal: false,\n      openModalAllergen: false,\n      openModalRefused: false,\n      distanceFrom: \"\",\n      distanceTo: \"\",\n      showingSearched: false,\n      showingSorted: false,\n      currentLatitude: null,\n      currentLongitude: null,\n      sortIndicator: 0,\n      redirect: false,\n      redirectUrl: ''\n    };\n\n    this.handleDrugClick = (id, price) => {\n      let PharmacyERecipeDTO = {\n        pharmacyId: id,\n        eRecipeId: this.props.match.params.id,\n        price: price\n      };\n      Axios.post(\"http://localhost:8080/pharmacy/buyDrugsWithQr\", PharmacyERecipeDTO, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          openModal: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      console.log(PharmacyERecipeDTO);\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        openModal: false\n      });\n    };\n\n    this.handleSortByName = () => {\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-name/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 1\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSortByNameReverse = () => {\n      ;\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-nameReverse/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 2\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSortByPrice = () => {\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-price/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 1\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSortByPriceReverse = () => {\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-priceReverse/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 2\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSortByGrade = () => {\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-grade/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 5\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSortByGradeReverse = () => {\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-gradeReverse/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 6\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSortByCity = () => {\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-address/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 3\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSortByCityReverse = () => {\n      Axios.get(\"http://localhost:8080/pharmacy/qrSort-addressReverse/\" + this.props.match.params.id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          pharmacies: res.data,\n          showingSorted: true,\n          sortIndicator: 4\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    const pathParams = window.location.pathname;\n    const paramsList = pathParams.split(\"/\");\n    const id = paramsList[2];\n    console.log(this.props.match.params.id + \"xaxaax\");\n    Axios.get(\"http://localhost:8080/pharmacy/qrPharmacieswithDrugs/\" + id, {\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        pharmacies: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    if (this.state.redirect) return /*#__PURE__*/_jsxDEV(Redirect, {\n      push: true,\n      to: this.state.redirectUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 41\n    }, this);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          marginTop: \"2%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \" text-center mb-0 mt-2 text-uppercase\",\n          children: \"Pharmacies to buy eRecipe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \" text-center mb-0 mt-2 text-uppercase\",\n          hidden: this.state.pharmacies.length !== 0,\n          children: \"Currently there are no drugs in stock! Come back later.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group \",\n          hidden: this.state.pharmacies.length == 0,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group controls mb-0 pb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-col\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary dropdown-toggle\",\n                    type: \"button\",\n                    id: \"dropdownMenu2\",\n                    \"data-toggle\": \"dropdown\",\n                    \"aria-haspopup\": \"true\",\n                    \"aria-expanded\": \"false\",\n                    children: \"Sort by\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dropdown-menu\",\n                    \"aria-labelledby\": \"dropdownMenu2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleSortByName,\n                      children: \"Name - A to Z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      hidden: this.state.pharmacies.length !== 0,\n                      type: \"button\",\n                      onClick: this.handleSortByNameReverse,\n                      children: \"Name - Z to A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleSortByPrice,\n                      children: \"Price - low to high\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleSortByPriceReverse,\n                      children: \"Price - high to low\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleSortByGrade,\n                      children: \"Grade - low to high\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleSortByGradeReverse,\n                      children: \"Grade - high to low\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleSortByCity,\n                      children: \"Address - A to Z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleSortByCityReverse,\n                      children: \"Address - Z to A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          style: {\n            width: \"100%\",\n            marginTop: \"3rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.pharmacies.map(pharmacy => /*#__PURE__*/_jsxDEV(\"tr\", {\n              id: pharmacy.Id,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                width: \"130em\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img-fluid\",\n                  src: pharmacyLogo,\n                  width: \"70em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Name: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 12\n                  }, this), \" \", pharmacy.EntityDTO.pharmacy.EntityDTO.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Address: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 12\n                  }, this), \" \", pharmacy.EntityDTO.pharmacy.EntityDTO.address.street, \", \", pharmacy.EntityDTO.pharmacy.EntityDTO.address.city, \",\", \" \", pharmacy.EntityDTO.pharmacy.EntityDTO.address.country]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Grade: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 12\n                  }, this), \" \", pharmacy.EntityDTO.grade, /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"icofont-star\",\n                    style: {\n                      color: \"#1977cc\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Price for all drugs: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 12\n                  }, this), \" \", pharmacy.EntityDTO.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"align-middle\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => this.handleDrugClick(pharmacy.Id, pharmacy.EntityDTO.price),\n                    className: \"btn btn-outline-secondary\",\n                    children: \"Buy drugs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 10\n              }, this)]\n            }, pharmacy.Id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 9\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ModalDialog, {\n        show: this.state.openModal,\n        href: \"/\",\n        onCloseModal: this.handleModalClose,\n        header: \"Success\",\n        text: \"You have successfully bought drugs.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default withRouter(qrPharmacieswithDrugs);","map":{"version":3,"sources":["C:/Users/neman/OneDrive/Radna povrÅ¡ina/isa projekat/ISA-projekat/ISA-front/src/Components/qrPharmacieswithDrugs.js"],"names":["React","Component","Axios","Header","pharmacyLogo","withRouter","GetAuthorisation","ModalDialog","Redirect","qrPharmacieswithDrugs","state","eReciptId","pharmacies","formShowed","name","city","gradeFrom","gradeTo","openModal","openModalAllergen","openModalRefused","distanceFrom","distanceTo","showingSearched","showingSorted","currentLatitude","currentLongitude","sortIndicator","redirect","redirectUrl","handleDrugClick","id","price","PharmacyERecipeDTO","pharmacyId","eRecipeId","props","match","params","post","headers","Authorization","then","res","console","log","data","setState","catch","err","handleModalClose","handleSortByName","get","handleSortByNameReverse","handleSortByPrice","handleSortByPriceReverse","handleSortByGrade","handleSortByGradeReverse","handleSortByCity","handleSortByCityReverse","componentDidMount","pathParams","window","location","pathname","paramsList","split","render","marginTop","length","width","map","pharmacy","Id","EntityDTO","address","street","country","grade","color"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;AAIA,MAAMC,qBAAN,SAAoCR,SAApC,CAA8C;AAAA;AAAA;AAAA,SAE1CS,KAF0C,GAElC;AACJC,MAAAA,SAAS,EAAE,EADP;AAENC,MAAAA,UAAU,EAAE,EAFN;AAGNC,MAAAA,UAAU,EAAE,KAHN;AAINC,MAAAA,IAAI,EAAE,EAJA;AAKNC,MAAAA,IAAI,EAAE,EALA;AAMNC,MAAAA,SAAS,EAAE,EANL;AAONC,MAAAA,OAAO,EAAE,EAPH;AAQNC,MAAAA,SAAS,EAAE,KARL;AASNC,MAAAA,iBAAiB,EAAE,KATb;AAUNC,MAAAA,gBAAgB,EAAE,KAVZ;AAWNC,MAAAA,YAAY,EAAE,EAXR;AAYNC,MAAAA,UAAU,EAAE,EAZN;AAaNC,MAAAA,eAAe,EAAE,KAbX;AAcNC,MAAAA,aAAa,EAAE,KAdT;AAeNC,MAAAA,eAAe,EAAE,IAfX;AAgBNC,MAAAA,gBAAgB,EAAE,IAhBZ;AAiBNC,MAAAA,aAAa,EAAE,CAjBT;AAkBNC,MAAAA,QAAQ,EAAC,KAlBH;AAmBNC,MAAAA,WAAW,EAAC;AAnBN,KAFkC;;AAAA,SAiDtCC,eAjDsC,GAiDpB,CAACC,EAAD,EAAKC,KAAL,KAAe;AAC7B,UAAIC,kBAAkB,GAAG;AACrBC,QAAAA,UAAU,EAAEH,EADS;AAErBI,QAAAA,SAAS,EAAE,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAFd;AAGrBC,QAAAA,KAAK,EAAEA;AAHc,OAAzB;AAMA9B,MAAAA,KAAK,CAACqC,IAAN,CAAW,+CAAX,EAA4DN,kBAA5D,EAAiF;AAAEO,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAAjF,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAE7B,UAAAA,SAAS,EAAE;AAAb,SAAd;AAEH,OALL,EAMK8B,KANL,CAMYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OARL;AAUAL,MAAAA,OAAO,CAACC,GAAR,CAAYZ,kBAAZ;AACH,KAnEqC;;AAAA,SAqEtCiB,gBArEsC,GAqEnB,MAAM;AACrB,WAAKH,QAAL,CAAc;AAAE7B,QAAAA,SAAS,EAAE;AAAb,OAAd;AACH,KAvEqC;;AAAA,SAyEtCiC,gBAzEsC,GAyEnB,MAAM;AAGrBjD,MAAAA,KAAK,CAACkD,GAAN,CAAU,gDAAiD,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAAnF,EAAwF;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAAxF,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KApFqC;;AAAA,SAsFtCI,uBAtFsC,GAsFZ,MAAM;AAG5B;AAEAnD,MAAAA,KAAK,CAACkD,GAAN,CAAU,uDAAwD,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAA1F,EAA+F;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAA/F,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KAnGqC;;AAAA,SAqGtCK,iBArGsC,GAqGlB,MAAM;AAGtBpD,MAAAA,KAAK,CAACkD,GAAN,CAAU,iDAAkD,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAApF,EAAwF;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAAxF,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KAhHqC;;AAAA,SAkHtCM,wBAlHsC,GAkHX,MAAM;AAG7BrD,MAAAA,KAAK,CAACkD,GAAN,CAAU,wDAAyD,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAA3F,EAA+F;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAA/F,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KA7HqC;;AAAA,SA+HtCO,iBA/HsC,GA+HlB,MAAM;AAGtBtD,MAAAA,KAAK,CAACkD,GAAN,CAAU,iDAAkD,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAApF,EAAwF;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAAxF,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KA1IqC;;AAAA,SA4ItCQ,wBA5IsC,GA4IX,MAAM;AAG7BvD,MAAAA,KAAK,CAACkD,GAAN,CAAU,wDAAyD,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAA3F,EAA+F;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAA/F,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KAvJqC;;AAAA,SAyJtCS,gBAzJsC,GAyJnB,MAAM;AAGrBxD,MAAAA,KAAK,CAACkD,GAAN,CAAU,mDAAoD,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAAtF,EAA0F;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAA1F,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KApKqC;;AAAA,SAuKtCU,uBAvKsC,GAuKZ,MAAM;AAG5BzD,MAAAA,KAAK,CAACkD,GAAN,CAAU,0DAA2D,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAA7F,EAAiG;AAAES,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,OAAjG,EACKoC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AAAEnC,UAAAA,UAAU,EAAE+B,GAAG,CAACG,IAAlB;AAAwBtB,UAAAA,aAAa,EAAE,IAAvC;AAA6CG,UAAAA,aAAa,EAAE;AAA5D,SAAd;AACH,OAJL,EAKKqB,KALL,CAKYC,GAAD,IAAS;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OAPL;AAQH,KAlLqC;AAAA;;AAwB5CW,EAAAA,iBAAiB,GAAG;AAElB,UAAMC,UAAU,GAAEC,MAAM,CAACC,QAAP,CAAgBC,QAAlC;AACA,UAAMC,UAAU,GAAEJ,UAAU,CAACK,KAAX,CAAiB,GAAjB,CAAlB;AACA,UAAMnC,EAAE,GAAGkC,UAAU,CAAC,CAAD,CAArB;AAEArB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAAxB,GAA6B,QAAzC;AAKA7B,IAAAA,KAAK,CAACkD,GAAN,CAAU,0DAA0DrB,EAApE,EAAwE;AAAES,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAEnC,gBAAgB;AAAjC;AAAX,KAAxE,EACAoC,IADA,CACMC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,WAAKC,QAAL,CAAc;AAAEnC,QAAAA,UAAU,EAAE+B,GAAG,CAACG;AAAlB,OAAd;AACA,KAJA,EAKAE,KALA,CAKOC,GAAD,IAAS;AACfL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACA,KAPA;AAUK;;AAyILkB,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKzD,KAAL,CAAWkB,QAAf,EAAyB,oBAAO,QAAC,QAAD;AAAU,MAAA,IAAI,MAAd;AAAe,MAAA,EAAE,EAAE,KAAKlB,KAAL,CAAWmB;AAA9B;AAAA;AAAA;AAAA;AAAA,YAAP;AAEzB,wBACI,QAAC,KAAD,CAAO,QAAP;AAAA,8BAEQ,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAFR,eAIQ;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,KAAK,EAAE;AAAEuC,UAAAA,SAAS,EAAE;AAAb,SAAlC;AAAA,gCACX;AAAI,UAAA,SAAS,EAAC,uCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADW,eAEI;AAAI,UAAA,SAAS,EAAC,uCAAd;AAAsD,UAAA,MAAM,EAAE,KAAK1D,KAAL,CAAWE,UAAX,CAAsByD,MAAtB,KAA+B,CAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAII;AAAK,UAAA,SAAS,EAAC,aAAf;AAA6B,UAAA,MAAM,EAAE,KAAK3D,KAAL,CAAWE,UAAX,CAAsByD,MAAtB,IAA8B,CAAnE;AAAA,iCAClB;AAAK,YAAA,SAAS,EAAC,+BAAf;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,qCACC;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,uCACC;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,0CACC;AAEC,oBAAA,SAAS,EAAC,iCAFX;AAGC,oBAAA,IAAI,EAAC,QAHN;AAIC,oBAAA,EAAE,EAAC,eAJJ;AAKC,mCAAY,UALb;AAMC,qCAAc,MANf;AAOC,qCAAc,OAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,eAYC;AAAK,oBAAA,SAAS,EAAC,eAAf;AAA+B,uCAAgB,eAA/C;AAAA,4CACC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,IAAI,EAAC,QAAvC;AAAgD,sBAAA,OAAO,EAAE,KAAKlB,gBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADD,eAIC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,MAAM,EAAE,KAAKzC,KAAL,CAAWE,UAAX,CAAsByD,MAAtB,KAA+B,CAAzE;AAA4E,sBAAA,IAAI,EAAC,QAAjF;AAA0F,sBAAA,OAAO,EAAE,KAAKhB,uBAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJD,eAOkC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,IAAI,EAAC,QAAvC;AAAgD,sBAAA,OAAO,EAAE,KAAKC,iBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPlC,eAUC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,IAAI,EAAC,QAAvC;AAAgD,sBAAA,OAAO,EAAE,KAAKC,wBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAVD,eAakC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,IAAI,EAAC,QAAvC;AAAgD,sBAAA,OAAO,EAAE,KAAKC,iBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAblC,eAgBC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,IAAI,EAAC,QAAvC;AAAgD,sBAAA,OAAO,EAAE,KAAKC,wBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAhBD,eAmBkC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,IAAI,EAAC,QAAvC;AAAgD,sBAAA,OAAO,EAAE,KAAKC,gBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAnBlC,eAsBC;AAAQ,sBAAA,SAAS,EAAC,eAAlB;AAAkC,sBAAA,IAAI,EAAC,QAAvC;AAAgD,sBAAA,OAAO,EAAE,KAAKC,uBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAtBD;AAAA;AAAA;AAAA;AAAA;AAAA,0BAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADkB;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAsDI;AAAO,UAAA,SAAS,EAAC,OAAjB;AAAyB,UAAA,KAAK,EAAE;AAAEW,YAAAA,KAAK,EAAE,MAAT;AAAiBF,YAAAA,SAAS,EAAE;AAA5B,WAAhC;AAAA,iCAClB;AAAA,sBACE,KAAK1D,KAAL,CAAWE,UAAX,CAAsB2D,GAAtB,CAA2BC,QAAD,iBAC1B;AAAI,cAAA,EAAE,EAAEA,QAAQ,CAACC,EAAjB;AAAA,sCACC;AAAI,gBAAA,KAAK,EAAC,OAAV;AAAA,uCACC;AAAK,kBAAA,SAAS,EAAC,WAAf;AAA2B,kBAAA,GAAG,EAAErE,YAAhC;AAA8C,kBAAA,KAAK,EAAC;AAApD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADD,eAIC;AAAA,wCACC;AAAA,0CACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,OACgBoE,QAAQ,CAACE,SAAT,CAAmBF,QAAnB,CAA4BE,SAA5B,CAAsC5D,IADtD;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAIC;AAAA,0CACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,OACmB0D,QAAQ,CAACE,SAAT,CAAmBF,QAAnB,CAA4BE,SAA5B,CAAsCC,OAAtC,CAA8CC,MADjE,QAC2EJ,QAAQ,CAACE,SAAT,CAAmBF,QAAnB,CAA4BE,SAA5B,CAAsCC,OAAtC,CAA8C5D,IADzH,OACgI,GADhI,EAEEyD,QAAQ,CAACE,SAAT,CAAmBF,QAAnB,CAA4BE,SAA5B,CAAsCC,OAAtC,CAA8CE,OAFhD;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJD,eAQC;AAAA,0CACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,OACiBL,QAAQ,CAACE,SAAT,CAAmBI,KADpC,eAEC;AAAG,oBAAA,SAAS,EAAC,cAAb;AAA4B,oBAAA,KAAK,EAAE;AAAEC,sBAAAA,KAAK,EAAE;AAAT;AAAnC;AAAA;AAAA;AAAA;AAAA,0BAFD;AAAA;AAAA;AAAA;AAAA;AAAA,wBARD,eAYC;AAAA,0CACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,OAC+BP,QAAQ,CAACE,SAAT,CAAmB1C,KADlD;AAAA;AAAA;AAAA;AAAA;AAAA,wBAZD;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJD,eAoBC;AAAI,gBAAA,SAAS,EAAC,cAAd;AAAA,uCACC;AAAA,yCACC;AAAQ,oBAAA,IAAI,EAAC,QAAb;AAAsB,oBAAA,OAAO,EAAE,MAAM,KAAKF,eAAL,CAAqB0C,QAAQ,CAACC,EAA9B,EAAkCD,QAAQ,CAACE,SAAT,CAAmB1C,KAArD,CAArC;AAAkG,oBAAA,SAAS,EAAC,2BAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBApBD;AAAA,eAA0BwC,QAAQ,CAACC,EAAnC;AAAA;AAAA;AAAA;AAAA,oBADA;AADF;AAAA;AAAA;AAAA;AAAA;AADkB;AAAA;AAAA;AAAA;AAAA,gBAtDJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJR,eA8FI,QAAC,WAAD;AACX,QAAA,IAAI,EAAE,KAAK/D,KAAL,CAAWQ,SADN;AAEX,QAAA,IAAI,EAAC,GAFM;AAGX,QAAA,YAAY,EAAE,KAAKgC,gBAHR;AAIX,QAAA,MAAM,EAAC,SAJI;AAKX,QAAA,IAAI,EAAC;AALM;AAAA;AAAA;AAAA;AAAA,cA9FJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA2GL;;AApS2C;;AAsS9C,eAAe7C,UAAU,CAACI,qBAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from './Header';\r\nimport pharmacyLogo from \"../Images/pharmacyLogo.jpg\"\r\nimport { withRouter } from \"react-router\";\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport ModalDialog from \"./ModalDialog\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nclass qrPharmacieswithDrugs extends Component {\r\n\r\n    state = {\r\n        eReciptId: \"\",\r\n      pharmacies: [],\r\n      formShowed: false,\r\n      name: \"\",\r\n      city: \"\",\r\n      gradeFrom: \"\",\r\n      gradeTo: \"\",\r\n      openModal: false,\r\n      openModalAllergen: false,\r\n      openModalRefused: false,\r\n      distanceFrom: \"\",\r\n      distanceTo: \"\",\r\n      showingSearched: false,\r\n      showingSorted: false,\r\n      currentLatitude: null,\r\n      currentLongitude: null,\r\n      sortIndicator: 0,\r\n      redirect:false,\r\n      redirectUrl:''\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n    const pathParams= window.location.pathname;\r\n    const paramsList= pathParams.split(\"/\");\r\n    const id = paramsList[2];\r\n\r\n    console.log(this.props.match.params.id + \"xaxaax\");\r\n\r\n    \r\n\r\n\r\n    Axios.get(\"http://localhost:8080/pharmacy/qrPharmacieswithDrugs/\" + id, { headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data)\r\n\t\t\t\tthis.setState({ pharmacies: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n   \r\n        }\r\n\r\n\r\n\r\n        handleDrugClick = (id, price) => {\r\n            let PharmacyERecipeDTO = {\r\n                pharmacyId: id,\r\n                eRecipeId: this.props.match.params.id,\r\n                price: price,\r\n            }\r\n            \r\n            Axios.post(\"http://localhost:8080/pharmacy/buyDrugsWithQr\", PharmacyERecipeDTO , { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ openModal: true });\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            \r\n            console.log(PharmacyERecipeDTO);\r\n        };\r\n\r\n        handleModalClose = () => {\r\n            this.setState({ openModal: false });\r\n        };\r\n\r\n        handleSortByName = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-name/\"  + this.props.match.params.id , { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 1 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByNameReverse = () => {\r\n            \r\n    \r\n            ;\r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-nameReverse/\"  + this.props.match.params.id , { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 2 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByPrice = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-price/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 1 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n    \r\n        handleSortByPriceReverse = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-priceReverse/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 2 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByGrade = () => {\r\n           \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-grade/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 5 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n        \r\n        handleSortByGradeReverse = () => {\r\n           \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-gradeReverse/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 6 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n        handleSortByCity = () => {\r\n            \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-address/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 3 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n        \r\n        \r\n        handleSortByCityReverse = () => {\r\n           \r\n            \r\n            Axios.get(\"http://localhost:8080/pharmacy/qrSort-addressReverse/\"  + this.props.match.params.id, { headers: { Authorization: GetAuthorisation() } })\r\n                .then((res) => {\r\n                    console.log(res.data);\r\n                    this.setState({ pharmacies: res.data, showingSorted: true, sortIndicator: 4 });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                   \r\n                    <Header />\r\n\r\n                    <div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\t\t\t\t\t    <h5 className=\" text-center mb-0 mt-2 text-uppercase\">Pharmacies to buy eRecipe</h5>\r\n                        <h5 className=\" text-center mb-0 mt-2 text-uppercase\" hidden={this.state.pharmacies.length!==0}>Currently there are no drugs in stock! Come back later.</h5>\r\n\r\n                        <div className=\"form-group \" hidden={this.state.pharmacies.length==0}>\r\n\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\">\r\n\t\t\t\t\t\t\t<div className=\"form-row mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\" >\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n                                        \r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"dropdownMenu2\"\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSort by\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByName}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tName - A to Z\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" hidden={this.state.pharmacies.length!==0} type=\"button\" onClick={this.handleSortByNameReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tName - Z to A\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                            <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPrice}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPrice - low to high\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPrice - high to low\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                            <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByGrade}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGrade - low to high\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByGradeReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGrade - high to low\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n                                            <button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByCity}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAddress - A to Z\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByCityReverse}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAddress - Z to A\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n                        <table className=\"table\" style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.pharmacies.map((pharmacy) => (\r\n\t\t\t\t\t\t\t\t<tr id={pharmacy.Id} key={pharmacy.Id} >\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={pharmacyLogo} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name: </b> {pharmacy.EntityDTO.pharmacy.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Address: </b> {pharmacy.EntityDTO.pharmacy.EntityDTO.address.street}, {pharmacy.EntityDTO.pharmacy.EntityDTO.address.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{pharmacy.EntityDTO.pharmacy.EntityDTO.address.country}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Grade: </b> {pharmacy.EntityDTO.grade}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icofont-star\" style={{ color: \"#1977cc\" }}></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Price for all drugs: </b> {pharmacy.EntityDTO.price}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" onClick={() => this.handleDrugClick(pharmacy.Id, pharmacy.EntityDTO.price)} className=\"btn btn-outline-secondary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tBuy drugs\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n                <ModalDialog\r\n\t\t\t\t\tshow={this.state.openModal}\r\n\t\t\t\t\thref=\"/\"\r\n\t\t\t\t\tonCloseModal={this.handleModalClose}\r\n\t\t\t\t\theader=\"Success\"\r\n\t\t\t\t\ttext=\"You have successfully bought drugs.\"\r\n\t\t\t\t/>\r\n                    \r\n\r\n\r\n                    </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(qrPharmacieswithDrugs);"]},"metadata":{},"sourceType":"module"}