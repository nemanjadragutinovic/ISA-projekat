{"ast":null,"code":"var _jsxFileName = \"E:\\\\aca\\\\isa\\\\nasa-isa\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\SupplierPages\\\\OrdersPageForPhAdmin.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../../Components/Header\";\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport orderImage from \"../../Images/orderImage.png\";\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport { confirmAlert } from 'react-confirm-alert';\nimport EditOrderModal from \"../Modal/EditOrderModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass OrdersPageForPhAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: [],\n      pharmacyId: '',\n      selectedOrder: '',\n      drugsToAdd: [],\n      addedDrugs: [],\n      showEditOrder: false,\n      drugs: [],\n      showingSorted: false,\n      drugsFromOrder: [],\n      drugsForAdd: [],\n      orderToEdit: ''\n    };\n\n    this.handleRemoveOrder = orderId => {\n      console.log(orderId);\n      confirmAlert({\n        message: 'Are you sure to remove order?',\n        buttons: [{\n          label: 'Yes',\n          onClick: () => {\n            let IdDTO = {\n              id: orderId\n            };\n            Axios.put(API_URL + \"/order/removeOrder\", IdDTO, {\n              validateStatus: () => true,\n              headers: {\n                Authorization: GetAuthorisation()\n              }\n            }).then(res => {\n              if (res.status === 200) {\n                alert(\"Order is successfully removed\");\n                this.updateOrders();\n              } else if (res.status === 400) {\n                alert(\"Order has offer\");\n              } else if (res.status === 500) {\n                alert(\"Server Error\");\n              }\n            }).catch(() => {});\n          }\n        }, {\n          label: 'No',\n          onClick: () => {}\n        }]\n      });\n    };\n\n    this.updateOrders = () => {\n      Axios.get(API_URL + \"/order/getAllOrdersForPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          orders: res.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleCloseAlertSuccess = () => {\n      this.setState({\n        hiddenSuccessAlert: true\n      });\n    };\n\n    this.handleCloseAlertFail = () => {\n      this.setState({\n        hiddenFailAlert: true\n      });\n    };\n\n    this.handleCloseEditOrder = () => {\n      this.setState({\n        showEditOrder: false\n      });\n    };\n\n    this.addItem1 = item => {\n      this.setState({\n        drugsForAdd: [...this.state.drugsForAdd, item]\n      });\n    };\n\n    this.addItem = item => {\n      this.setState({\n        drugsFromOrder: [...this.state.drugsFromOrder, item]\n      });\n    };\n\n    this.handleRemoveDrugFromList = drug => {\n      this.addItem1(drug);\n      this.removeItem1(drug);\n    };\n\n    this.handleAddDrugToList = drug => {\n      this.addItem(drug);\n      this.removeItem(drug);\n    };\n\n    this.handleEditOrder = order => {\n      Axios.get(API_URL + \"/order/getAllDrugsInOrder/\" + order, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          drugsFromOrder: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      Axios.get(API_URL + \"/order/getAllAddDrugs/\" + order, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          drugsForAdd: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        orderToEdit: order,\n        showEditOrder: true\n      });\n    };\n\n    this.handleReset = () => {\n      Axios.get(API_URL + \"/order/getAllOrdersForPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          orders: res.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleCreatedOrders = () => {\n      Axios.get(API_URL + \"/order/findCreatedOrders/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          orders: res.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleProccessedOrders = () => {\n      Axios.get(API_URL + \"/order/findProccesedOrders/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          orders: res.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    let pharmacyId = localStorage.getItem(\"keyPharmacyId\");\n    this.setState({\n      pharmacyId: pharmacyId\n    });\n    Axios.get(API_URL + \"/order/getAllOrdersForPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        orders: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  removeItem1(e) {\n    var array = [...this.state.drugsFromOrder];\n    var index = array.indexOf(e);\n\n    if (index !== -1) {\n      array.splice(index, 1);\n      this.setState({\n        drugsFromOrder: array\n      });\n    }\n  }\n\n  removeItem(e) {\n    var array = [...this.state.drugsForAdd];\n    var index = array.indexOf(e);\n\n    if (index !== -1) {\n      array.splice(index, 1);\n      this.setState({\n        drugsForAdd: array\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          marginTop: \"2%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \" text-center mb-0 mt-2 text-uppercase\",\n          children: \"Orders \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group controls mb-0 pb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-col\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary dropdown-toggle\",\n                    type: \"button\",\n                    id: \"dropdownMenu2\",\n                    \"data-toggle\": \"dropdown\",\n                    \"aria-haspopup\": \"true\",\n                    \"aria-expanded\": \"false\",\n                    children: \"Search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dropdown-menu\",\n                    \"aria-labelledby\": \"dropdownMenu2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleReset,\n                      children: \"ALL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleProccessedOrders,\n                      children: \"PROCESSED\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"dropdown-item\",\n                      type: \"button\",\n                      onClick: this.handleCreatedOrders,\n                      children: \"CREATED\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-hover\",\n          style: {\n            width: \"100%\",\n            marginTop: \"3rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.orders.map(order => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                width: \"190em\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img-fluid\",\n                  src: orderImage,\n                  width: \"150em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Date : \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 12\n                  }, this), \" \", new Date(order.EntityDTO.dateTo).toLocaleTimeString(\"en-US\", {\n                    day: \"2-digit\",\n                    month: \"2-digit\",\n                    year: \"numeric\",\n                    hour: \"2-digit\",\n                    minute: \"2-digit\"\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Creator: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 12\n                  }, this), \" \", order.EntityDTO.creator]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Offers: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 12\n                  }, this), \" \", order.EntityDTO.offersCount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Status: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 12\n                  }, this), \" \", order.EntityDTO.orderStatus]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"align-middle\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  hidden: order.EntityDTO.offersCount > 0,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => this.handleRemoveOrder(order.Id),\n                    className: \"btn btn-outline-secondary\",\n                    children: \"Remove Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  hidden: order.EntityDTO.offersCount > 0,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => this.handleEditOrder(order.Id),\n                    className: \"btn btn-outline-secondary\",\n                    children: \"Edit Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  hidden: order.EntityDTO.offersCount == 0 || !order.EntityDTO.orderStatus == 'CREATED',\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => this.handleEditOrder(order.Id),\n                    className: \"btn btn-outline-secondary\",\n                    children: \"View Offers\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 9\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(EditOrderModal, {\n          show: this.state.showEditOrder,\n          closeModal: this.handleCloseEditOrder,\n          drugsToAdd: this.state.drugsFromOrder,\n          drugs: this.state.drugsForAdd,\n          pharmacyId: this.state.pharmacyId,\n          removeFromDrugToAdd: this.handleRemoveDrugFromList,\n          addToAddedDrugs: this.handleAddDrugToList,\n          orderToEdit: this.state.orderToEdit,\n          header: \"Create order\",\n          update: this.updateOrders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default OrdersPageForPhAdmin;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/src/Components/SupplierPages/OrdersPageForPhAdmin.js"],"names":["React","Component","Header","Axios","GetAuthorisation","orderImage","confirmAlert","EditOrderModal","API_URL","OrdersPageForPhAdmin","state","orders","pharmacyId","selectedOrder","drugsToAdd","addedDrugs","showEditOrder","drugs","showingSorted","drugsFromOrder","drugsForAdd","orderToEdit","handleRemoveOrder","orderId","console","log","message","buttons","label","onClick","IdDTO","id","put","validateStatus","headers","Authorization","then","res","status","alert","updateOrders","catch","get","localStorage","getItem","data","setState","err","handleCloseAlertSuccess","hiddenSuccessAlert","handleCloseAlertFail","hiddenFailAlert","handleCloseEditOrder","addItem1","item","addItem","handleRemoveDrugFromList","drug","removeItem1","handleAddDrugToList","removeItem","handleEditOrder","order","handleReset","handleCreatedOrders","handleProccessedOrders","componentDidMount","e","array","index","indexOf","splice","render","marginTop","width","map","Date","EntityDTO","dateTo","toLocaleTimeString","day","month","year","hour","minute","creator","offersCount","orderStatus","Id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport orderImage from \"../../Images/orderImage.png\";\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport { confirmAlert } from 'react-confirm-alert'; \r\nimport EditOrderModal from \"../Modal/EditOrderModal\";\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\nclass OrdersPageForPhAdmin extends Component {\r\n\tstate = {\r\n        orders: [],\r\n        pharmacyId:'',\r\n        selectedOrder:'',\r\n        drugsToAdd:[],\r\n        addedDrugs:[],\r\n        showEditOrder:false,\r\n        drugs:[],\r\n        showingSorted:false,\r\n        drugsFromOrder:[],\r\n        drugsForAdd:[],\r\n        orderToEdit:'',\r\n    };\r\n\r\n    componentDidMount() {\r\n\t\tlet pharmacyId=localStorage.getItem(\"keyPharmacyId\")\r\n\t\tthis.setState({\r\n\t\t\tpharmacyId: pharmacyId\r\n\t\t})\r\n        Axios.get(API_URL + \"/order/getAllOrdersForPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ orders: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n    }\r\n\r\n    handleRemoveOrder = (orderId) => {\r\n        console.log(orderId)\r\n        confirmAlert({\r\n            message: 'Are you sure to remove order?',\r\n            buttons: [\r\n              {\r\n                label: 'Yes',\r\n                onClick: () => {\r\n                   let IdDTO={\r\n                       id:orderId\r\n                   }\r\n                    Axios\r\n                    .put(API_URL + \"/order/removeOrder\",IdDTO, {\r\n                        \r\n                        validateStatus: () => true,\r\n                        headers: { Authorization: GetAuthorisation() },\r\n                    }).then((res) =>{\r\n                        if (res.status === 200) {\r\n                         alert(\"Order is successfully removed\")\r\n                            this.updateOrders();\r\n                        }else if(res.status === 400)\r\n                        {\r\n                           alert(\"Order has offer\")\r\n                        }else if(res.status === 500)\r\n                        {\r\n                         alert(\"Server Error\")\r\n                        }\r\n                        \r\n                    }).catch(() => {\r\n\r\n                    });\r\n                }\r\n              },\r\n              {\r\n                label: 'No',\r\n                onClick: () => {\r\n                    \r\n                }\r\n              }\r\n            ]\r\n        });\r\n    }\r\n\r\n    updateOrders = () =>{\r\n        Axios.get(API_URL + \"/order/getAllOrdersForPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ orders: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n    }\r\n\r\n    \r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n    };\r\n    \r\n    handleCloseAlertFail = () => {\r\n\t\tthis.setState({ hiddenFailAlert: true });\r\n\t};\r\n\r\n   \r\n\r\n    handleCloseEditOrder =()=>{\r\n        this.setState({ showEditOrder: false });\r\n\r\n    }\r\n\r\n    \r\n      addItem1 = item => {\r\n        this.setState({\r\n            drugsForAdd: [\r\n            ...this.state.drugsForAdd,\r\n            item \r\n          ]\r\n        })\r\n    }\r\n\r\n    removeItem1(e) {\r\n        var array = [...this.state.drugsFromOrder];\r\n        var index = array.indexOf(e)\r\n        if (index !== -1) {\r\n          array.splice(index, 1);\r\n          this.setState({drugsFromOrder: array});\r\n        }\r\n      }\r\n\r\n    addItem = item => {\r\n\r\n        this.setState({\r\n            drugsFromOrder: [\r\n            ...this.state.drugsFromOrder,\r\n            item \r\n          ]\r\n        })\r\n    }\r\n\r\n    removeItem(e) {\r\n        var array = [...this.state.drugsForAdd]; \r\n        var index = array.indexOf(e)\r\n        if (index !== -1) {\r\n          array.splice(index, 1);\r\n          this.setState({drugsForAdd: array});\r\n        }\r\n      }\r\n\r\n    handleRemoveDrugFromList = (drug) =>{\r\n        this.addItem1(drug);\r\n        this.removeItem1(drug)\r\n     }\r\n\r\n     handleAddDrugToList = (drug) =>{\r\n        this.addItem(drug);\r\n        this.removeItem(drug)\r\n     }\r\n\r\n    handleEditOrder = (order) =>{\r\n\r\n        \r\n            Axios\r\n            .get(API_URL + \"/order/getAllDrugsInOrder/\"+ order, {\r\n                headers: { Authorization: GetAuthorisation() },\r\n            }).then((res) =>{\r\n                this.setState({drugsFromOrder : res.data});\r\n                console.log(res.data);\r\n            }).catch((err) => {console.log(err);});\r\n    \r\n            Axios\r\n            .get(API_URL + \"/order/getAllAddDrugs/\"+ order, {\r\n                headers: { Authorization: GetAuthorisation() },\r\n            }).then((res) =>{\r\n                this.setState({drugsForAdd : res.data});\r\n                console.log(res.data);\r\n            }).catch((err) => {console.log(err);});\r\n    \r\n    \r\n            this.setState({\r\n                orderToEdit: order,\r\n                showEditOrder:true,\r\n            })\r\n        }\r\n    \r\n\r\n \r\n    handleReset = () =>{\r\n        Axios.get(API_URL + \"/order/getAllOrdersForPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ orders: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n    }\r\n\r\n    handleCreatedOrders = () =>{\r\n        Axios.get(API_URL + \"/order/findCreatedOrders/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ orders: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n    }\r\n\r\n    handleProccessedOrders = () =>{\r\n        Axios.get(API_URL + \"/order/findProccesedOrders/\" + localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ orders: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n\t\treturn (\r\n        <React.Fragment>\r\n            <div>\r\n\r\n            </div>\r\n                    <Header />\r\n                \r\n\t\t\t\t\t<div className=\"container\" style={{ marginTop: \"2%\" }}>\r\n\t\t\t\t\t<h5 className=\" text-center mb-0 mt-2 text-uppercase\">Orders </h5>\r\n                    <div className=\"form-group\">\r\n\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\">\r\n\t\t\t\t\t\t\t<div className=\"form-row mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"dropdownMenu2\"\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                                        <button className=\"dropdown-item\" type=\"button\" onClick={this.handleReset}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tALL\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleProccessedOrders}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPROCESSED\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleCreatedOrders}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCREATED\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table table-hover\" style={{ width: \"100%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.orders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr className=\"rounded\">\r\n\t\t\t\t\t\t\t\t\t<td width=\"190em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={orderImage}  width=\"150em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Date : </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(order.EntityDTO.dateTo).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Creator: </b> {order.EntityDTO.creator}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Offers: </b> {order.EntityDTO.offersCount}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Status: </b> {order.EntityDTO.orderStatus}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2\" hidden={order.EntityDTO.offersCount>0}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleRemoveOrder(order.Id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRemove Order\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div className=\"mt-2\" hidden={order.EntityDTO.offersCount>0}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEditOrder(order.Id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tEdit Order\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div className=\"mt-2\" hidden={order.EntityDTO.offersCount==0 || !order.EntityDTO.orderStatus=='CREATED'}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEditOrder(order.Id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tView Offers\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                    <EditOrderModal show={this.state.showEditOrder} closeModal={this.handleCloseEditOrder}  drugsToAdd={this.state.drugsFromOrder} drugs={this.state.drugsForAdd}\r\n                    pharmacyId={this.state.pharmacyId}\r\n                    removeFromDrugToAdd={this.handleRemoveDrugFromList}\r\n                    addToAddedDrugs={this.handleAddDrugToList}\r\n                            orderToEdit={this.state.orderToEdit}\r\n\t\t\t\t\t        header=\"Create order\"\r\n                            update={this.updateOrders}\r\n\t\t\t\t        />\r\n\t\t\t\t</div>\r\n                    \r\n                </React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default OrdersPageForPhAdmin"]},"metadata":{},"sourceType":"module"}