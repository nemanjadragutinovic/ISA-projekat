{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\faks\\\\4.god 1.semestar\\\\ISA\\\\ISA Projekat\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\card-components\\\\PharmacistCard.js\";\nimport React, { Component } from \"react\";\nimport Modal from 'react-bootstrap/Modal';\nimport './card.styles.css';\nimport Picture from \"../../Images/pharmacist.png\";\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport ScheduleModalPharmacist from \"../Modal/ScheduleModalPharmacist\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass PharmacistCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      openScheduleModal: false,\n      workTimes: [],\n      employee: ''\n    };\n\n    this.hasRole = requestRole => {\n      let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\n      if (currentRoles === null) return false;\n\n      for (let currentRole of currentRoles) {\n        if (currentRole === requestRole) return true;\n      }\n\n      return false;\n    };\n\n    this.handleUpdateScheduleModal = () => {\n      if (this.hasRole(\"ROLE_PHARMACYADMIN\")) {\n        console.log(\"aaaaaaaaaaaaaa\");\n        Axios.get(API_URL + \"/users/scheduleForEmployee/\" + this.props.pharmacist.Id, {\n          headers: {\n            Authorization: GetAuthorisation()\n          }\n        }).then(res => {\n          this.setState({\n            workTimes: res.data\n          });\n          console.log(res.data);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.handleScheduleModal = id => {\n      if (this.hasRole(\"ROLE_PHARMACYADMIN\")) {\n        console.log(\"aaaaaaaaaaaaaa\");\n        console.log(id);\n        Axios.get(API_URL + \"/users/scheduleForEmployee/\" + id, {\n          headers: {\n            Authorization: GetAuthorisation()\n          }\n        }).then(res => {\n          this.setState({\n            workTimes: res.data,\n            employee: id\n          });\n          console.log(res.data);\n          console.log(id);\n        }).catch(err => {\n          console.log(err);\n        });\n        this.setState({\n          openScheduleModal: true\n        });\n      }\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        openScheduleModal: false\n      });\n    };\n\n    this.handleUpdatePharmacists = () => {\n      this.setState({\n        openScheduleModal: false\n      });\n      this.props.updatePharmacists();\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    console.log(this.props.pharmacist);\n    console.log(this.props.pharmacyId);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"card-style\",\n        onClick: () => this.handleScheduleModal(this.props.pharmacist.Id),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-fluid\",\n          src: Picture\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [this.props.pharmacist.EntityDTO.name, \" \", this.props.pharmacist.EntityDTO.surname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email: \", this.props.pharmacist.EntityDTO.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Phone: \", this.props.pharmacist.EntityDTO.phoneNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Grade: \", this.props.pharmacist.EntityDTO.grade, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-star\",\n            style: {\n              color: \"yellow\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 59\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ScheduleModalPharmacist, {\n        show: this.state.openScheduleModal,\n        update: this.handleUpdateScheduleModal,\n        updatePharmacists: this.handleUpdatePharmacists,\n        onCloseModal: this.handleModalClose,\n        workTimes: this.state.workTimes,\n        employee: this.props.pharmacist.Id,\n        pharmacyId: this.props.pharmacyId,\n        header: \"WorkTimes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default PharmacistCard;","map":{"version":3,"sources":["C:/Users/PC/Desktop/faks/4.god 1.semestar/ISA/ISA Projekat/ISA-projekat/ISA-front/src/Components/card-components/PharmacistCard.js"],"names":["React","Component","Modal","Picture","Axios","GetAuthorisation","ScheduleModalPharmacist","API_URL","PharmacistCard","state","openScheduleModal","workTimes","employee","hasRole","requestRole","currentRoles","JSON","parse","localStorage","getItem","currentRole","handleUpdateScheduleModal","console","log","get","props","pharmacist","Id","headers","Authorization","then","res","setState","data","catch","err","handleScheduleModal","id","handleModalClose","handleUpdatePharmacists","updatePharmacists","componentDidMount","render","pharmacyId","EntityDTO","name","surname","email","phoneNumber","grade","color"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAO,mBAAP;AACA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,uBAAP,MAAoC,kCAApC;;AAEA,MAAMC,OAAO,GAAC,uBAAd;;AACA,MAAMC,cAAN,SAA6BP,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCQ,KAFmC,GAE3B;AACJC,MAAAA,iBAAiB,EAAE,KADf;AAEJC,MAAAA,SAAS,EAAC,EAFN;AAGJC,MAAAA,QAAQ,EAAE;AAHN,KAF2B;;AAAA,SAYvCC,OAZuC,GAY5BC,WAAD,IAAiB;AACvB,UAAIC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAnB;AAEA,UAAIJ,YAAY,KAAK,IAArB,EAA2B,OAAO,KAAP;;AAG3B,WAAK,IAAIK,WAAT,IAAwBL,YAAxB,EAAsC;AACpC,YAAIK,WAAW,KAAKN,WAApB,EAAiC,OAAO,IAAP;AAClC;;AACD,aAAO,KAAP;AACD,KAtBoC;;AAAA,SAwBrCO,yBAxBqC,GAwBT,MAAM;AAChC,UAAI,KAAKR,OAAL,CAAa,oBAAb,CAAJ,EAAwC;AACxCS,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEAnB,QAAAA,KAAK,CAACoB,GAAN,CAAUjB,OAAO,GAAG,6BAAV,GAA0C,KAAKkB,KAAL,CAAWC,UAAX,CAAsBC,EAA1E,EAA8E;AAC1EC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAExB,gBAAgB;AAAjC;AADiE,SAA9E,EAGCyB,IAHD,CAGOC,GAAD,IAAS;AAEX,eAAKC,QAAL,CAAc;AAAErB,YAAAA,SAAS,EAAEoB,GAAG,CAACE;AAAjB,WAAd;AAEAX,UAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACE,IAAhB;AAEH,SATD,EAUCC,KAVD,CAUQC,GAAD,IAAS;AACZb,UAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACH,SAZD;AAaC;AACA,KA1CkC;;AAAA,SA4CnCC,mBA5CmC,GA4CZC,EAAD,IAAQ;AAC1B,UAAI,KAAKxB,OAAL,CAAa,oBAAb,CAAJ,EAAwC;AACxCS,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYc,EAAZ;AACAjC,QAAAA,KAAK,CAACoB,GAAN,CAAUjB,OAAO,GAAG,6BAAV,GAA0C8B,EAApD,EAAwD;AAC7DT,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAExB,gBAAgB;AAAjC;AADoD,SAAxD,EAGCyB,IAHD,CAGOC,GAAD,IAAS;AACX,eAAKC,QAAL,CAAc;AAAErB,YAAAA,SAAS,EAAEoB,GAAG,CAACE,IAAjB;AAAwBrB,YAAAA,QAAQ,EAACyB;AAAjC,WAAd;AACAf,UAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACE,IAAhB;AACAX,UAAAA,OAAO,CAACC,GAAR,CAAYc,EAAZ;AACH,SAPD,EAQCH,KARD,CAQQC,GAAD,IAAS;AACZb,UAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACH,SAVD;AAWA,aAAKH,QAAL,CAAc;AACVtB,UAAAA,iBAAiB,EAAE;AADT,SAAd;AAGH;AACI,KA/D8B;;AAAA,SAiE/B4B,gBAjE+B,GAiEZ,MAAM;AACrB,WAAKN,QAAL,CAAc;AAACtB,QAAAA,iBAAiB,EAAE;AAApB,OAAd;AACH,KAnE8B;;AAAA,SAqE/B6B,uBArE+B,GAqEN,MAAK;AAC1B,WAAKP,QAAL,CAAc;AAACtB,QAAAA,iBAAiB,EAAE;AAApB,OAAd;AACA,WAAKe,KAAL,CAAWe,iBAAX;AACH,KAxE8B;AAAA;;AAQrCC,EAAAA,iBAAiB,GAAG,CAErB;;AA+DAC,EAAAA,MAAM,GAAG;AAEFpB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWC,UAAvB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWkB,UAAvB;AACN,wBAEI,QAAC,KAAD,CAAO,QAAP;AAAA,8BACE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAA+B,QAAA,OAAO,EAAE,MAAM,KAAKP,mBAAL,CAAyB,KAAKX,KAAL,CAAWC,UAAX,CAAsBC,EAA/C,CAA9C;AAAA,gCACA;AAAK,UAAA,SAAS,EAAC,WAAf;AAA2B,UAAA,GAAG,EAAExB;AAAhC;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAA,qBAAK,KAAKsB,KAAL,CAAWC,UAAX,CAAsBkB,SAAtB,CAAgCC,IAArC,OAA4C,KAAKpB,KAAL,CAAWC,UAAX,CAAsBkB,SAAtB,CAAgCE,OAA5E;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAA,gCAAW,KAAKrB,KAAL,CAAWC,UAAX,CAAsBkB,SAAtB,CAAgCG,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA,eAIA;AAAA,gCAAW,KAAKtB,KAAL,CAAWC,UAAX,CAAsBkB,SAAtB,CAAgCI,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJA,eAKA;AAAA,gCAAW,KAAKvB,KAAL,CAAWC,UAAX,CAAsBkB,SAAtB,CAAgCK,KAA3C,oBAAkD;AAAG,YAAA,SAAS,EAAC,WAAb;AAAyB,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT;AAAhC;AAAA;AAAA;AAAA;AAAA,kBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA,gBALA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAWE,QAAC,uBAAD;AAAyB,QAAA,IAAI,EAAE,KAAKzC,KAAL,CAAWC,iBAA1C;AAA6D,QAAA,MAAM,EAAE,KAAKW,yBAA1E;AAAqG,QAAA,iBAAiB,EAAE,KAAKkB,uBAA7H;AAAsJ,QAAA,YAAY,EAAE,KAAKD,gBAAzK;AAA2L,QAAA,SAAS,EAAE,KAAK7B,KAAL,CAAWE,SAAjN;AAA6N,QAAA,QAAQ,EAAG,KAAKc,KAAL,CAAWC,UAAX,CAAsBC,EAA9P;AAAkQ,QAAA,UAAU,EAAE,KAAKF,KAAL,CAAWkB,UAAzR;AAAqS,QAAA,MAAM,EAAC;AAA5S;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAkBA;;AA/FqC;;AAkGvC,eAAenC,cAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport './card.styles.css'\r\nimport Picture from \"../../Images/pharmacist.png\" ;\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport ScheduleModalPharmacist from \"../Modal/ScheduleModalPharmacist\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\nclass PharmacistCard extends Component {\r\n\t\r\n    state = {\r\n        openScheduleModal: false,\r\n        workTimes:[],\r\n        employee: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n        \r\n}\r\n\r\nhasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  handleUpdateScheduleModal = () => {\r\n    if (this.hasRole(\"ROLE_PHARMACYADMIN\")) {  \r\n    console.log(\"aaaaaaaaaaaaaa\");\r\n    \r\n    Axios.get(API_URL + \"/users/scheduleForEmployee/\" + this.props.pharmacist.Id, {\r\n        headers: { Authorization: GetAuthorisation() },\r\n    })\r\n    .then((res) => {\r\n     \r\n        this.setState({ workTimes: res.data});\r\n        \r\n        console.log(res.data);\r\n       \r\n    })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    });\r\n    }\r\n    };\r\n\r\n    handleScheduleModal = (id) => {\r\n        if (this.hasRole(\"ROLE_PHARMACYADMIN\")) { \r\n        console.log(\"aaaaaaaaaaaaaa\");\r\n        console.log(id);\r\n        Axios.get(API_URL + \"/users/scheduleForEmployee/\" + id, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n        .then((res) => {\r\n            this.setState({ workTimes: res.data , employee:id});\r\n            console.log(res.data);\r\n            console.log(id);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n        this.setState({\r\n            openScheduleModal: true\r\n        });\r\n    }\r\n        };\r\n\r\n        handleModalClose = () => {\r\n            this.setState({openScheduleModal: false});\r\n        }\r\n\r\n        handleUpdatePharmacists =() =>{\r\n            this.setState({openScheduleModal: false});\r\n            this.props.updatePharmacists();\r\n        }\r\n\trender() {\r\n\t\r\n        console.log(this.props.pharmacist);\r\n        console.log(this.props.pharmacyId)\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n        <button className=\"card-style\" onClick={() => this.handleScheduleModal(this.props.pharmacist.Id)}>\r\n        <img className=\"img-fluid\" src={Picture}  />\r\n        <h2>{this.props.pharmacist.EntityDTO.name} {this.props.pharmacist.EntityDTO.surname}</h2>\r\n        <p>Email: {this.props.pharmacist.EntityDTO.email}</p>\r\n        <p>Phone: {this.props.pharmacist.EntityDTO.phoneNumber}</p>\r\n        <p>Grade: {this.props.pharmacist.EntityDTO.grade} <i className=\"icon-star\" style={{ color: \"yellow\"}}></i> </p>\r\n        \r\n        \r\n        </button>\r\n        \r\n        <ScheduleModalPharmacist show={this.state.openScheduleModal} update={this.handleUpdateScheduleModal} updatePharmacists={this.handleUpdatePharmacists} onCloseModal={this.handleModalClose} workTimes={this.state.workTimes}  employee ={this.props.pharmacist.Id} pharmacyId={this.props.pharmacyId} header=\"WorkTimes\" />\r\n\t    </React.Fragment>\r\n        \r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PharmacistCard;\r\n"]},"metadata":{},"sourceType":"module"}