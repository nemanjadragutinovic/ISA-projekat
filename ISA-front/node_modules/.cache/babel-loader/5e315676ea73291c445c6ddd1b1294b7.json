{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\faks\\\\4.god 1.semestar\\\\ISA\\\\ISA Projekat\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Pages\\\\Appointment\\\\PatientProfile.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../../Components/Header\";\nimport Axios from \"axios\";\nimport GetAuthorisation from '../../Funciton/GetAuthorisation';\nimport { withRouter } from \"react-router\";\nimport { Redirect } from \"react-router-dom\";\nimport ModalDialog from \"../../Components/ModalDialog\";\nimport PatientIcon from '../../Images/patient-icon.jpg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\nconst TIME_INTERVAL = 24 * 60 * 60 * 1000;\n\nclass PatientProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: \"\",\n      email: \"\",\n      password: \"\",\n      name: \"\",\n      surname: \"\",\n      address: \"\",\n      phoneNumber: \"\",\n      appointments: [],\n      redirect: false,\n      redirectUrl: '',\n      openModalSuccess: false,\n      patientsHistory: false\n    };\n\n    this.hasRole = reqRole => {\n      let roles = JSON.parse(localStorage.getItem(\"keyRole\"));\n      if (roles === null) return false;\n      if (reqRole === \"*\") return true;\n\n      for (let role of roles) {\n        if (role === reqRole) return true;\n      }\n\n      return false;\n    };\n\n    this.fetchAppointments = () => {\n      const id = this.props.match.params.id;\n      Axios.get(API_URL + \"/appointment/patient/\" + id, {\n        validateStatus: () => true,\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        if (res.status === 401) {\n          this.setState({\n            redirect: true,\n            redirectUrl: \"/unauthorized\"\n          });\n        } else if (res.status == 200 || res.status == 201) {\n          let patientsHistory = false;\n          if (res.status == 201) patientsHistory = true;\n          this.setState({\n            appointments: res.data,\n            patientsHistory: patientsHistory\n          }, () => this.handleSortByDate());\n        }\n\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleExamine = appointmentId => {\n      this.setState({\n        redirect: true,\n        redirectUrl: \"/appointment-report/\" + appointmentId\n      });\n    };\n\n    this.handleDidNotShowUp = appointmentId => {\n      console.log(appointmentId);\n      Axios.put(API_URL + \"/appointment/did-not-show-up\", {\n        id: appointmentId\n      }, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          openModalSuccess: true\n        });\n        this.fetchAppointments();\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSchedule = () => {\n      if (this.hasRole(\"ROLE_DERMATHOLOGIST\")) {\n        this.setState({\n          redirect: true,\n          redirectUrl: \"/schedule-appointment/\" + this.state.id\n        });\n      } else if (this.hasRole(\"ROLE_PHARMACIST\")) {\n        this.setState({\n          redirect: true,\n          redirectUrl: \"/new-appointment/\" + this.state.id\n        });\n      }\n    };\n\n    this.handleCreateAndSchedule = () => {\n      this.setState({\n        redirect: true,\n        redirectUrl: \"/create-and-schedule-appointment/\" + this.state.id\n      });\n    };\n\n    this.isCurrentDate = appointmentDate => {\n      appointmentDate = new Date(appointmentDate);\n      appointmentDate.setHours(0, 0, 0, 0);\n      let currentDate = new Date();\n      currentDate.setHours(0, 0, 0, 0);\n      return appointmentDate.getTime() === currentDate.getTime();\n    };\n\n    this.canInteractWithAppointment = startDateTime => {\n      let currentDateTime = new Date();\n      startDateTime = new Date(startDateTime);\n      if (currentDateTime.getTime() + TIME_INTERVAL < startDateTime.getTime()) return false;else if (currentDateTime.getTime() > startDateTime.getTime()) return false;else return true;\n    };\n\n    this.handleModalSuccessClose = () => {\n      this.setState({\n        openModalSuccess: false\n      });\n    };\n\n    this.handleSortByDate = () => {\n      console.log(this.state.appointments);\n      this.state.appointments.sort(this.compareDates);\n      this.setState(this.state);\n      console.log(this.state.appointments);\n    };\n\n    this.compareDates = (a, b) => {\n      if (a.EntityDTO.startDateTime < b.EntityDTO.startDateTime) {\n        return 1;\n      }\n\n      if (a.EntityDTO.startDateTime > b.EntityDTO.startDateTime) {\n        return -1;\n      }\n\n      return 0;\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    this.setState({\n      id: id\n    });\n    Axios.get(API_URL + \"/users/patient/\" + id, {\n      validateStatus: () => true,\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      console.log(res.data);\n\n      if (res.status === 401) {\n        this.setState({\n          redirect: true,\n          redirectUrl: \"/unauthorized\"\n        });\n      } else if (res.status == 200) {\n        this.setState({\n          id: res.data.id,\n          email: res.data.EntityDTO.email,\n          name: res.data.EntityDTO.name,\n          surname: res.data.EntityDTO.surname,\n          address: res.data.EntityDTO.address,\n          phoneNumber: res.data.EntityDTO.phoneNumber\n        });\n      }\n\n      console.log(this.state);\n    }).catch(err => {\n      console.log(err);\n    });\n    this.fetchAppointments();\n  }\n\n  render() {\n    if (this.state.redirect) return /*#__PURE__*/_jsxDEV(Redirect, {\n      push: true,\n      to: this.state.redirectUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 35\n    }, this);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          marginTop: \"8%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \" text-center  mb-0 text-uppercase\",\n          style: {\n            marginTop: \"2rem\"\n          },\n          children: \"Patient information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row section-design\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-8 mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              id: \"contactForm\",\n              name: \"sentMessage\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group controls mb-0 pb-2\",\n                  style: {\n                    color: \"#6c757d\",\n                    opacity: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Name: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 12\n                    }, this), \" \", this.state.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group controls mb-0 pb-2\",\n                  style: {\n                    color: \"#6c757d\",\n                    opacity: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Surname: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 12\n                    }, this), \" \", this.state.surname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group controls mb-0 pb-2\",\n                  style: {\n                    color: \"#6c757d\",\n                    opacity: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Email address: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 12\n                    }, this), \" \", this.state.email]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group controls mb-0 pb-2\",\n                  style: {\n                    color: \"#6c757d\",\n                    opacity: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Phone number: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 12\n                    }, this), \" \", this.state.phoneNumber]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group controls mb-0 pb-2\",\n                  style: {\n                    color: \"#6c757d\",\n                    opacity: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Address: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 12\n                    }, this), \" \", this.state.address]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                style: {\n                  width: \"80%\"\n                },\n                onClick: () => this.handleSchedule(),\n                className: \"btn btn-primary\",\n                children: \"Schedule appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                hidden: !this.hasRole(\"ROLE_DERMATHOLOGIST\"),\n                type: \"button\",\n                style: {\n                  width: \"80%\"\n                },\n                onClick: () => this.handleCreateAndSchedule(),\n                className: \"btn btn-primary\",\n                children: \"Create and schedule appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-group mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group controls mb-0 pb-2\",\n              style: {\n                color: \"#6c757d\",\n                opacity: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  hidden: this.state.patientsHistory,\n                  children: \"You can't observe patient's appointment history because you did not have one already\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            style: {\n              width: \"70%\",\n              marginTop: \"3rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.appointments.map(appointment => /*#__PURE__*/_jsxDEV(\"tr\", {\n                id: appointment.Id,\n                className: \"rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  width: \"190em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Date: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 13\n                    }, this), \" \", new Date(appointment.EntityDTO.startDateTime).toLocaleDateString(\"en-US\", {\n                      day: \"2-digit\",\n                      month: \"2-digit\",\n                      year: \"numeric\"\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Time from: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 13\n                    }, this), \" \", new Date(appointment.EntityDTO.startDateTime).toLocaleTimeString(\"en-US\", {\n                      hour: \"2-digit\",\n                      minute: \"2-digit\"\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Time to: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 13\n                    }, this), \" \", new Date(appointment.EntityDTO.endDateTime).toLocaleTimeString(\"en-US\", {\n                      hour: \"2-digit\",\n                      minute: \"2-digit\"\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    hidden: appointment.EntityDTO.appointmentStatus != \"FINISHED\",\n                    children: appointment.EntityDTO.appointmentStatus == \"FINISHED\" && appointment.EntityDTO.treatmentReportDTO != undefined && appointment.EntityDTO.treatmentReportDTO != null ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        whiteSpace: \"pre\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Anamensis\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 340,\n                          columnNumber: 16\n                        }, this), \" \", appointment.EntityDTO.treatmentReportDTO.anamnesis]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Diagnosis\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 344,\n                          columnNumber: 16\n                        }, this), \" \", appointment.EntityDTO.treatmentReportDTO.diagnosis]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 343,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Therapy\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 348,\n                          columnNumber: 16\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 348,\n                          columnNumber: 30\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: appointment.EntityDTO.treatmentReportDTO.therapy\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 349,\n                          columnNumber: 16\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 347,\n                        columnNumber: 15\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 14\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 15\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"align-right\",\n                  style: {\n                    width: \"35%\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    hidden: !this.canInteractWithAppointment(appointment.EntityDTO.startDateTime),\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      style: {\n                        width: \"60%\",\n                        float: \"right\"\n                      },\n                      hidden: appointment.EntityDTO.appointmentStatus != \"SCHEDULED\",\n                      onClick: () => this.handleExamine(appointment.Id),\n                      className: \"btn btn-primary\",\n                      children: \"Start examination\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      style: {\n                        width: \"60%\",\n                        float: \"right\",\n                        verticalAlign: \"bottom\"\n                      },\n                      hidden: appointment.EntityDTO.appointmentStatus != \"SCHEDULED\",\n                      onClick: () => this.handleDidNotShowUp(appointment.Id),\n                      className: \"btn btn-danger\",\n                      children: \"Did not show up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 11\n                }, this)]\n              }, appointment.Id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 10\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ModalDialog, {\n        show: this.state.openModalSuccess,\n        onCloseModal: this.handleModalSuccessClose,\n        header: \"Successfully added penalty to patient\",\n        text: \"You can start examination for another patient.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(PatientProfile);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/PC/Desktop/faks/4.god 1.semestar/ISA/ISA Projekat/ISA-projekat/ISA-front/src/Pages/Appointment/PatientProfile.js"],"names":["React","Component","Header","Axios","GetAuthorisation","withRouter","Redirect","ModalDialog","PatientIcon","API_URL","TIME_INTERVAL","PatientProfile","state","id","email","password","name","surname","address","phoneNumber","appointments","redirect","redirectUrl","openModalSuccess","patientsHistory","hasRole","reqRole","roles","JSON","parse","localStorage","getItem","role","fetchAppointments","props","match","params","get","validateStatus","headers","Authorization","then","res","status","setState","data","handleSortByDate","console","log","catch","err","handleExamine","appointmentId","handleDidNotShowUp","put","handleSchedule","handleCreateAndSchedule","isCurrentDate","appointmentDate","Date","setHours","currentDate","getTime","canInteractWithAppointment","startDateTime","currentDateTime","handleModalSuccessClose","sort","compareDates","a","b","EntityDTO","componentDidMount","render","marginTop","color","opacity","width","map","appointment","Id","toLocaleDateString","day","month","year","toLocaleTimeString","hour","minute","endDateTime","appointmentStatus","treatmentReportDTO","undefined","whiteSpace","anamnesis","diagnosis","therapy","float","verticalAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../../Components/Header\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from '../../Funciton/GetAuthorisation';\r\nimport { withRouter } from \"react-router\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ModalDialog from \"../../Components/ModalDialog\";\r\nimport PatientIcon from '../../Images/patient-icon.jpg'\r\nconst API_URL=\"http://localhost:8080\";\r\nconst TIME_INTERVAL= 24 * 60 * 60 * 1000;\r\n\r\n\r\n\r\nclass PatientProfile extends Component {\r\n\tstate = {\r\n\t\tid: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tname: \"\",\r\n\t\tsurname: \"\",\r\n\t\taddress: \"\",\r\n\t\tphoneNumber: \"\",\r\n\t\tappointments: [],\r\n\t\tredirect: false,\r\n\t\tredirectUrl: '',\r\n\t\topenModalSuccess: false,\r\n\t\tpatientsHistory: false,\r\n\t};\r\n\r\n\thasRole = (reqRole) => {\r\n\t\tlet roles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n\t\tif (roles === null) return false;\r\n\r\n\t\tif (reqRole === \"*\") return true;\r\n\r\n\t\tfor (let role of roles) {\r\n\t\t\tif (role === reqRole) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tfetchAppointments = () => {\r\n\t\tconst id = this.props.match.params.id;\r\n\t\tAxios.get(API_URL + \"/appointment/patient/\" + id, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tredirect: true,\r\n\t\t\t\t\t\tredirectUrl: \"/unauthorized\"\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status == 200 || res.status == 201) {\r\n\t\t\t\t\tlet patientsHistory = false;\r\n\t\t\t\t\tif (res.status == 201)\r\n\t\t\t\t\t\tpatientsHistory = true;\r\n\t\t\t\t\tthis.setState({ appointments: res.data, patientsHistory: patientsHistory }, () => this.handleSortByDate());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst id = this.props.match.params.id;\r\n\t\tthis.setState({\r\n\t\t\tid: id\r\n\t\t});\r\n\r\n\t\tAxios.get(API_URL + \"/users/patient/\" + id, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tredirect: true,\r\n\t\t\t\t\t\tredirectUrl: \"/unauthorized\"\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (res.status == 200) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tid: res.data.id,\r\n\t\t\t\t\t\temail: res.data.EntityDTO.email,\r\n\t\t\t\t\t\tname: res.data.EntityDTO.name,\r\n\t\t\t\t\t\tsurname: res.data.EntityDTO.surname,\r\n\t\t\t\t\t\taddress: res.data.EntityDTO.address,\r\n\t\t\t\t\t\tphoneNumber: res.data.EntityDTO.phoneNumber\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(this.state)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tthis.fetchAppointments();\r\n\t}\r\n\r\n\thandleExamine = (appointmentId) => {\r\n\t\tthis.setState({\r\n\t\t\tredirect: true,\r\n\t\t\tredirectUrl: \"/appointment-report/\" + appointmentId\r\n\t\t});\r\n\t};\r\n\r\n\thandleDidNotShowUp = (appointmentId) => {\r\n\t\tconsole.log(appointmentId)\r\n\t\tAxios.put(API_URL + \"/appointment/did-not-show-up\",\r\n\t\t\t{ id: appointmentId },\r\n\t\t\t{ headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ openModalSuccess: true });\r\n\t\t\t\tthis.fetchAppointments();\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleSchedule = () => {\r\n\t\tif (this.hasRole(\"ROLE_DERMATHOLOGIST\")) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tredirect: true,\r\n\t\t\t\tredirectUrl: \"/schedule-appointment/\" + this.state.id\r\n\t\t\t});\r\n\t\t} else if (this.hasRole(\"ROLE_PHARMACIST\")) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tredirect: true,\r\n\t\t\t\tredirectUrl: \"/new-appointment/\" + this.state.id\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleCreateAndSchedule = () => {\r\n\t\tthis.setState({\r\n\t\t\tredirect: true,\r\n\t\t\tredirectUrl: \"/create-and-schedule-appointment/\" + this.state.id\r\n\t\t});\r\n\t};\r\n\r\n\tisCurrentDate = (appointmentDate) => {\r\n\t\tappointmentDate = new Date(appointmentDate);\r\n\t\tappointmentDate.setHours(0, 0, 0, 0);\r\n\t\tlet currentDate = new Date();\r\n\t\tcurrentDate.setHours(0, 0, 0, 0);\r\n\t\treturn appointmentDate.getTime() === currentDate.getTime();\r\n\t};\r\n\r\n\tcanInteractWithAppointment = (startDateTime) => {\r\n\t\tlet currentDateTime = new Date();\r\n\t\tstartDateTime = new Date(startDateTime);\r\n\t\tif (currentDateTime.getTime() + TIME_INTERVAL < startDateTime.getTime())\r\n\t\t\treturn false;\r\n\t\telse if (currentDateTime.getTime() > startDateTime.getTime())\r\n\t\t\treturn false;\r\n\t\telse\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\thandleModalSuccessClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenModalSuccess: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleSortByDate = () => {\r\n\t\tconsole.log(this.state.appointments);\r\n\t\tthis.state.appointments.sort(this.compareDates);\r\n\t\tthis.setState(this.state);\r\n\t\tconsole.log(this.state.appointments);\r\n\t};\r\n\r\n\tcompareDates = (a, b) => {\r\n\t\tif (a.EntityDTO.startDateTime < b.EntityDTO.startDateTime) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (a.EntityDTO.startDateTime > b.EntityDTO.startDateTime) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tif (this.state.redirect) return <Redirect push to={this.state.redirectUrl} />;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className=\"container\" style={{ marginTop: \"8%\" }}>\r\n\t\t\t\t\t<h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tPatient information\r\n\t\t\t\t\t</h5>\r\n\r\n\t\t\t\t\t<div className=\"row section-design\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8 mx-auto\">\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<form id=\"contactForm\" name=\"sentMessage\">\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"#6c757d\", opacity: 1 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Name: </b> {this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"#6c757d\", opacity: 1 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Surname: </b> {this.state.surname}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"#6c757d\", opacity: 1 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Email address: </b> {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"#6c757d\", opacity: 1 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Phone number: </b> {this.state.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"#6c757d\", opacity: 1 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Address: </b> {this.state.address}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"80%\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.handleSchedule()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSchedule appointment\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\thidden={!this.hasRole(\"ROLE_DERMATHOLOGIST\")}\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"80%\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.handleCreateAndSchedule()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCreate and schedule appointment\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"control-group mt-4\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"form-group controls mb-0 pb-2\"\r\n\t\t\t\t\t\t\t\tstyle={{ color: \"#6c757d\", opacity: 1 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h3 hidden={this.state.patientsHistory}>You can't observe patient's appointment history because you did not have one already</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<br />\r\n\r\n\r\n\t\t\t\t\t\t<table className=\"table\" style={{ width: \"70%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\t\tid={appointment.Id}\r\n\t\t\t\t\t\t\t\t\t\tkey={appointment.Id}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"190em\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Date: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.startDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Time from: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.startDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Time to: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.endDateTime\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleTimeString(\"en-US\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div hidden={appointment.EntityDTO.appointmentStatus != \"FINISHED\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.appointmentStatus == \"FINISHED\" && appointment.EntityDTO.treatmentReportDTO != undefined && appointment.EntityDTO.treatmentReportDTO != null ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{whiteSpace: \"pre\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Anamensis</b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.treatmentReportDTO.anamnesis}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Diagnosis</b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.treatmentReportDTO.diagnosis}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Therapy</b><br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{appointment.EntityDTO.treatmentReportDTO.therapy}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"align-right\" style={{ width: \"35%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div hidden={!this.canInteractWithAppointment(appointment.EntityDTO.startDateTime)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"60%\", float: \"right\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.appointmentStatus != \"SCHEDULED\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleExamine(appointment.Id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStart examination\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"60%\", float: \"right\", verticalAlign: \"bottom\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.EntityDTO.appointmentStatus != \"SCHEDULED\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleDidNotShowUp(appointment.Id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tDid not show up\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ModalDialog\r\n\t\t\t\t\tshow={this.state.openModalSuccess}\r\n\t\t\t\t\tonCloseModal={this.handleModalSuccessClose}\r\n\t\t\t\t\theader=\"Successfully added penalty to patient\"\r\n\t\t\t\t\ttext=\"You can start examination for another patient.\"\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(PatientProfile);\r\n\r\n"]},"metadata":{},"sourceType":"module"}