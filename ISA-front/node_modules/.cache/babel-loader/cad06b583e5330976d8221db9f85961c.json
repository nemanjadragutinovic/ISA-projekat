{"ast":null,"code":"/*\r\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\r\n *\r\n *  Use of this source code is governed by a BSD-style license\r\n *  that can be found in the LICENSE file in the root of the source\r\n *  tree.\r\n */\n\n/* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    if (!(constraints && constraints.video)) {\n      const err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n      err.name = 'NotFoundError'; // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n\n      err.code = 8;\n      return Promise.reject(err);\n    }\n\n    if (constraints.video === true) {\n      constraints.video = {\n        mediaSource: preferredMediaSource\n      };\n    } else {\n      constraints.video.mediaSource = preferredMediaSource;\n    }\n\n    return window.navigator.mediaDevices.getUserMedia(constraints);\n  };\n}","map":{"version":3,"sources":["C:/Users/stefan/Desktop/ISA-projekat/ISA-projekat/ISA-front/node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js"],"names":["shimGetDisplayMedia","window","preferredMediaSource","navigator","mediaDevices","getDisplayMedia","constraints","video","err","DOMException","name","code","Promise","reject","mediaSource","getUserMedia"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AAEA,OAAO,SAASA,mBAAT,CAA6BC,MAA7B,EAAqCC,oBAArC,EAA2D;AAChE,MAAID,MAAM,CAACE,SAAP,CAAiBC,YAAjB,IACF,qBAAqBH,MAAM,CAACE,SAAP,CAAiBC,YADxC,EACsD;AACpD;AACD;;AACD,MAAI,CAAEH,MAAM,CAACE,SAAP,CAAiBC,YAAvB,EAAsC;AACpC;AACD;;AACDH,EAAAA,MAAM,CAACE,SAAP,CAAiBC,YAAjB,CAA8BC,eAA9B,GACE,SAASA,eAAT,CAAyBC,WAAzB,EAAsC;AACpC,QAAI,EAAEA,WAAW,IAAIA,WAAW,CAACC,KAA7B,CAAJ,EAAyC;AACvC,YAAMC,GAAG,GAAG,IAAIC,YAAJ,CAAiB,mCACzB,0BADQ,CAAZ;AAEAD,MAAAA,GAAG,CAACE,IAAJ,GAAW,eAAX,CAHuC,CAIvC;;AACAF,MAAAA,GAAG,CAACG,IAAJ,GAAW,CAAX;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeL,GAAf,CAAP;AACD;;AACD,QAAIF,WAAW,CAACC,KAAZ,KAAsB,IAA1B,EAAgC;AAC9BD,MAAAA,WAAW,CAACC,KAAZ,GAAoB;AAACO,QAAAA,WAAW,EAAEZ;AAAd,OAApB;AACD,KAFD,MAEO;AACLI,MAAAA,WAAW,CAACC,KAAZ,CAAkBO,WAAlB,GAAgCZ,oBAAhC;AACD;;AACD,WAAOD,MAAM,CAACE,SAAP,CAAiBC,YAAjB,CAA8BW,YAA9B,CAA2CT,WAA3C,CAAP;AACD,GAhBH;AAiBD","sourcesContent":["/*\r\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\r\n *\r\n *  Use of this source code is governed by a BSD-style license\r\n *  that can be found in the LICENSE file in the root of the source\r\n *  tree.\r\n */\r\n/* eslint-env node */\r\n'use strict';\r\n\r\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\r\n  if (window.navigator.mediaDevices &&\r\n    'getDisplayMedia' in window.navigator.mediaDevices) {\r\n    return;\r\n  }\r\n  if (!(window.navigator.mediaDevices)) {\r\n    return;\r\n  }\r\n  window.navigator.mediaDevices.getDisplayMedia =\r\n    function getDisplayMedia(constraints) {\r\n      if (!(constraints && constraints.video)) {\r\n        const err = new DOMException('getDisplayMedia without video ' +\r\n            'constraints is undefined');\r\n        err.name = 'NotFoundError';\r\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\r\n        err.code = 8;\r\n        return Promise.reject(err);\r\n      }\r\n      if (constraints.video === true) {\r\n        constraints.video = {mediaSource: preferredMediaSource};\r\n      } else {\r\n        constraints.video.mediaSource = preferredMediaSource;\r\n      }\r\n      return window.navigator.mediaDevices.getUserMedia(constraints);\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}