{"ast":null,"code":"var _jsxFileName = \"E:\\\\aca\\\\isa\\\\nasa-isa\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\Pharmacies\\\\DermatologistsForPhAdmin.js\";\nimport React, { Component } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport Header from '../Header';\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport { CardList } from \"../card-components/card-list.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass DermatologistsForPhAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dermatologists: [],\n      staffIdForWorkTimes: '',\n      showWorkTimesModal: false,\n      showCreateAppointmentModal: false,\n      showAddDermatologistModal: false,\n      workTimes: [],\n      forStaff: '',\n      formShowed: false,\n      searchName: '',\n      searchSurname: '',\n      searchGradeFrom: '',\n      searchGradeTo: '',\n      showingSearched: false,\n      pharmaciesForDermatologist: [],\n      showPharmaciesModal: false,\n      dermatologistToEmploye: [],\n      showingSorted: false,\n      hiddenSuccessAlert: true,\n      successHeader: \"\",\n      successMessage: \"\",\n      hiddenFailAlert: true,\n      failHeader: \"\",\n      failMessage: \"\"\n    };\n\n    this.handleCloseAlertSuccess = () => {\n      this.setState({\n        hiddenSuccessAlert: true\n      });\n    };\n\n    this.handleCloseAlertFail = () => {\n      this.setState({\n        hiddenFailAlert: true\n      });\n    };\n\n    this.handleCreateAppoitmentClose = () => {\n      this.setState({\n        showCreateAppointmentModal: false\n      });\n    };\n\n    this.handleAddDermatologistModalClose = () => {\n      Axios.get(API_URL + \"/api/users/dermatologist-for-pharmacy\" + this.state.pharmacyId, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        showAddDermatologistModal: false\n      });\n    };\n\n    this.handleAddAppointmentClick = () => {\n      this.setState({\n        showCreateAppointmentModal: true\n      });\n    };\n\n    this.updateDermatologistList = () => {\n      Axios.get(API_URL + \"/api/users/dermatologist-for-pharmacy/\" + this.state.pharmacyId, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleAddDermatologistClick = () => {\n      Axios.get(API_URL + \"/api/users/dermatologist-for-emplooye-in-pharmacy/\" + this.state.pharmacyId, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologistToEmploye: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        showAddDermatologistModal: true\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        showWorkTimesModal: false\n      });\n    };\n\n    this.handleUpdateWorkTime = () => {\n      Axios.get(API_URL + \"/api/worktime/worktime-for-staff/\" + this.state.forStaff, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          workTimes: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handlePharmaciesModalClose = () => {\n      this.setState({\n        showPharmaciesModal: false\n      });\n    };\n\n    this.onWorkTimeClick = id => {\n      Axios.get(API_URL + \"/api/worktime/worktime-for-staff/\" + id, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          workTimes: res.data,\n          forStaff: id\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        showWorkTimesModal: true\n      });\n    };\n\n    this.showPharmacies = id => {\n      Axios.get(API_URL + \"/api/users/pharmacies-where-dermatologist-work\", {\n        params: {\n          dermatologistId: id\n        },\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          pharmaciesForDermatologist: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        showPharmaciesModal: true\n      });\n    };\n\n    this.addedDermatologistMessage = () => {\n      this.setState({\n        hiddenSuccessAlert: false,\n        hiddenFailAlert: true,\n        successHeader: \"Success\",\n        successMessage: \"You successfully add dermatologist.\"\n      });\n    };\n\n    this.hangleFormToogle = () => {\n      this.setState({\n        formShowed: !this.state.formShowed\n      });\n    };\n\n    this.handleNameChange = event => {\n      this.setState({\n        searchName: event.target.value\n      });\n    };\n\n    this.handleSurnameChange = event => {\n      this.setState({\n        searchSurname: event.target.value\n      });\n    };\n\n    this.handleGradeFromChange = event => {\n      this.setState({\n        searchGradeFrom: event.target.value\n      });\n    };\n\n    this.handleGradeToChange = event => {\n      this.setState({\n        searchGradeTo: event.target.value\n      });\n    };\n\n    this.handleSortByGradeAscending = () => {};\n\n    this.handleSortByGradeDescending = () => {};\n\n    this.handleSearchClick = () => {\n      if (this.state.showingSorted === true) {\n        this.setState({\n          showingSearched: true\n        }, () => {\n          if (this.state.sortIndicator === 1) this.handleSortByGradeAscending();else if (this.state.sortIndicator === 2) this.handleSortByGradeDescending();\n        });\n      } else {\n        if (!(this.state.searchGradeFrom === \"\" && this.state.searchGradeTo === \"\" && this.state.searchName === \"\" && this.state.searchSurname === \"\")) {\n          let gradeFrom = this.state.searchGradeFrom;\n          let gradeTo = this.state.searchGradeTo;\n          let name = this.state.searchName;\n          let surname = this.state.searchSurname;\n          if (gradeFrom === \"\") gradeFrom = -1;\n          if (gradeTo === \"\") gradeTo = -1;\n          if (name === \"\") name = '';\n          if (surname === \"\") surname = '';\n          const SEARCH_URL = API_URL + \"/api/users/search-dermatologist-for-pharmacy?name=\" + name + \"&surname=\" + surname + \"&gradeFrom=\" + gradeFrom + \"&gradeTo=\" + gradeTo + \"&pharmacyId=\" + this.state.pharmacyId;\n          Axios.get(SEARCH_URL, {\n            headers: {\n              Authorization: GetAuthorisation()\n            }\n          }).then(res => {\n            this.setState({\n              dermatologists: res.data,\n              formShowed: false,\n              showingSearched: true\n            });\n            console.log(res.data);\n          }).catch(err => {\n            console.log(err);\n          });\n        }\n      }\n    };\n\n    this.handleResetSearch = () => {\n      Axios.get(API_URL + \"/api/users/dermatologist-for-pharmacy/\" + this.state.pharmacyId, {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          dermatologists: res.data,\n          formShowed: false,\n          showingSearched: false,\n          searchName: \"\",\n          searchSurname: \"\",\n          searchGradeFrom: \"\",\n          searchGradeTo: \"\"\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    let pharmacyId = localStorage.getItem(\"keyPharmacyId\");\n    this.setState({\n      pharmacyId: pharmacyId\n    });\n    Axios.get(API_URL + \"/users/dermatologistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      this.setState({\n        dermatologists: res.data\n      });\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const myStyle = {\n      color: \"white\",\n      textAlign: \"center\"\n    };\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          marginTop: \"5%\",\n          marginBottom: \"5%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary btn-xl\",\n          type: \"button\",\n          onClick: this.hangleFormToogle,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icofont-rounded-down mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }, this), \"Search dermatologists\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: this.state.formShowed ? \"form-inline mt-3\" : \"form-inline mt-3 collapse\",\n          width: \"100%\",\n          id: \"formCollapse\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            width: \"100%\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Name\",\n              className: \"form-control mr-3\",\n              style: {\n                width: \"9em\"\n              },\n              type: \"text\",\n              onChange: this.handleNameChange,\n              value: this.state.searchName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"LastName\",\n              className: \"form-control mr-3\",\n              style: {\n                width: \"9em\"\n              },\n              type: \"text\",\n              onChange: this.handleSurnameChange,\n              value: this.state.searchSurname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Grade from\",\n              className: \"form-control mr-3\",\n              style: {\n                width: \"9em\"\n              },\n              type: \"number\",\n              min: \"1\",\n              max: \"5\",\n              onChange: this.handleGradeFromChange,\n              value: this.state.searchGradeFrom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Grade to\",\n              className: \"form-control\",\n              style: {\n                width: \"9em\"\n              },\n              type: \"number\",\n              min: \"1\",\n              max: \"5\",\n              onChange: this.handleGradeToChange,\n              value: this.state.searchGradeTo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '1%'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              style: ({\n                background: \"#1977cc\"\n              }, {\n                marginLeft: '15%'\n              }, {\n                marginBottom: '8%'\n              }),\n              onClick: this.handleSearchClick,\n              className: \"btn btn-primary btn-x2\",\n              type: \"button\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"icofont-search mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 37\n              }, this), \"Search\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginLeft: \"5%\"\n          },\n          onClick: () => this.handleAddWorkTimeModal(),\n          children: \"Add dermatologist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.showingSearched ? \"form-group mt-2\" : \"form-group mt-2 collapse\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-secondary\",\n            onClick: this.handleResetSearch,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"icofont-close-line mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 8\n            }, this), \"Reset criteria\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(CardList, {\n          dermatologists: this.state.dermatologists,\n          pharmacyId: this.state.pharmacyId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default DermatologistsForPhAdmin;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/src/Components/Pharmacies/DermatologistsForPhAdmin.js"],"names":["React","Component","Button","Modal","Header","Axios","GetAuthorisation","CardList","API_URL","DermatologistsForPhAdmin","state","dermatologists","staffIdForWorkTimes","showWorkTimesModal","showCreateAppointmentModal","showAddDermatologistModal","workTimes","forStaff","formShowed","searchName","searchSurname","searchGradeFrom","searchGradeTo","showingSearched","pharmaciesForDermatologist","showPharmaciesModal","dermatologistToEmploye","showingSorted","hiddenSuccessAlert","successHeader","successMessage","hiddenFailAlert","failHeader","failMessage","handleCloseAlertSuccess","setState","handleCloseAlertFail","handleCreateAppoitmentClose","handleAddDermatologistModalClose","get","pharmacyId","headers","Authorization","then","res","data","console","log","catch","err","handleAddAppointmentClick","updateDermatologistList","handleAddDermatologistClick","handleModalClose","handleUpdateWorkTime","handlePharmaciesModalClose","onWorkTimeClick","id","showPharmacies","params","dermatologistId","addedDermatologistMessage","hangleFormToogle","handleNameChange","event","target","value","handleSurnameChange","handleGradeFromChange","handleGradeToChange","handleSortByGradeAscending","handleSortByGradeDescending","handleSearchClick","sortIndicator","gradeFrom","gradeTo","name","surname","SEARCH_URL","handleResetSearch","componentDidMount","localStorage","getItem","render","myStyle","color","textAlign","marginTop","marginBottom","width","marginLeft","background","handleAddWorkTimeModal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport Header from '../Header';\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport { CardList } from \"../card-components/card-list.component\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\n\r\nclass DermatologistsForPhAdmin extends Component {\r\n\tstate = {\r\n        dermatologists: [],\r\n        staffIdForWorkTimes:'',\r\n        showWorkTimesModal: false,\r\n        showCreateAppointmentModal: false,\r\n        showAddDermatologistModal: false,\r\n        workTimes:[],\r\n        forStaff:'',\r\n        formShowed:false,\r\n        searchName:'',\r\n        searchSurname:'',\r\n        searchGradeFrom:'',\r\n        searchGradeTo:'',\r\n        showingSearched: false,\r\n        pharmaciesForDermatologist:[],\r\n        showPharmaciesModal:false,\r\n        dermatologistToEmploye:[],\r\n        showingSorted:false,\r\n        hiddenSuccessAlert: true,\r\n\t\tsuccessHeader: \"\",\r\n\t\tsuccessMessage: \"\",\r\n\t\thiddenFailAlert: true,\r\n\t\tfailHeader: \"\",\r\n\t\tfailMessage: \"\",\r\n    };\r\n\r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n    };\r\n    \r\n    handleCloseAlertFail = () => {\r\n\t\tthis.setState({ hiddenFailAlert: true });\r\n\t};\r\n\r\n     \r\n    componentDidMount() {\r\n\r\n        let pharmacyId=localStorage.getItem(\"keyPharmacyId\")\r\n\t\tthis.setState({\r\n\t\t\tpharmacyId: pharmacyId\r\n\t\t})\r\n\r\n\t\tAxios.get(API_URL + \"/users/dermatologistsInPharmacy/\" +localStorage.getItem(\"keyPharmacyId\"), {\r\n\t\t\theaders: { Authorization:  GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n    }\r\n\r\n    handleCreateAppoitmentClose = () => {\r\n\t\tthis.setState({ showCreateAppointmentModal: false });\r\n    };\r\n\r\n    handleAddDermatologistModalClose = () => {\r\n        Axios.get(API_URL + \"/api/users/dermatologist-for-pharmacy\"  + this.state.pharmacyId, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        this.setState({ showAddDermatologistModal: false });\r\n    }\r\n    \r\n    handleAddAppointmentClick = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowCreateAppointmentModal: true,\r\n\t\t});\r\n    };\r\n\r\n\r\n    updateDermatologistList = () =>{\r\n        Axios.get(API_URL + \"/api/users/dermatologist-for-pharmacy/\" + this.state.pharmacyId, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ dermatologists: res.data });\r\n                console.log(res.data);\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n    }\r\n    \r\n    handleAddDermatologistClick = () => {\r\n        Axios.get(API_URL + \"/api/users/dermatologist-for-emplooye-in-pharmacy/\"+ this.state.pharmacyId, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t}).then((res) => {\r\n                this.setState({ dermatologistToEmploye: res.data });\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t});\r\n        this.setState({\r\n\t\t\tshowAddDermatologistModal: true,\r\n\t\t});\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({showWorkTimesModal: false});\r\n    }\r\n\r\n    handleUpdateWorkTime= ()=>{\r\n        Axios.get(API_URL + \"/api/worktime/worktime-for-staff/\" + this.state.forStaff, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n        .then((res) => {\r\n            this.setState({ workTimes: res.data});\r\n            console.log(res.data);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    handlePharmaciesModalClose = () =>{\r\n        this.setState({showPharmaciesModal: false});\r\n    }\r\n\r\n    onWorkTimeClick = (id) =>{\r\n        \r\n\t\tAxios.get(API_URL + \"/api/worktime/worktime-for-staff/\" + id, {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n        .then((res) => {\r\n            this.setState({ workTimes: res.data , forStaff:id});\r\n            console.log(res.data);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n        this.setState({\r\n            showWorkTimesModal: true\r\n        });\r\n    }\r\n\r\n    showPharmacies = (id) => {\r\n        Axios.get(API_URL + \"/api/users/pharmacies-where-dermatologist-work\",{\r\n            params:{\r\n                dermatologistId:id\r\n            },\r\n            headers: { Authorization: GetAuthorisation() }\r\n            \r\n        })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ pharmaciesForDermatologist: res.data });\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        this.setState({\r\n            showPharmaciesModal: true\r\n        });\r\n    }\r\n\r\n    addedDermatologistMessage = () =>{\r\n        this.setState({\r\n            hiddenSuccessAlert: false,\r\n            hiddenFailAlert:true,\r\n            successHeader: \"Success\",\r\n            successMessage: \"You successfully add dermatologist.\",\r\n        })\r\n    }\r\n\r\n    hangleFormToogle = () => {\r\n\t\tthis.setState({ formShowed: !this.state.formShowed });\r\n    };\r\n    \r\n    handleNameChange = (event) => {\r\n\t\tthis.setState({ searchName: event.target.value });\r\n    };\r\n    \r\n    handleSurnameChange = (event) => {\r\n\t\tthis.setState({ searchSurname: event.target.value });\r\n    };\r\n    \r\n    handleGradeFromChange = (event) => {\r\n\t\tthis.setState({ searchGradeFrom: event.target.value });\r\n\t};\r\n\r\n\thandleGradeToChange = (event) => {\r\n\t\tthis.setState({ searchGradeTo: event.target.value });\r\n    };\r\n\r\n    handleSortByGradeAscending = () =>{\r\n\r\n    }\r\n\r\n    handleSortByGradeDescending = () =>{\r\n\r\n    }\r\n    \r\n    handleSearchClick = () =>{\r\n\r\n\t\tif (this.state.showingSorted === true) {\r\n\t\t\tthis.setState({ showingSearched: true }, () => {\r\n\t\t\t\tif (this.state.sortIndicator === 1) this.handleSortByGradeAscending();\r\n\t\t\t\telse if (this.state.sortIndicator === 2) this.handleSortByGradeDescending();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\t!(\r\n\t\t\t\t\tthis.state.searchGradeFrom === \"\" &&\r\n\t\t\t\t\tthis.state.searchGradeTo === \"\" &&\r\n\t\t\t\t\tthis.state.searchName === \"\" &&\r\n\t\t\t\t\tthis.state.searchSurname === \"\"\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tlet gradeFrom = this.state.searchGradeFrom;\r\n\t\t\t\tlet gradeTo = this.state.searchGradeTo;\r\n\t\t\t\tlet name = this.state.searchName;\r\n\t\t\t\tlet surname = this.state.searchSurname;\r\n\r\n\t\t\t\tif (gradeFrom === \"\") gradeFrom = -1;\r\n\t\t\t\tif (gradeTo === \"\") gradeTo = -1;\r\n\t\t\t\tif (name === \"\") name = '';\r\n\t\t\t\tif (surname === \"\") surname = '';\r\n\r\n\t\t\t\tconst SEARCH_URL =\r\n                API_URL +\r\n\t\t\t\t\t\"/api/users/search-dermatologist-for-pharmacy?name=\" +\r\n                    name +\r\n                    \"&surname=\" +\r\n\t\t\t\t\tsurname +\r\n\t\t\t\t\t\"&gradeFrom=\" +\r\n\t\t\t\t\tgradeFrom +\r\n\t\t\t\t\t\"&gradeTo=\" +\r\n\t\t\t\t\tgradeTo +\r\n\t\t\t\t\t\"&pharmacyId=\" +\r\n\t\t\t\t\tthis.state.pharmacyId;\r\n\r\n\t\t\t\tAxios.get(SEARCH_URL, {\r\n                    headers: { Authorization: GetAuthorisation() },\r\n                })\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tdermatologists: res.data,\r\n\t\t\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\t\t\tshowingSearched: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n        }   \r\n     }\r\n\r\n     handleResetSearch = () => {\r\n\r\n        Axios.get(API_URL + \"/api/users/dermatologist-for-pharmacy/\" + this.state.pharmacyId , {\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ \r\n                    dermatologists: res.data ,\r\n                    formShowed: false,\r\n\t\t\t\t\tshowingSearched: false,\r\n\t\t\t\t\tsearchName: \"\",\r\n                    searchSurname: \"\",\r\n                    searchGradeFrom: \"\",\r\n\t\t\t\t\tsearchGradeTo: \"\",\r\n\r\n                });\r\n                console.log(res.data);\r\n            \r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n            });\r\n            \r\n\t\r\n    };\r\n    \r\n    render() {\r\n        const myStyle = {\r\n\t\t\tcolor: \"white\",\r\n\t\t\ttextAlign: \"center\",\r\n\t\t};\r\n\t\treturn (\r\n        <React.Fragment>\r\n            \r\n\r\n                   \r\n                    <Header />\r\n\r\n                \r\n\r\n                    \r\n                    <div className=\"container\" style={{ marginTop: \"5%\" , marginBottom:\"5%\"}} >\r\n                     {/*   <HeadingSuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                        <HeadingAlert\r\n                                hidden={this.state.hiddenFailAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseAlertFail}\r\n                        />\r\n                     */}\r\n                       \r\n\r\n                        <button\r\n                            className=\"btn btn-outline-primary btn-xl\"\r\n                            type=\"button\"\r\n                            onClick={this.hangleFormToogle}\r\n                        >\r\n                            <i className=\"icofont-rounded-down mr-1\"></i>\r\n                            Search dermatologists\r\n                        </button>\r\n                        <form\r\n                            className={\r\n                                this.state.formShowed ? \"form-inline mt-3\" : \"form-inline mt-3 collapse\"\r\n                            }\r\n                            width=\"100%\"\r\n                            id=\"formCollapse\"\r\n                            >\r\n                            <div className=\"form-group mb-2\" width=\"100%\">\r\n                                <input\r\n                                    placeholder=\"Name\"\r\n                                    className=\"form-control mr-3\"\r\n                                    style={{ width: \"9em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleNameChange}\r\n                                    value={this.state.searchName}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"LastName\"\r\n                                    className=\"form-control mr-3\"\r\n                                    style={{ width: \"9em\" }}\r\n                                    type=\"text\"\r\n                                    onChange={this.handleSurnameChange}\r\n                                    value={this.state.searchSurname}\r\n                                />\r\n\r\n                                <input\r\n                                    placeholder=\"Grade from\"\r\n                                    className=\"form-control mr-3\"\r\n                                    style={{ width: \"9em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeFromChange}\r\n                                    value={this.state.searchGradeFrom}\r\n                                />\r\n                                <input\r\n                                    placeholder=\"Grade to\"\r\n                                    className=\"form-control\"\r\n                                    style={{ width: \"9em\" }}\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"5\"\r\n                                    onChange={this.handleGradeToChange}\r\n                                    value={this.state.searchGradeTo}\r\n                                />\r\n\r\n                           \r\n                            </div>\r\n                            <div style={{marginLeft:'1%'}}>\r\n\r\n                                <button\r\n                                    style={{ background: \"#1977cc\" },{marginLeft:'15%'},{marginBottom:'8%'}}\r\n                                    onClick={this.handleSearchClick}\r\n                                    className=\"btn btn-primary btn-x2\"\r\n                                    type=\"button\"\r\n                                        >\r\n                                    <i className=\"icofont-search mr-1\"></i>\r\n                                    Search\r\n                                </button>\r\n                            </div>\r\n\r\n                        </form>\r\n                        <Button style={{marginLeft:\"5%\"}} onClick={() => this.handleAddWorkTimeModal()}>\r\n\t\t\t\t\t\t\tAdd dermatologist\r\n\t\t\t\t\t\t</Button>\r\n                        <div\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tthis.state.showingSearched\r\n\t\t\t\t\t\t\t\t? \"form-group mt-2\"\r\n\t\t\t\t\t\t\t\t: \"form-group mt-2 collapse\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\tonClick={this.handleResetSearch}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"icofont-close-line mr-1\"></i>Reset criteria\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n                         \r\n                    </div>\r\n                    <div>\r\n                    <CardList dermatologists={this.state.dermatologists} pharmacyId={this.state.pharmacyId} /> \r\n           \r\n                    </div>\r\n                    \r\n \r\n                </React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DermatologistsForPhAdmin"]},"metadata":{},"sourceType":"module"}