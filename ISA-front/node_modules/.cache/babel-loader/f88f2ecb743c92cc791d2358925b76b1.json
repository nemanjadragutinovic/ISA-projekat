{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _layouts = require('./layouts');\n\nvar _layouts2 = _interopRequireDefault(_layouts);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/**\n * @class MarkerController\n */\n\n\nvar MarkerController = function () {\n  /**\n   * @constructor\n   * @param  {Number[]} coordinates Marker coordinate\n   * @param  {Object} properties\n   * @param  {Object} options\n   * @param  {HTMLElement} options.markerDOM Marker layout\n   */\n  function MarkerController(coordinates) {\n    var properties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var balloonState = arguments[3];\n\n    _classCallCheck(this, MarkerController);\n\n    this.options = options;\n    this.properties = properties;\n    this.balloonState = balloonState;\n    this._coordinates = coordinates;\n    this._marker = new (_api2.default.getAPI().Placemark)(coordinates, null, null);\n\n    this._setupMarkerProperties();\n\n    this._setupMarkerOptions();\n\n    this.events = this._marker.events.group();\n  }\n  /**\n   * @return {Object} Return marker instance (specific for MAPAPI)\n   */\n\n\n  _createClass(MarkerController, [{\n    key: 'getAPIInstance',\n    value: function getAPIInstance() {\n      return this._marker;\n    }\n    /**\n     * @return {Number[]} Marker coordinates\n     */\n\n  }, {\n    key: 'getCoordinates',\n    value: function getCoordinates() {\n      return this._coordinates;\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(coordinates) {\n      this._marker.geometry.setCoordinates(coordinates);\n    }\n  }, {\n    key: 'setProperty',\n    value: function setProperty(propName, value) {\n      this._marker.properties.set(propName, value);\n    }\n  }, {\n    key: 'setOption',\n    value: function setOption(optName, value) {\n      this._marker.options.set(optName, value);\n    }\n  }, {\n    key: 'setBalloonState',\n    value: function setBalloonState(state) {\n      if (state === 'opened') {\n        if (!this._marker.balloon.isOpen()) {\n          this._marker.balloon.open();\n        }\n      } else {\n        if (this._marker.balloon.isOpen()) {\n          this._marker.balloon.close();\n        }\n      }\n    }\n    /**\n     *\n     * @param {String} name\n     * @param {HTMLElement} element\n     */\n\n  }, {\n    key: 'setLayout',\n    value: function setLayout(name, element) {\n      var layout = void 0;\n\n      if (name === 'iconLayout') {\n        layout = _layouts2.default.createIconLayoutClass(element);\n      } else if (name === 'balloonLayout') {\n        layout = _layouts2.default.createBalloonLayoutClass(element);\n      }\n\n      this._marker.options.set(name, layout);\n    }\n    /**\n     * Destroy marker\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.events.removeAll();\n\n      this._marker.setParent(null);\n\n      this._marker = null;\n    }\n  }, {\n    key: '_setupMarkerProperties',\n    value: function _setupMarkerProperties() {\n      var _this = this;\n\n      var properties = this.properties;\n      Object.keys(properties).forEach(function (propName) {\n        _this.setProperty(propName, properties[propName]);\n      });\n    }\n  }, {\n    key: '_setupMarkerOptions',\n    value: function _setupMarkerOptions() {\n      var _this2 = this;\n\n      var options = this.options;\n      Object.keys(options).forEach(function (optName) {\n        _this2.setOption(optName, options[optName]);\n      });\n    }\n  }]);\n\n  return MarkerController;\n}();\n\nexports.default = MarkerController;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/node_modules/yandex-map-react/lib/controllers/MarkerController.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_api","require","_api2","_interopRequireDefault","_layouts","_layouts2","obj","__esModule","default","_classCallCheck","instance","TypeError","MarkerController","coordinates","properties","arguments","undefined","options","balloonState","_coordinates","_marker","getAPI","Placemark","_setupMarkerProperties","_setupMarkerOptions","events","group","getAPIInstance","getCoordinates","setPosition","geometry","setCoordinates","setProperty","propName","set","setOption","optName","setBalloonState","state","balloon","isOpen","open","close","setLayout","name","element","layout","createIconLayoutClass","createBalloonLayoutClass","destroy","removeAll","setParent","_this","keys","forEach","_this2"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _layouts = require('./layouts');\n\nvar _layouts2 = _interopRequireDefault(_layouts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @class MarkerController\n */\nvar MarkerController = function () {\n    /**\n     * @constructor\n     * @param  {Number[]} coordinates Marker coordinate\n     * @param  {Object} properties\n     * @param  {Object} options\n     * @param  {HTMLElement} options.markerDOM Marker layout\n     */\n    function MarkerController(coordinates) {\n        var properties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var balloonState = arguments[3];\n\n        _classCallCheck(this, MarkerController);\n\n        this.options = options;\n        this.properties = properties;\n        this.balloonState = balloonState;\n        this._coordinates = coordinates;\n        this._marker = new (_api2.default.getAPI().Placemark)(coordinates, null, null);\n        this._setupMarkerProperties();\n        this._setupMarkerOptions();\n        this.events = this._marker.events.group();\n    }\n\n    /**\n     * @return {Object} Return marker instance (specific for MAPAPI)\n     */\n\n\n    _createClass(MarkerController, [{\n        key: 'getAPIInstance',\n        value: function getAPIInstance() {\n            return this._marker;\n        }\n\n        /**\n         * @return {Number[]} Marker coordinates\n         */\n\n    }, {\n        key: 'getCoordinates',\n        value: function getCoordinates() {\n            return this._coordinates;\n        }\n    }, {\n        key: 'setPosition',\n        value: function setPosition(coordinates) {\n            this._marker.geometry.setCoordinates(coordinates);\n        }\n    }, {\n        key: 'setProperty',\n        value: function setProperty(propName, value) {\n            this._marker.properties.set(propName, value);\n        }\n    }, {\n        key: 'setOption',\n        value: function setOption(optName, value) {\n            this._marker.options.set(optName, value);\n        }\n    }, {\n        key: 'setBalloonState',\n        value: function setBalloonState(state) {\n            if (state === 'opened') {\n                if (!this._marker.balloon.isOpen()) {\n                    this._marker.balloon.open();\n                }\n            } else {\n                if (this._marker.balloon.isOpen()) {\n                    this._marker.balloon.close();\n                }\n            }\n        }\n\n        /**\n         *\n         * @param {String} name\n         * @param {HTMLElement} element\n         */\n\n    }, {\n        key: 'setLayout',\n        value: function setLayout(name, element) {\n            var layout = void 0;\n\n            if (name === 'iconLayout') {\n                layout = _layouts2.default.createIconLayoutClass(element);\n            } else if (name === 'balloonLayout') {\n                layout = _layouts2.default.createBalloonLayoutClass(element);\n            }\n\n            this._marker.options.set(name, layout);\n        }\n\n        /**\n         * Destroy marker\n         */\n\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.events.removeAll();\n            this._marker.setParent(null);\n            this._marker = null;\n        }\n    }, {\n        key: '_setupMarkerProperties',\n        value: function _setupMarkerProperties() {\n            var _this = this;\n\n            var properties = this.properties;\n\n            Object.keys(properties).forEach(function (propName) {\n                _this.setProperty(propName, properties[propName]);\n            });\n        }\n    }, {\n        key: '_setupMarkerOptions',\n        value: function _setupMarkerOptions() {\n            var _this2 = this;\n\n            var options = this.options;\n\n            Object.keys(options).forEach(function (optName) {\n                _this2.setOption(optName, options[optName]);\n            });\n        }\n    }]);\n\n    return MarkerController;\n}();\n\nexports.default = MarkerController;"]},"metadata":{},"sourceType":"script"}