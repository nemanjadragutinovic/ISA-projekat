{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar PanoramaController = function () {\n  function PanoramaController(func) {\n    _classCallCheck(this, PanoramaController);\n\n    this._isPanoramas = func;\n  }\n\n  _createClass(PanoramaController, [{\n    key: 'createPanorama',\n    value: function createPanorama(container, state, options) {\n      this._container = container;\n      this._coordinates = state.center;\n      this._options = options;\n      this._panorama = _api2.default.getAPI().panorama;\n      return this;\n    }\n  }, {\n    key: 'locate',\n    value: function locate(showService) {\n      var _this = this;\n\n      if (this.isSupported()) {\n        this._panorama.locate(this._coordinates).done(function (panoramas) {\n          _this._isPanoramas(Boolean(panoramas.length));\n\n          if (showService) {\n            _this.show(panoramas);\n          }\n        }, function (error) {\n          return _this.error(error);\n        });\n      } else {\n        this.error({\n          message: 'Браузер не поддерживается плеером.'\n        });\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show(panoramas) {\n      if (panoramas.length > 0) {\n        var player = new this._panorama.Player(this._container, panoramas[0], this._options);\n        player.events.add('destroy', this.destroy.bind(this));\n      }\n    }\n  }, {\n    key: 'error',\n    value: function error(_error) {\n      console.error(_error.message);\n    }\n  }, {\n    key: 'isSupported',\n    value: function isSupported() {\n      return this._panorama.isSupported();\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._panorama = null;\n\n      if (this._options.parentFunct) {\n        this._options.parentFunct();\n      }\n    }\n  }]);\n\n  return PanoramaController;\n}();\n\nexports.default = PanoramaController;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/node_modules/yandex-map-react/lib/controllers/PanoramaController.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_api","require","_api2","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","TypeError","PanoramaController","func","_isPanoramas","createPanorama","container","state","options","_container","_coordinates","center","_options","_panorama","getAPI","panorama","locate","showService","_this","isSupported","done","panoramas","Boolean","show","error","message","player","Player","events","add","destroy","bind","_error","console","parentFunct"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PanoramaController = function () {\n    function PanoramaController(func) {\n        _classCallCheck(this, PanoramaController);\n\n        this._isPanoramas = func;\n    }\n\n    _createClass(PanoramaController, [{\n        key: 'createPanorama',\n        value: function createPanorama(container, state, options) {\n\n            this._container = container;\n            this._coordinates = state.center;\n            this._options = options;\n            this._panorama = _api2.default.getAPI().panorama;\n\n            return this;\n        }\n    }, {\n        key: 'locate',\n        value: function locate(showService) {\n            var _this = this;\n\n            if (this.isSupported()) {\n                this._panorama.locate(this._coordinates).done(function (panoramas) {\n\n                    _this._isPanoramas(Boolean(panoramas.length));\n\n                    if (showService) {\n                        _this.show(panoramas);\n                    }\n                }, function (error) {\n                    return _this.error(error);\n                });\n            } else {\n                this.error({\n                    message: 'Браузер не поддерживается плеером.'\n                });\n            }\n        }\n    }, {\n        key: 'show',\n        value: function show(panoramas) {\n            if (panoramas.length > 0) {\n                var player = new this._panorama.Player(this._container, panoramas[0], this._options);\n\n                player.events.add('destroy', this.destroy.bind(this));\n            }\n        }\n    }, {\n        key: 'error',\n        value: function error(_error) {\n            console.error(_error.message);\n        }\n    }, {\n        key: 'isSupported',\n        value: function isSupported() {\n            return this._panorama.isSupported();\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this._panorama = null;\n\n            if (this._options.parentFunct) {\n                this._options.parentFunct();\n            }\n        }\n    }]);\n\n    return PanoramaController;\n}();\n\nexports.default = PanoramaController;"]},"metadata":{},"sourceType":"script"}