{"ast":null,"code":"var _jsxFileName = \"E:\\\\aca\\\\isa\\\\nasa-isa\\\\ISA-projekat\\\\ISA-front\\\\src\\\\Components\\\\Modal\\\\ConfirmModal.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass ConfirmModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      hiddenSuccessAlert: true,\n      hiddenUnsuccessAlert: true\n    };\n\n    this.handleRemoveDermatologist = () => {\n      console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\n      console.log(this.props.dermatologistId);\n      let removeDTO = {\n        employeeId: this.props.dermatologistId,\n        pharmacyId: this.props.pharmacyId\n      };\n      Axios.put(API_URL + \"/users/removeDermatologistFromPharmacy\", removeDTO, {\n        validateStatus: () => true,\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          this.setState({\n            hiddenSuccessAlert: false,\n            hiddenUnsuccessAlert: true,\n            successHeader: \"Success\",\n            successMessage: \"You successfully remove dermatologist.\"\n          });\n        } else if (res.status === 400) {\n          this.setState({\n            hiddenSuccessAlert: true,\n            hiddenUnsuccessAlert: false,\n            failHeader: \"Unsuccess\",\n            failMessage: \"Dermatologist has scheduled appointments.\"\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          hiddenSuccessAlert: true,\n          hiddenUnsuccessAlert: false,\n          failHeader: \"Unsuccess\",\n          failMessage: \"It is not possible to remove the dermatologist\"\n        });\n      });\n    };\n\n    this.handleCloseAlertSuccess = () => {\n      this.setState({\n        hiddenSuccessAlert: true\n      });\n      this.props.handleCloseAlert();\n      this.props.updateDermatologists();\n    };\n\n    this.handleCloseUnsuccessAlert = () => {\n      this.setState({\n        hiddenFailAlert: true\n      });\n      this.props.handleCloseAlert();\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    console.log(this.props.show);\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: this.props.show,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          style: {\n            marginLeft: '19%'\n          },\n          children: this.props.header\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(SuccessAlert, {\n            hidden: this.state.hiddenSuccessAlert,\n            header: this.state.successHeader,\n            message: this.state.successMessage,\n            handleCloseAlert: this.handleCloseAlertSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(UnsuccessAlert, {\n            hidden: this.state.hiddenUnsuccessAlert,\n            header: this.state.failHeader,\n            message: this.state.failMessage,\n            handleCloseAlert: this.handleCloseUnsuccessAlert\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure to remove dermatologist?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-secondary\",\n          type: \"button\",\n          onClick: () => this.handleRemoveDermatologist(),\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-secondary\",\n          type: \"button\",\n          onClick: () => this.props.handleCloseAlert(),\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ConfirmModal;","map":{"version":3,"sources":["E:/aca/isa/nasa-isa/ISA-projekat/ISA-front/src/Components/Modal/ConfirmModal.js"],"names":["React","Component","Button","Modal","Axios","GetAuthorisation","SuccessAlert","UnsuccessAlert","API_URL","ConfirmModal","state","hiddenSuccessAlert","hiddenUnsuccessAlert","handleRemoveDermatologist","console","log","localStorage","getItem","props","dermatologistId","removeDTO","employeeId","pharmacyId","put","validateStatus","headers","Authorization","then","res","status","setState","successHeader","successMessage","failHeader","failMessage","catch","err","handleCloseAlertSuccess","handleCloseAlert","updateDermatologists","handleCloseUnsuccessAlert","hiddenFailAlert","componentDidMount","render","show","marginLeft","header"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport SuccessAlert from \"../Alerts/SuccessfulAlert\";\r\nimport UnsuccessAlert from \"../Alerts/UnsuccessfulAlert\";\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass ConfirmModal extends Component {\r\n    state = {\r\n        hiddenSuccessAlert: true,\r\n        hiddenUnsuccessAlert:true,\r\n        \r\n       \r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n \r\n    handleRemoveDermatologist = () =>{\r\n        console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\r\n           console.log(this.props.dermatologistId);        \r\n       \r\n\r\n                    let removeDTO = {\r\n                        employeeId: this.props.dermatologistId,\r\n                        pharmacyId: this.props.pharmacyId,\r\n                    };\r\n                    \r\n                    Axios.put(API_URL + \"/users/removeDermatologistFromPharmacy\",removeDTO, {\r\n                      \r\n                        validateStatus: () => true,\r\n                        headers: { Authorization:  GetAuthorisation() },\r\n                    }).then((res) =>{\r\n                        if (res.status === 200) {\r\n                            this.setState({\r\n                                hiddenSuccessAlert: false,\r\n                                hiddenUnsuccessAlert:true,\r\n                                successHeader: \"Success\",\r\n                                successMessage: \"You successfully remove dermatologist.\"\r\n                            });\r\n                        }else if (res.status === 400){\r\n                            this.setState({ \r\n                                hiddenSuccessAlert: true,\r\n                                hiddenUnsuccessAlert: false, \r\n                                failHeader: \"Unsuccess\", \r\n                                failMessage: \"Dermatologist has scheduled appointments.\"});\r\n                        \r\n                        }\r\n                    }).catch((err) => {\r\n                       \r\n                        console.log(err);\r\n                        this.setState({ \r\n                            hiddenSuccessAlert: true,\r\n                            hiddenUnsuccessAlert: false, \r\n                            failHeader: \"Unsuccess\", \r\n                            failMessage: \"It is not possible to remove the dermatologist\"});\r\n                    });\r\n            \r\n       \r\n    };\r\n\r\n    handleCloseAlertSuccess = () => {\r\n\t\tthis.setState({ hiddenSuccessAlert: true });\r\n        this.props.handleCloseAlert();\r\n        this.props.updateDermatologists();\r\n    };\r\n    \r\n    handleCloseUnsuccessAlert = () => {\r\n\t\tthis.setState({ hiddenFailAlert: true });\r\n        this.props.handleCloseAlert();\r\n\t};\r\n\r\n    render() { \r\n        console.log(this.props.show);\r\n        return ( \r\n            <Modal\r\n                show = {this.props.show}\r\n                centered\r\n                >\r\n                <Modal.Header >\r\n                    <Modal.Title style={{marginLeft:'19%'}} >\r\n                        {this.props.header}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                <div className=\"container\">      \r\n                <SuccessAlert\r\n                            hidden={this.state.hiddenSuccessAlert}\r\n                            header={this.state.successHeader}\r\n                            message={this.state.successMessage}\r\n                            handleCloseAlert={this.handleCloseAlertSuccess}\r\n                        />\r\n                        <UnsuccessAlert\r\n                                hidden={this.state.hiddenUnsuccessAlert}\r\n                                header={this.state.failHeader}\r\n                                message={this.state.failMessage}\r\n                                handleCloseAlert={this.handleCloseUnsuccessAlert}\r\n                        />\r\n                   <p>Are you sure to remove dermatologist?</p>\r\n                </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.handleRemoveDermatologist()}>Yes</button> \r\n                <button type=\"button\" class=\"btn btn-secondary\" type=\"button\" onClick={() => this.props.handleCloseAlert()}>No</button> \r\n\t\t\t\t\r\n                </Modal.Footer>\r\n            </Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default ConfirmModal;"]},"metadata":{},"sourceType":"module"}